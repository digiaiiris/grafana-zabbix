{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:///../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getBorders.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDecorations.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///../node_modules/@popperjs/core/lib/enums.js","webpack:///../node_modules/@popperjs/core/lib/index.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///../node_modules/@popperjs/core/lib/popper.js","webpack:///../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///../node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///../node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///../node_modules/@popperjs/core/lib/utils/format.js","webpack:///../node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///../node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///../node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///../node_modules/@popperjs/core/lib/utils/uniqueBy.js","webpack:///../node_modules/@popperjs/core/lib/utils/validateModifiers.js","webpack:///../node_modules/@popperjs/core/lib/utils/within.js","webpack:///../node_modules/classnames/index.js","webpack:///../node_modules/object-assign/index.js","webpack:///../node_modules/prop-types/checkPropTypes.js","webpack:///../node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///../node_modules/prop-types/index.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///../node_modules/querystringify/index.js","webpack:///../node_modules/react-fast-compare/index.js","webpack:///../node_modules/react-is/cjs/react-is.development.js","webpack:///../node_modules/react-is/index.js","webpack:///../node_modules/react-popper/lib/esm/Manager.js","webpack:///../node_modules/react-popper/lib/esm/Popper.js","webpack:///../node_modules/react-popper/lib/esm/Reference.js","webpack:///../node_modules/react-popper/lib/esm/index.js","webpack:///../node_modules/react-popper/lib/esm/usePopper.js","webpack:///../node_modules/react-popper/lib/esm/utils.js","webpack:///../src/defaultProps.js","webpack:///../src/index.js","webpack:///../src/lifecycle.js","webpack:///../src/methods.js","webpack:///../src/pagination.js","webpack:///../src/propTypes.js","webpack:///../src/utils.js","webpack:///../node_modules/react-transition-group/esm/Transition.js","webpack:///../node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack:///../node_modules/react-transition-group/esm/config.js","webpack:///../node_modules/react-transition-group/esm/utils/PropTypes.js","webpack:///../node_modules/requires-port/index.js","webpack:///../node_modules/url-parse/index.js","webpack:///../node_modules/warning/warning.js","webpack:///../node_modules/webpack/buildin/amd-options.js","webpack:///./components/AckButton/AckButton.tsx","webpack:///./components/ActionButton/ActionButton.tsx","webpack:///./components/ConfigProvider/ConfigProvider.tsx","webpack:///./components/ExecScriptButton/ExecScriptButton.tsx","webpack:///./components/ExploreButton/ExploreButton.tsx","webpack:///./components/FAIcon/FAIcon.tsx","webpack:///./components/GFHeartIcon/GFHeartIcon.tsx","webpack:///./components/Modal/ModalController.tsx","webpack:///./components/Tooltip/Popper.tsx","webpack:///./components/Tooltip/Portal.tsx","webpack:///./components/Tooltip/Tooltip.tsx","webpack:///./components/Tooltip/withPopper.tsx","webpack:///./components/index.ts","webpack:///./datasource-zabbix/constants.ts","webpack:///./datasource-zabbix/types.ts","webpack:///./datasource-zabbix/utils.ts","webpack:///./panel-triggers/components/AckModal.tsx","webpack:///./panel-triggers/components/AlertList/AlertAcknowledges.tsx","webpack:///./panel-triggers/components/AlertList/AlertCard.tsx","webpack:///./panel-triggers/components/AlertList/AlertIcon.tsx","webpack:///./panel-triggers/components/AlertList/AlertList.tsx","webpack:///./panel-triggers/components/AlertList/AlertModal.tsx","webpack:///./panel-triggers/components/AlertList/MaintenanceIcon.tsx","webpack:///./panel-triggers/components/EventTag.tsx","webpack:///./panel-triggers/components/ExecScriptModal.tsx","webpack:///./panel-triggers/components/Problems/AckCell.tsx","webpack:///./panel-triggers/components/Problems/AcknowledgesList.tsx","webpack:///./panel-triggers/components/Problems/ProblemDetails.tsx","webpack:///./panel-triggers/components/Problems/ProblemStatusBar.tsx","webpack:///./panel-triggers/components/Problems/ProblemTimeline.tsx","webpack:///./panel-triggers/components/Problems/Problems.tsx","webpack:///./panel-triggers/localization.ts","webpack:///./panel-triggers/migrations.ts","webpack:///./panel-triggers/module.js","webpack:///./panel-triggers/options_tab.js","webpack:///./panel-triggers/triggers_panel_ctrl.ts","webpack:///./panel-triggers/utils.ts","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/runtime\"","webpack:///external \"@grafana/ui\"","webpack:///external \"emotion\"","webpack:///external \"app/core/utils/datemath\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"lodash\"","webpack:///external \"moment\"","webpack:///external \"react\"","webpack:///external \"react-dom\""],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","keys","key","i","length","indexOf","contains","parent","child","isShadow","Boolean","getRootNode","host","next","isSameNode","parentNode","toNumber","cssValue","parseFloat","getBorders","element","computedStyle","isHTMLElement","getComputedStyle","top","borderTopWidth","right","borderRightWidth","bottom","borderBottomWidth","left","borderLeftWidth","getBoundingClientRect","rect","width","height","x","y","getClientRectFromMixedType","clippingParent","viewport","rectToClientRect","getViewportRect","getDocumentRect","getDocumentElement","getClippingParents","clippingParents","listScrollParents","canEscapeClipping","position","clipperElement","getOffsetParent","isElement","filter","getClippingRect","boundary","rootBoundary","mainClippingParents","concat","firstClippingParent","clippingRect","reduce","accRect","decorations","getDecorations","Math","max","min","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","documentElement","scroll","scrollLeft","scrollTop","offsets","getNodeName","isScrollParent","getNodeScroll","clientLeft","clientTop","getWindowScrollBarX","getWindow","win","borders","isHTML","winScrollBarX","clientWidth","clientHeight","innerHeight","innerWidth","offsetWidth","offsetHeight","ownerDocument","document","winScroll","getWindowScroll","documentRect","getHTMLElementScroll","getLayoutRect","offsetLeft","offsetTop","nodeName","toLowerCase","node","getTrueOffsetParent","window","isTableElement","getParentNode","assignedSlot","getScrollParent","body","visualViewport","test","navigator","platform","toString","defaultView","pageXOffset","pageYOffset","OwnElement","Element","HTMLElement","_getComputedStyle","overflow","overflowX","overflowY","list","scrollParent","isBody","updatedList","auto","basePlacements","start","end","popper","reference","variationPlacements","acc","placement","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","INVALID_ELEMENT_ERROR","INFINITE_LOOP_ERROR","DEFAULT_OPTIONS","modifiers","strategy","areValidElements","_len","arguments","args","Array","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","options","state","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","contextElement","orderModifiers","mergeByName","m","enabled","process","uniqueBy","_ref","name","validateModifiers","getBasePlacement","flipModifier","find","_ref2","console","error","join","marginTop","marginRight","marginBottom","marginLeft","margin","warn","runModifierEffects","update","forceUpdate","_state$elements","rects","reset","forEach","modifier","data","__debug_loops__","index","_state$orderedModifie","fn","_state$orderedModifie2","_options","debounce","Promise","resolve","destroy","then","onFirstUpdate","_ref3","_ref3$options","effect","cleanupFn","noopFn","push","applyStyles","style","value","removeAttribute","setAttribute","initialStyles","arrow","styleProperties","hasOwnProperty","property","attribute","phase","requires","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","getMainAxisFromPlacement","isVertical","len","paddingObject","padding","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","offset","within","axisProp","centerOffset","_options$element","_options$padding","querySelector","mergePaddingObject","expandToHashMap","requiresIfExists","unsetSides","roundOffsets","dpr","devicePixelRatio","round","mapToStyles","_Object$assign2","popperRect","gpuAcceleration","adaptive","_roundOffsets","hasX","hasY","sideX","sideY","commonStyles","_Object$assign","transform","computeStyles","_options$gpuAccelerat","_options$adaptive","transitionProperty","passive","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","getExpandedFallbackPlacements","oppositePlacement","getOppositePlacement","getOppositeVariationPlacement","flip","_skip","_options$mainAxis","mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","altBoundary","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","isBasePlacement","computeAutoPlacement","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","getVariation","detectOverflow","mainVariationSide","altVariationSide","checks","every","check","set","numberOfChecks","_loop","_i","fittingPlacement","get","slice","_ret","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","hide","preventOverflow","referenceOverflow","elementContext","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","distanceAndSkiddingToXY","invertDistance","skidding","distance","_options$offset","_data$state$placement","computeOffsets","_options$tether","tether","_options$tetherOffset","tetherOffset","variation","getAltAxis","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","getFreshSideObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_min","_max","_preventedOffset","eventListeners","_options$allowedAutoP","allPlacements","overflows","sort","a","b","commonX","commonY","floor","ceil","pending","undefined","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","altContext","referenceElement","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","hashMap","format","str","p","c","replace","split","hash","matched","merged","current","existing","map","order","visited","Set","result","add","dep","has","depModifier","arr","identifiers","item","identifier","INVALID_MODIFIER_ERROR","MISSING_DEPENDENCY_ERROR","VALID_PROPERTIES","String","isArray","s","requirement","mod","hasOwn","classNames","classes","arg","argType","inner","apply","call","module","exports","define","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","n","test3","letter","err","from","to","symbols","printWarning","ReactPropTypesSecret","require","loggedTypeFailures","Function","bind","text","message","Error","checkPropTypes","typeSpecs","values","location","componentName","getStack","typeSpecName","ex","stack","resetWarningCache","ReactIs","emptyFunctionThatReturnsNull","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","Symbol","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","func","number","object","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","props","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","isValidElementType","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","JSON","stringify","replacer","type","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","step","entries","done","entry","isSymbol","RegExp","Date","PropTypes","undef","decode","input","decodeURIComponent","e","encode","encodeURIComponent","querystring","query","parser","part","exec","querystringify","obj","prefix","pairs","isNaN","parse","hasElementType","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","it","size","flags","valueOf","$$typeof","isEqual","match","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","typeOf","$$typeofType","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","hasWarnedAboutDeprecatedIsAsyncMode","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","ManagerReferenceNodeContext","React","ManagerReferenceNodeSetterContext","Manager","children","_React$useState","referenceNode","setReferenceNode","Provider","NOOP","NOOP_PROMISE","EMPTY_MODIFIERS","Popper","_ref$placement","_ref$strategy","_ref$modifiers","innerRef","popperElement","setPopperElement","_React$useState2","setArrowElement","setRef","_usePopper","usePopper","childrenProps","ref","arrowProps","unwrapArray","Reference","refHandler","safeInvoke","warning","prevOptions","optionsWithDefaults","setState","updateStateModifier","fromEntries","popperOptions","newOptions","popperInstanceRef","useIsomorphicLayoutEffect","defaultCreatePopper","popperInstance","createElement","emptyObj","resolveData","loading","showPagination","showPaginationTop","showPaginationBottom","showPageSizeOptions","pageSizeOptions","defaultPage","defaultPageSize","showPageJump","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","sortable","multiSort","resizable","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","id","row","defaultSortMethod","onPageChange","onPageSizeChange","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","indexKey","groupedByPivotKey","onFetchData","className","getProps","getTableProps","getTheadGroupProps","getTheadGroupTrProps","getTheadGroupThProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","getTheadFilterThProps","getTbodyProps","getTrGroupProps","getTrProps","getTdProps","getTfootProps","getTfootTrProps","getTfootTdProps","getPaginationProps","getLoadingProps","getNoDataProps","getResizerProps","column","Cell","Header","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","Placeholder","show","minWidth","minResizeWidth","aggregate","headerClassName","headerStyle","getHeaderProps","footerClassName","footerStyle","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","pivotDefaults","previousText","nextText","loadingText","noDataText","pageText","ofText","rowsText","pageJumpText","rowsSelectorText","TableComponent","rest","classnames","TheadComponent","_","TbodyComponent","TrGroupComponent","TrComponent","ThComponent","toggleSort","TdComponent","TfootComponent","FilterComponent","onChange","event","ExpanderComponent","isExpanded","PivotValueComponent","subRows","AggregatedComponent","previewValues","d","PivotComponent","PaginationComponent","PreviousComponent","NextComponent","LoadingComponent","NoDataComponent","ResizerComponent","PadRowComponent","ReactTableDefaults","ReactTable","page","pageSize","sorted","expanded","filtered","resized","currentlyResizing","skipNextSort","resolvedState","manual","pages","SubComponent","resolvedData","allVisibleColumns","headerGroups","hasHeaderGroups","sortedData","startRow","endRow","pageRows","minRows","padRows","hasColumnFooter","hasFilters","recurseRowsViewIndex","path","_viewIndex","newPath","rowWithViewIndex","canPrevious","canNext","rowMinWidth","resizedColumn","rowIndex","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","flex","maxWidth","theadGroupThProps","columnHeaderProps","flexStyles","makeHeaderGroups","theadGroupProps","theadGroupTrProps","makeHeader","resizedCol","theadThProps","isResizable","resizer","isSortable","makeHeaders","theadProps","theadTrProps","makeFilter","theadFilterThProps","ResolvedFilterComponent","isFilterable","defaultProps","makeFilters","theadFilterProps","theadFilterTrProps","makePageRow","rowInfo","original","viewIndex","level","nestingPath","aggregated","groupedByPivot","trGroupProps","trProps","tdProps","columnProps","pivoted","expander","cellInfo","useOnExpanderClick","isBranch","isPreview","onExpanderClick","newExpanded","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","ResolvedPivotComponent","resolvedOnExpanderClick","interactionProps","onClick","i2","makePadColumn","makePadRow","makeColumnFooter","tFootTdProps","columnFooterProps","makeColumnFooters","tFootProps","tFootTrProps","makePagination","paginationProps","isTop","makeTable","Methods","Lifecycle","propTypes","oldState","newState","defaultableOptions","defaultName","resettableOptions","baseName","optionName","newResolvedState","cb","columns","columnsWithExpander","expanderColumn","col2","makeDecoratedColumn","dcol","accessorString","allDecoratedColumns","decorateAndAddToAll","decoratedColumn","decoratedColumns","visibleColumns","visibleSubColumns","pivotIndex","pivotColumns","found","PivotParentColumn","prev","PivotGroupHeader","pivotColumnGroup","currentSpan","addHeader","accessRow","aggregatingColumns","aggregationValues","groupRecursively","groupedRows","rowGroup","sortMethodsByColumnID","filteredData","nextFilter","currentRow","newPage","firstSortDirection","secondSortDirection","newSorted","existingIndex","desc","newFiltering","parentWidth","pageX","startX","currentColumn","newResized","newWidth","isTouch","defaultButton","ReactTablePagination","nextProps","Number","onKeyPress","onBlur","inputType","renderPageJump","renderCurrentPage","renderTotalPagesCount","renderPageSizeOptions","Component","option","takeRight","last","orderBy","range","remove","clone","getFirstDefined","sum","makeTemplateComponent","groupBy","splitProps","compactObject","isSortingDesc","normalizeComponent","asPx","pathObj","makePathArray","keyPart","cursor","funcs","comp","dirs","sortInt","rowA","rowB","r","cmp","resKey","rv","flattenDeep","newArr","newObj","fallback","Comp","isReactComponent","isClassComponent","isFunctionComponent","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","context","_this","parentGroup","appear","isMounting","enter","initialStatus","appearStatus","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","prevState","nextIn","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","timeout","exit","mounting","ReactDOM","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","config","disabled","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExited","onExit","onExiting","cancel","nextState","callback","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","childProps","TransitionGroupContext","Children","only","cloneElement","contextType","pt","timeoutsShape","noop","createContext","classNamesShape","enterDone","enterActive","exitDone","exitActive","required","port","protocol","qs","slashes","protocolre","windowsDriveLetter","whitespace","trimLeft","rules","sanitize","address","url","isSpecial","NaN","ignore","lolcation","loc","globalVar","global","self","finaldestination","Url","unescape","pathname","href","scheme","extractProtocol","forwardSlashes","otherSlashes","slashesCount","relative","base","unshift","up","splice","extracted","instruction","instructions","charAt","hostname","username","password","auth","origin","pop","char","splits","ins","__DEV__","argIndex","condition","loadPluginCss","dark","light","TriggerPanelOptionsCtrl","$scope","editor","panelCtrl","ctrl","panel","layouts","fontSizes","ackFilters","sortingOptions","showEventsFields","triggerPanelOptionsTab","restrict","scope","templateUrl","controller"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAe,SAASA,cAAT,CAAwBC,QAAxB,EAAkCC,UAAlC,EAA8C;AAC3DD,UAAQ,CAACE,SAAT,GAAqBC,MAAM,CAACC,MAAP,CAAcH,UAAU,CAACC,SAAzB,CAArB;AACAF,UAAQ,CAACE,SAAT,CAAmBG,WAAnB,GAAiCL,QAAjC;AACAA,UAAQ,CAACM,SAAT,GAAqBL,UAArB;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAe,SAASM,6BAAT,CAAuCC,MAAvC,EAA+CC,QAA/C,EAAyD;AACtE,MAAID,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AACpB,MAAIE,MAAM,GAAG,EAAb;AACA,MAAIC,UAAU,GAAGR,MAAM,CAACS,IAAP,CAAYJ,MAAZ,CAAjB;AACA,MAAIK,GAAJ,EAASC,CAAT;;AAEA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGH,UAAU,CAACI,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtCD,OAAG,GAAGF,UAAU,CAACG,CAAD,CAAhB;AACA,QAAIL,QAAQ,CAACO,OAAT,CAAiBH,GAAjB,KAAyB,CAA7B,EAAgC;AAChCH,UAAM,CAACG,GAAD,CAAN,GAAcL,MAAM,CAACK,GAAD,CAApB;AACD;;AAED,SAAOH,MAAP;AACD,C;;;;;;;;;;;;ACbD;AAAA;AAAe,SAASO,QAAT,CAAkBC,MAAlB,EAA0BC,KAA1B,EAAiC;AAC9C;AACA,MAAIC,QAAQ,GAAGC,OAAO,CAACF,KAAK,CAACG,WAAN,IAAqBH,KAAK,CAACG,WAAN,GAAoBC,IAA1C,CAAtB,CAF8C,CAEyB;;AAEvE,MAAIL,MAAM,CAACD,QAAP,CAAgBE,KAAhB,CAAJ,EAA4B;AAC1B,WAAO,IAAP;AACD,GAFD,CAEE;AAFF,OAGK,IAAIC,QAAJ,EAAc;AACf,UAAII,IAAI,GAAGL,KAAX;;AAEA,SAAG;AACD,YAAIK,IAAI,IAAIN,MAAM,CAACO,UAAP,CAAkBD,IAAlB,CAAZ,EAAqC;AACnC,iBAAO,IAAP;AACD,SAHA,CAGC;;;AAGFA,YAAI,GAAGA,IAAI,CAACE,UAAL,IAAmBF,IAAI,CAACD,IAA/B;AACD,OAPD,QAOSC,IAPT;AAQD,KAlB2C,CAkB1C;;;AAGJ,SAAO,KAAP;AACD,C;;;;;;;;;;;;ACtBD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASG,QAAT,CAAkBC,QAAlB,EAA4B;AAC1B,SAAOC,UAAU,CAACD,QAAD,CAAV,IAAwB,CAA/B;AACD;;AAEc,SAASE,UAAT,CAAoBC,OAApB,EAA6B;AAC1C,MAAIC,aAAa,GAAGC,oEAAa,CAACF,OAAD,CAAb,GAAyBG,oEAAgB,CAACH,OAAD,CAAzC,GAAqD,EAAzE;AACA,SAAO;AACLI,OAAG,EAAER,QAAQ,CAACK,aAAa,CAACI,cAAf,CADR;AAELC,SAAK,EAAEV,QAAQ,CAACK,aAAa,CAACM,gBAAf,CAFV;AAGLC,UAAM,EAAEZ,QAAQ,CAACK,aAAa,CAACQ,iBAAf,CAHX;AAILC,QAAI,EAAEd,QAAQ,CAACK,aAAa,CAACU,eAAf,CAJT,EAAP;;AAMD,C;;;;;;;;;;;;ACfD;AAAA;AAAe,SAASC,qBAAT,CAA+BZ,OAA/B,EAAwC;AACrD,MAAIa,IAAI,GAAGb,OAAO,CAACY,qBAAR,EAAX;AACA,SAAO;AACLE,SAAK,EAAED,IAAI,CAACC,KADP;AAELC,UAAM,EAAEF,IAAI,CAACE,MAFR;AAGLX,OAAG,EAAES,IAAI,CAACT,GAHL;AAILE,SAAK,EAAEO,IAAI,CAACP,KAJP;AAKLE,UAAM,EAAEK,IAAI,CAACL,MALR;AAMLE,QAAI,EAAEG,IAAI,CAACH,IANN;AAOLM,KAAC,EAAEH,IAAI,CAACH,IAPH;AAQLO,KAAC,EAAEJ,IAAI,CAACT,GARH,EAAP;;AAUD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASc,0BAAT,CAAoClB,OAApC,EAA6CmB,cAA7C,EAA6D;AAC3D,SAAOA,cAAc,KAAKC,kDAAnB,GAA8BC,2EAAgB,CAACC,mEAAe,CAACtB,OAAD,CAAhB,CAA9C,GAA2EE,oEAAa,CAACiB,cAAD,CAAb,GAAgCP,yEAAqB,CAACO,cAAD,CAArD,GAAwEE,2EAAgB,CAACE,mEAAe,CAACC,sEAAkB,CAACxB,OAAD,CAAnB,CAAhB,CAA1K;AACD,C,CAAC;AACF;AACA;;;AAGA,SAASyB,kBAAT,CAA4BzB,OAA5B,EAAqC;AACnC,MAAI0B,eAAe,GAAGC,qEAAiB,CAAC3B,OAAD,CAAvC;AACA,MAAI4B,iBAAiB,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB3C,OAAtB,CAA8BkB,oEAAgB,CAACH,OAAD,CAAhB,CAA0B6B,QAAxD,KAAqE,CAA7F;AACA,MAAIC,cAAc,GAAGF,iBAAiB,IAAI1B,oEAAa,CAACF,OAAD,CAAlC,GAA8C+B,mEAAe,CAAC/B,OAAD,CAA7D,GAAyEA,OAA9F;;AAEA,MAAI,CAACgC,gEAAS,CAACF,cAAD,CAAd,EAAgC;AAC9B,WAAO,EAAP;AACD,GAPkC,CAOjC;;;AAGF,SAAOJ,eAAe,CAACO,MAAhB,CAAuB,UAAUd,cAAV,EAA0B;AACtD,WAAOa,gEAAS,CAACb,cAAD,CAAT,IAA6BjC,6DAAQ,CAACiC,cAAD,EAAiBW,cAAjB,CAA5C;AACD,GAFM,CAAP;AAGD,C,CAAC;AACF;;;AAGe,SAASI,eAAT,CAAyBlC,OAAzB,EAAkCmC,QAAlC,EAA4CC,YAA5C,EAA0D;AACvE,MAAIC,mBAAmB,GAAGF,QAAQ,KAAK,iBAAb,GAAiCV,kBAAkB,CAACzB,OAAD,CAAnD,GAA+D,GAAGsC,MAAH,CAAUH,QAAV,CAAzF;AACA,MAAIT,eAAe,GAAG,GAAGY,MAAH,CAAUD,mBAAV,EAA+B,CAACD,YAAD,CAA/B,CAAtB;AACA,MAAIG,mBAAmB,GAAGb,eAAe,CAAC,CAAD,CAAzC;AACA,MAAIc,YAAY,GAAGd,eAAe,CAACe,MAAhB,CAAuB,UAAUC,OAAV,EAAmBvB,cAAnB,EAAmC;AAC3E,QAAIN,IAAI,GAAGK,0BAA0B,CAAClB,OAAD,EAAUmB,cAAV,CAArC;AACA,QAAIwB,WAAW,GAAGC,kEAAc,CAAC1C,oEAAa,CAACiB,cAAD,CAAb,GAAgCA,cAAhC,GAAiDK,sEAAkB,CAACxB,OAAD,CAApE,CAAhC;AACA0C,WAAO,CAACtC,GAAR,GAAcyC,IAAI,CAACC,GAAL,CAASjC,IAAI,CAACT,GAAL,GAAWuC,WAAW,CAACvC,GAAhC,EAAqCsC,OAAO,CAACtC,GAA7C,CAAd;AACAsC,WAAO,CAACpC,KAAR,GAAgBuC,IAAI,CAACE,GAAL,CAASlC,IAAI,CAACP,KAAL,GAAaqC,WAAW,CAACrC,KAAlC,EAAyCoC,OAAO,CAACpC,KAAjD,CAAhB;AACAoC,WAAO,CAAClC,MAAR,GAAiBqC,IAAI,CAACE,GAAL,CAASlC,IAAI,CAACL,MAAL,GAAcmC,WAAW,CAACnC,MAAnC,EAA2CkC,OAAO,CAAClC,MAAnD,CAAjB;AACAkC,WAAO,CAAChC,IAAR,GAAemC,IAAI,CAACC,GAAL,CAASjC,IAAI,CAACH,IAAL,GAAYiC,WAAW,CAACjC,IAAjC,EAAuCgC,OAAO,CAAChC,IAA/C,CAAf;AACA,WAAOgC,OAAP;AACD,GARkB,EAQhBxB,0BAA0B,CAAClB,OAAD,EAAUuC,mBAAV,CARV,CAAnB;AASAC,cAAY,CAAC1B,KAAb,GAAqB0B,YAAY,CAAClC,KAAb,GAAqBkC,YAAY,CAAC9B,IAAvD;AACA8B,cAAY,CAACzB,MAAb,GAAsByB,YAAY,CAAChC,MAAb,GAAsBgC,YAAY,CAACpC,GAAzD;AACAoC,cAAY,CAACxB,CAAb,GAAiBwB,YAAY,CAAC9B,IAA9B;AACA8B,cAAY,CAACvB,CAAb,GAAiBuB,YAAY,CAACpC,GAA9B;AACA,SAAOoC,YAAP;AACD,C;;;;;;;;;;;;ACvDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;CACkD;AAClD;;AAEe,SAASQ,gBAAT,CAA0BC,uBAA1B,EAAmDC,YAAnD,EAAiEC,OAAjE,EAA0E;AACvF,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,WAAO,GAAG,KAAV;AACD;;AAED,MAAIC,eAAe,GAAG5B,sEAAkB,CAAC0B,YAAD,CAAxC;AACA,MAAIrC,IAAI,GAAGD,yEAAqB,CAACqC,uBAAD,CAAhC;AACA,MAAII,MAAM,GAAG;AACXC,cAAU,EAAE,CADD;AAEXC,aAAS,EAAE,CAFA,EAAb;;AAIA,MAAIC,OAAO,GAAG;AACZxC,KAAC,EAAE,CADS;AAEZC,KAAC,EAAE,CAFS,EAAd;;;AAKA,MAAI,CAACkC,OAAL,EAAc;AACZ,QAAIM,+DAAW,CAACP,YAAD,CAAX,KAA8B,MAA9B,IAAwC;AAC5CQ,sEAAc,CAACN,eAAD,CADd,EACiC;AAC/BC,YAAM,GAAGM,iEAAa,CAACT,YAAD,CAAtB;AACD;;AAED,QAAIhD,oEAAa,CAACgD,YAAD,CAAjB,EAAiC;AAC/BM,aAAO,GAAG5C,yEAAqB,CAACsC,YAAD,CAA/B;AACAM,aAAO,CAACxC,CAAR,IAAakC,YAAY,CAACU,UAA1B;AACAJ,aAAO,CAACvC,CAAR,IAAaiC,YAAY,CAACW,SAA1B;AACD,KAJD,MAIO,IAAIT,eAAJ,EAAqB;AAC1BI,aAAO,CAACxC,CAAR,GAAY8C,uEAAmB,CAACV,eAAD,CAA/B;AACD;AACF;;AAED,SAAO;AACLpC,KAAC,EAAEH,IAAI,CAACH,IAAL,GAAY2C,MAAM,CAACC,UAAnB,GAAgCE,OAAO,CAACxC,CADtC;AAELC,KAAC,EAAEJ,IAAI,CAACT,GAAL,GAAWiD,MAAM,CAACE,SAAlB,GAA8BC,OAAO,CAACvC,CAFpC;AAGLH,SAAK,EAAED,IAAI,CAACC,KAHP;AAILC,UAAM,EAAEF,IAAI,CAACE,MAJR,EAAP;;AAMD,C;;;;;;;;;;;;AC9CD;AAAA;AAAA;AAAA;AACe,SAASZ,gBAAT,CAA0BH,OAA1B,EAAmC;AAChD,SAAO+D,6DAAS,CAAC/D,OAAD,CAAT,CAAmBG,gBAAnB,CAAoCH,OAApC,CAAP;AACD,C;;;;;;;;;;;;ACHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;CAC4D;;AAE7C,SAAS4C,cAAT,CAAwB5C,OAAxB,EAAiC;AAC9C,MAAIgE,GAAG,GAAGD,6DAAS,CAAC/D,OAAD,CAAnB;AACA,MAAIiE,OAAO,GAAGlE,8DAAU,CAACC,OAAD,CAAxB;AACA,MAAIkE,MAAM,GAAGT,+DAAW,CAACzD,OAAD,CAAX,KAAyB,MAAtC;AACA,MAAImE,aAAa,GAAGL,uEAAmB,CAAC9D,OAAD,CAAvC;AACA,MAAIgB,CAAC,GAAGhB,OAAO,CAACoE,WAAR,GAAsBH,OAAO,CAAC3D,KAAtC;AACA,MAAIW,CAAC,GAAGjB,OAAO,CAACqE,YAAR,GAAuBJ,OAAO,CAACzD,MAAvC,CAN8C,CAMC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAI0D,MAAM,IAAIF,GAAG,CAACM,WAAJ,GAAkBtE,OAAO,CAACqE,YAA1B,GAAyC,EAAvD,EAA2D;AACzDpD,KAAC,GAAG+C,GAAG,CAACM,WAAJ,GAAkBL,OAAO,CAACzD,MAA9B;AACD;;AAED,SAAO;AACLJ,OAAG,EAAE8D,MAAM,GAAG,CAAH,GAAOlE,OAAO,CAAC6D,SADrB;AAELvD,SAAK,EAAE;AACPN,WAAO,CAAC4D,UAAR,GAAqBK,OAAO,CAACvD,IAA7B,GAAoCuD,OAAO,CAAC3D,KAA5C,GAAoD;AACpD4D,UAAM,GAAGF,GAAG,CAACO,UAAJ,GAAiBvD,CAAjB,GAAqBmD,aAAxB,GAAwCnE,OAAO,CAACwE,WAAR,GAAsBxD,CAJ/D;AAKLR,UAAM,EAAE0D,MAAM,GAAGF,GAAG,CAACM,WAAJ,GAAkBrD,CAArB,GAAyBjB,OAAO,CAACyE,YAAR,GAAuBxD,CALzD;AAMLP,QAAI,EAAEwD,MAAM,GAAGC,aAAH,GAAmBnE,OAAO,CAAC4D,UANlC,EAAP;;AAQD,C;;;;;;;;;;;;AChCD;AAAA;AAAA;AAAA;AACe,SAASpC,kBAAT,CAA4BxB,OAA5B,EAAqC;AAClD;AACA,SAAO,CAACgC,gEAAS,CAAChC,OAAD,CAAT,GAAqBA,OAAO,CAAC0E,aAA7B,GAA6C1E,OAAO,CAAC2E,QAAtD,EAAgEvB,eAAvE;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe,SAAS7B,eAAT,CAAyBvB,OAAzB,EAAkC;AAC/C,MAAIgE,GAAG,GAAGD,6DAAS,CAAC/D,OAAD,CAAnB;AACA,MAAI4E,SAAS,GAAGC,mEAAe,CAAC7E,OAAD,CAA/B;AACA,MAAI8E,YAAY,GAAG9B,oEAAgB,CAACxB,sEAAkB,CAACxB,OAAD,CAAnB,EAA8BgE,GAA9B,CAAnC;AACAc,cAAY,CAAC/D,MAAb,GAAsB8B,IAAI,CAACC,GAAL,CAASgC,YAAY,CAAC/D,MAAtB,EAA8BiD,GAAG,CAACM,WAAlC,CAAtB;AACAQ,cAAY,CAAChE,KAAb,GAAqB+B,IAAI,CAACC,GAAL,CAASgC,YAAY,CAAChE,KAAtB,EAA6BkD,GAAG,CAACO,UAAjC,CAArB;AACAO,cAAY,CAAC9D,CAAb,GAAiB,CAAC4D,SAAS,CAACtB,UAA5B;AACAwB,cAAY,CAAC7D,CAAb,GAAiB,CAAC2D,SAAS,CAACrB,SAA5B;AACA,SAAOuB,YAAP;AACD,C;;;;;;;;;;;;ACbD;AAAA;AAAe,SAASC,oBAAT,CAA8B/E,OAA9B,EAAuC;AACpD,SAAO;AACLsD,cAAU,EAAEtD,OAAO,CAACsD,UADf;AAELC,aAAS,EAAEvD,OAAO,CAACuD,SAFd,EAAP;;AAID,C;;;;;;;;;;;;ACLD;AAAA;AAAA;AACA;AACe,SAASyB,aAAT,CAAuBhF,OAAvB,EAAgC;AAC7C,SAAO;AACLgB,KAAC,EAAEhB,OAAO,CAACiF,UADN;AAELhE,KAAC,EAAEjB,OAAO,CAACkF,SAFN;AAGLpE,SAAK,EAAEd,OAAO,CAACwE,WAHV;AAILzD,UAAM,EAAEf,OAAO,CAACyE,YAJX,EAAP;;AAMD,C;;;;;;;;;;;;ACTD;AAAA;AAAe,SAAShB,WAAT,CAAqBzD,OAArB,EAA8B;AAC3C,SAAOA,OAAO,GAAG,CAACA,OAAO,CAACmF,QAAR,IAAoB,EAArB,EAAyBC,WAAzB,EAAH,GAA4C,IAA1D;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe,SAASzB,aAAT,CAAuB0B,IAAvB,EAA6B;AAC1C,MAAIA,IAAI,KAAKtB,6DAAS,CAACsB,IAAD,CAAlB,IAA4B,CAACnF,oEAAa,CAACmF,IAAD,CAA9C,EAAsD;AACpD,WAAOR,mEAAe,CAACQ,IAAD,CAAtB;AACD,GAFD,MAEO;AACL,WAAON,wEAAoB,CAACM,IAAD,CAA3B;AACD;AACF,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASC,mBAAT,CAA6BtF,OAA7B,EAAsC;AACpC,MAAI,CAACE,oEAAa,CAACF,OAAD,CAAd,IAA2B;AAC/BG,sEAAgB,CAACH,OAAD,CAAhB,CAA0B6B,QAA1B,KAAuC,OADvC,EACgD;AAC9C,WAAO,IAAP;AACD;;AAED,SAAO7B,OAAO,CAACkD,YAAf;AACD;;AAEc,SAASnB,eAAT,CAAyB/B,OAAzB,EAAkC;AAC/C,MAAIuF,MAAM,GAAGxB,6DAAS,CAAC/D,OAAD,CAAtB;AACA,MAAIkD,YAAY,GAAGoC,mBAAmB,CAACtF,OAAD,CAAtC,CAF+C,CAEE;;AAEjD,SAAOkD,YAAY,IAAIsC,kEAAc,CAACtC,YAAD,CAArC,EAAqD;AACnDA,gBAAY,GAAGoC,mBAAmB,CAACpC,YAAD,CAAlC;AACD;;AAED,MAAIA,YAAY,IAAIO,+DAAW,CAACP,YAAD,CAAX,KAA8B,MAA9C,IAAwD/C,oEAAgB,CAAC+C,YAAD,CAAhB,CAA+BrB,QAA/B,KAA4C,QAAxG,EAAkH;AAChH,WAAO0D,MAAP;AACD;;AAED,SAAOrC,YAAY,IAAIqC,MAAvB;AACD,C;;;;;;;;;;;;AC5BD;AAAA;AAAA;AAAA;AAAA;AACA;AACe,SAASE,aAAT,CAAuBzF,OAAvB,EAAgC;AAC7C,MAAIyD,+DAAW,CAACzD,OAAD,CAAX,KAAyB,MAA7B,EAAqC;AACnC,WAAOA,OAAP;AACD;;AAED,SAAQ;AACNA,WAAO,CAAC0F,YAAR,IAAwB;AACxB1F,WAAO,CAACL,UADR,IACsB;AACtB;AACAK,WAAO,CAACR,IAHR,IAGgB;AAChB;AACAgC,0EAAkB,CAACxB,OAAD,CANpB,CAM8B;AAN9B;;AASD,C;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe,SAAS2F,eAAT,CAAyBN,IAAzB,EAA+B;AAC5C,MAAI,CAAC,MAAD,EAAS,MAAT,EAAiB,WAAjB,EAA8BpG,OAA9B,CAAsCwE,+DAAW,CAAC4B,IAAD,CAAjD,KAA4D,CAAhE,EAAmE;AACjE;AACA,WAAOA,IAAI,CAACX,aAAL,CAAmBkB,IAA1B;AACD;;AAED,MAAI1F,oEAAa,CAACmF,IAAD,CAAb,IAAuB3B,kEAAc,CAAC2B,IAAD,CAAzC,EAAiD;AAC/C,WAAOA,IAAP;AACD;;AAED,SAAOM,eAAe,CAACF,iEAAa,CAACJ,IAAD,CAAd,CAAtB;AACD,C;;;;;;;;;;;;ACfD;AAAA;AAAA;AAAA;AACe,SAAS/D,eAAT,CAAyBtB,OAAzB,EAAkC;AAC/C,MAAIgE,GAAG,GAAGD,6DAAS,CAAC/D,OAAD,CAAnB;AACA,MAAI6F,cAAc,GAAG7B,GAAG,CAAC6B,cAAzB;AACA,MAAI/E,KAAK,GAAGkD,GAAG,CAACO,UAAhB;AACA,MAAIxD,MAAM,GAAGiD,GAAG,CAACM,WAAjB,CAJ+C,CAIjB;AAC9B;AACA;;AAEA,MAAIuB,cAAc,IAAI,mBAAmBC,IAAnB,CAAwBC,SAAS,CAACC,QAAlC,CAAtB,EAAmE;AACjElF,SAAK,GAAG+E,cAAc,CAAC/E,KAAvB;AACAC,UAAM,GAAG8E,cAAc,CAAC9E,MAAxB;AACD;;AAED,SAAO;AACLD,SAAK,EAAEA,KADF;AAELC,UAAM,EAAEA,MAFH;AAGLC,KAAC,EAAE,CAHE;AAILC,KAAC,EAAE,CAJE,EAAP;;AAMD,C;;;;;;;;;;;;ACpBD;AAAA;AAAA;;AAEA;AACe,SAAS8C,SAAT,CAAmBsB,IAAnB,EAAyB;AACtC,MAAIA,IAAI,CAACY,QAAL,OAAoB,iBAAxB,EAA2C;AACzC,QAAIvB,aAAa,GAAGW,IAAI,CAACX,aAAzB;AACA,WAAOA,aAAa,GAAGA,aAAa,CAACwB,WAAjB,GAA+BX,MAAnD;AACD;;AAED,SAAOF,IAAP;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AACe,SAASR,eAAT,CAAyBQ,IAAzB,EAA+B;AAC5C,MAAIrB,GAAG,GAAGD,6DAAS,CAACsB,IAAD,CAAnB;AACA,MAAI/B,UAAU,GAAGU,GAAG,CAACmC,WAArB;AACA,MAAI5C,SAAS,GAAGS,GAAG,CAACoC,WAApB;AACA,SAAO;AACL9C,cAAU,EAAEA,UADP;AAELC,aAAS,EAAEA,SAFN,EAAP;;AAID,C;;;;;;;;;;;;ACTD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACe,SAASO,mBAAT,CAA6B9D,OAA7B,EAAsC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAOY,yEAAqB,CAACY,sEAAkB,CAACxB,OAAD,CAAnB,CAArB,CAAmDU,IAAnD,GAA0DmE,mEAAe,CAAC7E,OAAD,CAAf,CAAyBsD,UAA1F;AACD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AACA;;;AAGA,SAAStB,SAAT,CAAmBqD,IAAnB,EAAyB;AACvB,MAAIgB,UAAU,GAAGtC,6DAAS,CAACsB,IAAD,CAAT,CAAgBiB,OAAjC;AACA,SAAOjB,IAAI,YAAYgB,UAAhB,IAA8BhB,IAAI,YAAYiB,OAArD;AACD;AACD;;;;AAIA,SAASpG,aAAT,CAAuBmF,IAAvB,EAA6B;AAC3B,MAAIgB,UAAU,GAAGtC,6DAAS,CAACsB,IAAD,CAAT,CAAgBkB,WAAjC;AACA,SAAOlB,IAAI,YAAYgB,UAAhB,IAA8BhB,IAAI,YAAYkB,WAArD;AACD;;;;;;;;;;;;;;ACfD;AAAA;AAAA;AAAA;AACe,SAAS7C,cAAT,CAAwB1D,OAAxB,EAAiC;AAC9C;AACA,MAAIwG,iBAAiB,GAAGrG,oEAAgB,CAACH,OAAD,CAAxC;AACIyG,UAAQ,GAAGD,iBAAiB,CAACC,QADjC;AAEIC,WAAS,GAAGF,iBAAiB,CAACE,SAFlC;AAGIC,WAAS,GAAGH,iBAAiB,CAACG,SAHlC;;AAKA,SAAO,6BAA6Bb,IAA7B,CAAkCW,QAAQ,GAAGE,SAAX,GAAuBD,SAAzD,CAAP;AACD,C;;;;;;;;;;;;ACTD;AAAA;AAAA;AAAA;AACe,SAASlB,cAAT,CAAwBxF,OAAxB,EAAiC;AAC9C,SAAO,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsBf,OAAtB,CAA8BwE,+DAAW,CAACzD,OAAD,CAAzC,KAAuD,CAA9D;AACD,C;;;;;;;;;;;;ACHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACe,SAAS2B,iBAAT,CAA2B3B,OAA3B,EAAoC4G,IAApC,EAA0C;AACvD,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnBA,QAAI,GAAG,EAAP;AACD;;AAED,MAAIC,YAAY,GAAGlB,mEAAe,CAAC3F,OAAD,CAAlC;AACA,MAAI8G,MAAM,GAAGrD,+DAAW,CAACoD,YAAD,CAAX,KAA8B,MAA3C;AACA,MAAI7C,GAAG,GAAGD,6DAAS,CAAC8C,YAAD,CAAnB;AACA,MAAIlI,MAAM,GAAGmI,MAAM,GAAG,CAAC9C,GAAD,EAAM1B,MAAN,CAAa0B,GAAG,CAAC6B,cAAJ,IAAsB,EAAnC,EAAuCnC,kEAAc,CAACmD,YAAD,CAAd,GAA+BA,YAA/B,GAA8C,EAArF,CAAH,GAA8FA,YAAjH;AACA,MAAIE,WAAW,GAAGH,IAAI,CAACtE,MAAL,CAAY3D,MAAZ,CAAlB;AACA,SAAOmI,MAAM,GAAGC,WAAH,GAAiB;AAC9BA,aAAW,CAACzE,MAAZ,CAAmBX,iBAAiB,CAAC8D,iEAAa,CAAC9G,MAAD,CAAd,CAApC,CADA;AAED,C;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAIyB,GAAG,GAAG,KAAV;AACA,IAAII,MAAM,GAAG,QAAb;AACA,IAAIF,KAAK,GAAG,OAAZ;AACA,IAAII,IAAI,GAAG,MAAX;AACA,IAAIsG,IAAI,GAAG,MAAX;AACA,IAAIC,cAAc,GAAG,CAAC7G,GAAD,EAAMI,MAAN,EAAcF,KAAd,EAAqBI,IAArB,CAArB;AACA,IAAIwG,KAAK,GAAG,OAAZ;AACA,IAAIC,GAAG,GAAG,KAAV;AACA,IAAIzF,eAAe,GAAG,iBAAtB;AACA,IAAIN,QAAQ,GAAG,UAAf;AACA,IAAIgG,MAAM,GAAG,QAAb;AACA,IAAIC,SAAS,GAAG,WAAhB;AACA,IAAIC,mBAAmB,GAAG,aAAaL,cAAc,CAACxE,MAAf,CAAsB,UAAU8E,GAAV,EAAeC,SAAf,EAA0B;AAC5F,SAAOD,GAAG,CAACjF,MAAJ,CAAW,CAACkF,SAAS,GAAG,GAAZ,GAAkBN,KAAnB,EAA0BM,SAAS,GAAG,GAAZ,GAAkBL,GAA5C,CAAX,CAAP;AACD,CAF6C,EAE3C,EAF2C,CAAvC;AAGA,IAAIM,UAAU,GAAG,aAAa,GAAGnF,MAAH,CAAU2E,cAAV,EAA0B,CAACD,IAAD,CAA1B,EAAkCvE,MAAlC,CAAyC,UAAU8E,GAAV,EAAeC,SAAf,EAA0B;AACtG,SAAOD,GAAG,CAACjF,MAAJ,CAAW,CAACkF,SAAD,EAAYA,SAAS,GAAG,GAAZ,GAAkBN,KAA9B,EAAqCM,SAAS,GAAG,GAAZ,GAAkBL,GAAvD,CAAX,CAAP;AACD,CAFoC,EAElC,EAFkC,CAA9B,C,CAEC;;AAED,IAAIO,UAAU,GAAG,YAAjB;AACA,IAAIC,IAAI,GAAG,MAAX;AACA,IAAIC,SAAS,GAAG,WAAhB,C,CAA6B;;AAE7B,IAAIC,UAAU,GAAG,YAAjB;AACA,IAAIC,IAAI,GAAG,MAAX;AACA,IAAIC,SAAS,GAAG,WAAhB,C,CAA6B;;AAE7B,IAAIC,WAAW,GAAG,aAAlB;AACA,IAAIC,KAAK,GAAG,OAAZ;AACA,IAAIC,UAAU,GAAG,YAAjB;AACA,IAAIC,cAAc,GAAG,CAACT,UAAD,EAAaC,IAAb,EAAmBC,SAAnB,EAA8BC,UAA9B,EAA0CC,IAA1C,EAAgDC,SAAhD,EAA2DC,WAA3D,EAAwEC,KAAxE,EAA+EC,UAA/E,CAArB,C;;;;;;;;;;;;AC9BP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIE,qBAAqB,GAAG,8GAA5B;AACA,IAAIC,mBAAmB,GAAG,+HAA1B;AACA,IAAIC,eAAe,GAAG;AACpBd,WAAS,EAAE,QADS;AAEpBe,WAAS,EAAE,EAFS;AAGpBC,UAAQ,EAAE,UAHU,EAAtB;;;AAMA,SAASC,gBAAT,GAA4B;AAC1B,OAAK,IAAIC,IAAI,GAAGC,SAAS,CAAC3J,MAArB,EAA6B4J,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAV,CAApC,EAAqDI,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGJ,IAA3E,EAAiFI,IAAI,EAArF,EAAyF;AACvFF,QAAI,CAACE,IAAD,CAAJ,GAAaH,SAAS,CAACG,IAAD,CAAtB;AACD;;AAED,SAAO,CAACF,IAAI,CAACG,IAAL,CAAU,UAAU/I,OAAV,EAAmB;AACnC,WAAO,EAAEA,OAAO,IAAI,OAAOA,OAAO,CAACY,qBAAf,KAAyC,UAAtD,CAAP;AACD,GAFO,CAAR;AAGD;;AAEM,SAASoI,eAAT,CAAyBC,gBAAzB,EAA2C;AAChD,MAAIA,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAC/BA,oBAAgB,GAAG,EAAnB;AACD;;AAED,MAAIC,iBAAiB,GAAGD,gBAAxB;AACIE,uBAAqB,GAAGD,iBAAiB,CAACE,gBAD9C;AAEIA,kBAAgB,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAF/D;AAGIE,wBAAsB,GAAGH,iBAAiB,CAACI,cAH/C;AAIIA,gBAAc,GAAGD,sBAAsB,KAAK,KAAK,CAAhC,GAAoCf,eAApC,GAAsDe,sBAJ3E;AAKA,SAAO,SAASE,YAAT,CAAsBlC,SAAtB,EAAiCD,MAAjC,EAAyCoC,OAAzC,EAAkD;AACvD,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,aAAO,GAAGF,cAAV;AACD;;AAED,QAAIG,KAAK,GAAG;AACVjC,eAAS,EAAE,QADD;AAEVkC,sBAAgB,EAAE,EAFR;AAGVF,aAAO,EAAEpL,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBrB,eAAlB,EAAmC,EAAnC,EAAuCgB,cAAvC,CAHC;AAIVM,mBAAa,EAAE,EAJL;AAKVC,cAAQ,EAAE;AACRxC,iBAAS,EAAEA,SADH;AAERD,cAAM,EAAEA,MAFA,EALA;;AASV0C,gBAAU,EAAE,EATF;AAUVC,YAAM,EAAE,EAVE,EAAZ;;AAYA,QAAIC,gBAAgB,GAAG,EAAvB;AACA,QAAIC,WAAW,GAAG,KAAlB;AACA,QAAIC,QAAQ,GAAG;AACbT,WAAK,EAAEA,KADM;AAEbU,gBAAU,EAAE,SAASA,UAAT,CAAoBX,OAApB,EAA6B;AACvCY,8BAAsB;AACtBX,aAAK,CAACD,OAAN,GAAgBpL,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBL,cAAlB,EAAkC,EAAlC,EAAsCG,KAAK,CAACD,OAA5C,EAAqD,EAArD,EAAyDA,OAAzD,CAAhB;AACAC,aAAK,CAACY,aAAN,GAAsB;AACpBhD,mBAAS,EAAErF,2EAAS,CAACqF,SAAD,CAAT,GAAuB1F,+EAAiB,CAAC0F,SAAD,CAAxC,GAAsDA,SAAS,CAACiD,cAAV,GAA2B3I,+EAAiB,CAAC0F,SAAS,CAACiD,cAAX,CAA5C,GAAyE,EADtH;AAEpBlD,gBAAM,EAAEzF,+EAAiB,CAACyF,MAAD,CAFL,EAAtB;AAGG;AACH;;AAEA,YAAIsC,gBAAgB,GAAGa,wEAAc,CAACC,sEAAW,CAAC,GAAGlI,MAAH,CAAU8G,gBAAV,EAA4BK,KAAK,CAACD,OAAN,CAAcjB,SAA1C,CAAD,CAAZ,CAArC,CATuC,CASmE;;AAE1GkB,aAAK,CAACC,gBAAN,GAAyBA,gBAAgB,CAACzH,MAAjB,CAAwB,UAAUwI,CAAV,EAAa;AAC5D,iBAAOA,CAAC,CAACC,OAAT;AACD,SAFwB,CAAzB,CAXuC,CAanC;AACJ;;AAEA,YAAIC,IAAJ,EAA2C;AACzC,cAAIpC,SAAS,GAAGqC,kEAAQ,CAAC,GAAGtI,MAAH,CAAUoH,gBAAV,EAA4BD,KAAK,CAACD,OAAN,CAAcjB,SAA1C,CAAD,EAAuD,UAAUsC,IAAV,EAAgB;AAC7F,gBAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AACA,mBAAOA,IAAP;AACD,WAHuB,CAAxB;AAIAC,qFAAiB,CAACxC,SAAD,CAAjB;;AAEA,cAAIyC,0EAAgB,CAACvB,KAAK,CAACD,OAAN,CAAchC,SAAf,CAAhB,KAA8CR,+CAAlD,EAAwD;AACtD,gBAAIiE,YAAY,GAAGxB,KAAK,CAACC,gBAAN,CAAuBwB,IAAvB,CAA4B,UAAUC,KAAV,EAAiB;AAC9D,kBAAIL,IAAI,GAAGK,KAAK,CAACL,IAAjB;AACA,qBAAOA,IAAI,KAAK,MAAhB;AACD,aAHkB,CAAnB;;AAKA,gBAAI,CAACG,YAAL,EAAmB;AACjBG,qBAAO,CAACC,KAAR,CAAc,CAAC,0DAAD,EAA6D,8BAA7D,EAA6FC,IAA7F,CAAkG,GAAlG,CAAd;AACD;AACF;;AAED,cAAI9E,iBAAiB,GAAGrG,8EAAgB,CAACiH,MAAD,CAAxC;AACImE,mBAAS,GAAG/E,iBAAiB,CAAC+E,SADlC;AAEIC,qBAAW,GAAGhF,iBAAiB,CAACgF,WAFpC;AAGIC,sBAAY,GAAGjF,iBAAiB,CAACiF,YAHrC;AAIIC,oBAAU,GAAGlF,iBAAiB,CAACkF,UAJnC,CAlByC,CAsBM;AAC/C;;;AAGA,cAAI,CAACH,SAAD,EAAYC,WAAZ,EAAyBC,YAAzB,EAAuCC,UAAvC,EAAmD3C,IAAnD,CAAwD,UAAU4C,MAAV,EAAkB;AAC5E,mBAAO7L,UAAU,CAAC6L,MAAD,CAAjB;AACD,WAFG,CAAJ,EAEI;AACFP,mBAAO,CAACQ,IAAR,CAAa,CAAC,6DAAD,EAAgE,2DAAhE,EAA6H,4DAA7H,EAA2L,0DAA3L,EAAuP,YAAvP,EAAqQN,IAArQ,CAA0Q,GAA1Q,CAAb;AACD;AACF;;AAEDO,0BAAkB;AAClB,eAAO3B,QAAQ,CAAC4B,MAAT,EAAP;AACD,OArDY;AAsDb;AACA;AACA;AACA;AACA;AACAC,iBAAW,EAAE,SAASA,WAAT,GAAuB;AAClC,YAAI9B,WAAJ,EAAiB;AACf;AACD;;AAED,YAAI+B,eAAe,GAAGvC,KAAK,CAACI,QAA5B;AACIxC,iBAAS,GAAG2E,eAAe,CAAC3E,SADhC;AAEID,cAAM,GAAG4E,eAAe,CAAC5E,MAF7B,CALkC,CAOG;AACrC;;AAEA,YAAI,CAACqB,gBAAgB,CAACpB,SAAD,EAAYD,MAAZ,CAArB,EAA0C;AACxC,cAAIuD,IAAJ,EAA2C;AACzCS,mBAAO,CAACC,KAAR,CAAcjD,qBAAd;AACD;;AAED;AACD,SAhBiC,CAgBhC;;;AAGFqB,aAAK,CAACwC,KAAN,GAAc;AACZ5E,mBAAS,EAAErE,8EAAgB,CAACqE,SAAD,EAAYtF,6EAAe,CAACqF,MAAD,CAA3B,EAAqCqC,KAAK,CAACD,OAAN,CAAchB,QAAd,KAA2B,OAAhE,CADf;AAEZpB,gBAAM,EAAEpC,2EAAa,CAACoC,MAAD,CAFT,EAAd;AAGG;AACH;AACA;AACA;AACA;;AAEAqC,aAAK,CAACyC,KAAN,GAAc,KAAd;AACAzC,aAAK,CAACjC,SAAN,GAAkBiC,KAAK,CAACD,OAAN,CAAchC,SAAhC,CA7BkC,CA6BS;AAC3C;AACA;AACA;;AAEAiC,aAAK,CAACC,gBAAN,CAAuByC,OAAvB,CAA+B,UAAUC,QAAV,EAAoB;AACjD,iBAAO3C,KAAK,CAACG,aAAN,CAAoBwC,QAAQ,CAACtB,IAA7B,IAAqC1M,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkByC,QAAQ,CAACC,IAA3B,CAA5C;AACD,SAFD;AAGA,YAAIC,eAAe,GAAG,CAAtB;;AAEA,aAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG9C,KAAK,CAACC,gBAAN,CAAuB1K,MAAnD,EAA2DuN,KAAK,EAAhE,EAAoE;AAClE,cAAI5B,IAAJ,EAA2C;AACzC2B,2BAAe,IAAI,CAAnB;;AAEA,gBAAIA,eAAe,GAAG,GAAtB,EAA2B;AACzBlB,qBAAO,CAACC,KAAR,CAAchD,mBAAd;AACA;AACD;AACF;;AAED,cAAIoB,KAAK,CAACyC,KAAN,KAAgB,IAApB,EAA0B;AACxBzC,iBAAK,CAACyC,KAAN,GAAc,KAAd;AACAK,iBAAK,GAAG,CAAC,CAAT;AACA;AACD;;AAED,cAAIC,qBAAqB,GAAG/C,KAAK,CAACC,gBAAN,CAAuB6C,KAAvB,CAA5B;AACIE,YAAE,GAAGD,qBAAqB,CAACC,EAD/B;AAEIC,gCAAsB,GAAGF,qBAAqB,CAAChD,OAFnD;AAGImD,kBAAQ,GAAGD,sBAAsB,KAAK,KAAK,CAAhC,GAAoC,EAApC,GAAyCA,sBAHxD;AAII5B,cAAI,GAAG0B,qBAAqB,CAAC1B,IAJjC;;AAMA,cAAI,OAAO2B,EAAP,KAAc,UAAlB,EAA8B;AAC5BhD,iBAAK,GAAGgD,EAAE,CAAC;AACThD,mBAAK,EAAEA,KADE;AAETD,qBAAO,EAAEmD,QAFA;AAGT7B,kBAAI,EAAEA,IAHG;AAITZ,sBAAQ,EAAEA,QAJD,EAAD,CAAF;AAKFT,iBALN;AAMD;AACF;AACF,OAjIY;AAkIb;AACA;AACAqC,YAAM,EAAEc,kEAAQ,CAAC,YAAY;AAC3B,eAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACpC5C,kBAAQ,CAAC6B,WAAT;AACAe,iBAAO,CAACrD,KAAD,CAAP;AACD,SAHM,CAAP;AAID,OALe,CApIH;AA0IbsD,aAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B3C,8BAAsB;AACtBH,mBAAW,GAAG,IAAd;AACD,OA7IY,EAAf;;;AAgJA,QAAI,CAACxB,gBAAgB,CAACpB,SAAD,EAAYD,MAAZ,CAArB,EAA0C;AACxC,UAAIuD,IAAJ,EAA2C;AACzCS,eAAO,CAACC,KAAR,CAAcjD,qBAAd;AACD;;AAED,aAAO8B,QAAP;AACD;;AAEDA,YAAQ,CAACC,UAAT,CAAoBX,OAApB,EAA6BwD,IAA7B,CAAkC,UAAUvD,KAAV,EAAiB;AACjD,UAAI,CAACQ,WAAD,IAAgBT,OAAO,CAACyD,aAA5B,EAA2C;AACzCzD,eAAO,CAACyD,aAAR,CAAsBxD,KAAtB;AACD;AACF,KAJD,EA3KuD,CA+KnD;AACJ;AACA;AACA;AACA;;AAEA,aAASoC,kBAAT,GAA8B;AAC5BpC,WAAK,CAACC,gBAAN,CAAuByC,OAAvB,CAA+B,UAAUe,KAAV,EAAiB;AAC9C,YAAIpC,IAAI,GAAGoC,KAAK,CAACpC,IAAjB;AACIqC,qBAAa,GAAGD,KAAK,CAAC1D,OAD1B;AAEIA,eAAO,GAAG2D,aAAa,KAAK,KAAK,CAAvB,GAA2B,EAA3B,GAAgCA,aAF9C;AAGIC,cAAM,GAAGF,KAAK,CAACE,MAHnB;;AAKA,YAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;AAChC,cAAIC,SAAS,GAAGD,MAAM,CAAC;AACrB3D,iBAAK,EAAEA,KADc;AAErBqB,gBAAI,EAAEA,IAFe;AAGrBZ,oBAAQ,EAAEA,QAHW;AAIrBV,mBAAO,EAAEA,OAJY,EAAD,CAAtB;;;AAOA,cAAI8D,MAAM,GAAG,SAASA,MAAT,GAAkB,CAAE,CAAjC;;AAEAtD,0BAAgB,CAACuD,IAAjB,CAAsBF,SAAS,IAAIC,MAAnC;AACD;AACF,OAlBD;AAmBD;;AAED,aAASlD,sBAAT,GAAkC;AAChCJ,sBAAgB,CAACmC,OAAjB,CAAyB,UAAUM,EAAV,EAAc;AACrC,eAAOA,EAAE,EAAT;AACD,OAFD;AAGAzC,sBAAgB,GAAG,EAAnB;AACD;;AAED,WAAOE,QAAP;AACD,GAnND;AAoND;AACM,IAAIX,YAAY,GAAG,aAAaP,eAAe,EAA/C,C;;;;;;;;;;;;AC/PP;AAAA;AAAA;AAAA;CAC4D;AAC5D;;AAEA,SAASwE,WAAT,CAAqB3C,IAArB,EAA2B;AACzB,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACArL,QAAM,CAACS,IAAP,CAAY4K,KAAK,CAACI,QAAlB,EAA4BsC,OAA5B,CAAoC,UAAUrB,IAAV,EAAgB;AAClD,QAAI2C,KAAK,GAAGhE,KAAK,CAACM,MAAN,CAAae,IAAb,KAAsB,EAAlC;AACA,QAAIhB,UAAU,GAAGL,KAAK,CAACK,UAAN,CAAiBgB,IAAjB,KAA0B,EAA3C;AACA,QAAI9K,OAAO,GAAGyJ,KAAK,CAACI,QAAN,CAAeiB,IAAf,CAAd,CAHkD,CAGd;;AAEpC,QAAI,CAAC5K,8EAAa,CAACF,OAAD,CAAd,IAA2B,CAACyD,yEAAW,CAACzD,OAAD,CAA3C,EAAsD;AACpD;AACD,KAPiD,CAOhD;AACF;AACA;;;AAGA5B,UAAM,CAACuL,MAAP,CAAc3J,OAAO,CAACyN,KAAtB,EAA6BA,KAA7B;AACArP,UAAM,CAACS,IAAP,CAAYiL,UAAZ,EAAwBqC,OAAxB,CAAgC,UAAUrB,IAAV,EAAgB;AAC9C,UAAI4C,KAAK,GAAG5D,UAAU,CAACgB,IAAD,CAAtB;;AAEA,UAAI4C,KAAK,KAAK,KAAd,EAAqB;AACnB1N,eAAO,CAAC2N,eAAR,CAAwB7C,IAAxB;AACD,OAFD,MAEO;AACL9K,eAAO,CAAC4N,YAAR,CAAqB9C,IAArB,EAA2B4C,KAAK,KAAK,IAAV,GAAiB,EAAjB,GAAsBA,KAAjD;AACD;AACF,KARD;AASD,GAtBD;AAuBD;;AAED,SAASN,MAAT,CAAgBjC,KAAhB,EAAuB;AACrB,MAAI1B,KAAK,GAAG0B,KAAK,CAAC1B,KAAlB;AACA,MAAIoE,aAAa,GAAG;AAClBzG,UAAM,EAAE;AACNvF,cAAQ,EAAE4H,KAAK,CAACD,OAAN,CAAchB,QADlB;AAEN9H,UAAI,EAAE,GAFA;AAGNN,SAAG,EAAE,GAHC;AAINuL,YAAM,EAAE,GAJF,EADU;;AAOlBmC,SAAK,EAAE;AACLjM,cAAQ,EAAE,UADL,EAPW;;AAUlBwF,aAAS,EAAE,EAVO,EAApB;;AAYAjJ,QAAM,CAACuL,MAAP,CAAcF,KAAK,CAACI,QAAN,CAAezC,MAAf,CAAsBqG,KAApC,EAA2CI,aAAa,CAACzG,MAAzD;;AAEA,MAAIqC,KAAK,CAACI,QAAN,CAAeiE,KAAnB,EAA0B;AACxB1P,UAAM,CAACuL,MAAP,CAAcF,KAAK,CAACI,QAAN,CAAeiE,KAAf,CAAqBL,KAAnC,EAA0CI,aAAa,CAACC,KAAxD;AACD;;AAED,SAAO,YAAY;AACjB1P,UAAM,CAACS,IAAP,CAAY4K,KAAK,CAACI,QAAlB,EAA4BsC,OAA5B,CAAoC,UAAUrB,IAAV,EAAgB;AAClD,UAAI9K,OAAO,GAAGyJ,KAAK,CAACI,QAAN,CAAeiB,IAAf,CAAd;AACA,UAAIhB,UAAU,GAAGL,KAAK,CAACK,UAAN,CAAiBgB,IAAjB,KAA0B,EAA3C;AACA,UAAIiD,eAAe,GAAG3P,MAAM,CAACS,IAAP,CAAY4K,KAAK,CAACM,MAAN,CAAaiE,cAAb,CAA4BlD,IAA5B,IAAoCrB,KAAK,CAACM,MAAN,CAAae,IAAb,CAApC,GAAyD+C,aAAa,CAAC/C,IAAD,CAAlF,CAAtB,CAHkD,CAG+D;;AAEjH,UAAI2C,KAAK,GAAGM,eAAe,CAACtL,MAAhB,CAAuB,UAAUgL,KAAV,EAAiBQ,QAAjB,EAA2B;AAC5DR,aAAK,CAACQ,QAAD,CAAL,GAAkB,EAAlB;AACA,eAAOR,KAAP;AACD,OAHW,EAGT,EAHS,CAAZ,CALkD,CAQ1C;;AAER,UAAI,CAACvN,8EAAa,CAACF,OAAD,CAAd,IAA2B,CAACyD,yEAAW,CAACzD,OAAD,CAA3C,EAAsD;AACpD;AACD,OAZiD,CAYhD;AACF;AACA;;;AAGA5B,YAAM,CAACuL,MAAP,CAAc3J,OAAO,CAACyN,KAAtB,EAA6BA,KAA7B;AACArP,YAAM,CAACS,IAAP,CAAYiL,UAAZ,EAAwBqC,OAAxB,CAAgC,UAAU+B,SAAV,EAAqB;AACnDlO,eAAO,CAAC2N,eAAR,CAAwBO,SAAxB;AACD,OAFD;AAGD,KArBD;AAsBD,GAvBD;AAwBD,C,CAAC;;;AAGa;AACbpD,MAAI,EAAE,aADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,OAHM;AAIb1B,IAAE,EAAEe,WAJS;AAKbJ,QAAM,EAAEA,MALK;AAMbgB,UAAQ,EAAE,CAAC,eAAD,CANG,EAAf,E;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAC4D;;AAE5D,SAASN,KAAT,CAAejD,IAAf,EAAqB;AACnB,MAAIwD,qBAAJ;;AAEA,MAAI5E,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACIqB,MAAI,GAAGD,IAAI,CAACC,IADhB;AAEA,MAAIwD,YAAY,GAAG7E,KAAK,CAACI,QAAN,CAAeiE,KAAlC;AACA,MAAIS,aAAa,GAAG9E,KAAK,CAACG,aAAN,CAAoB2E,aAAxC;AACA,MAAIC,aAAa,GAAGxD,0EAAgB,CAACvB,KAAK,CAACjC,SAAP,CAApC;AACA,MAAIiH,IAAI,GAAGC,kFAAwB,CAACF,aAAD,CAAnC;AACA,MAAIG,UAAU,GAAG,CAACjO,8CAAD,EAAOJ,+CAAP,EAAcrB,OAAd,CAAsBuP,aAAtB,KAAwC,CAAzD;AACA,MAAII,GAAG,GAAGD,UAAU,GAAG,QAAH,GAAc,OAAlC;;AAEA,MAAI,CAACL,YAAD,IAAiB,CAACC,aAAtB,EAAqC;AACnC;AACD;;AAED,MAAIM,aAAa,GAAGpF,KAAK,CAACG,aAAN,CAAoBkB,IAAI,GAAG,aAA3B,EAA0CgE,OAA9D;AACA,MAAIC,SAAS,GAAG/J,2EAAa,CAACsJ,YAAD,CAA7B;AACA,MAAIU,OAAO,GAAGP,IAAI,KAAK,GAAT,GAAerO,6CAAf,GAAqBM,8CAAnC;AACA,MAAIuO,OAAO,GAAGR,IAAI,KAAK,GAAT,GAAejO,gDAAf,GAAwBF,+CAAtC;AACA,MAAI4O,OAAO,GAAGzF,KAAK,CAACwC,KAAN,CAAY5E,SAAZ,CAAsBuH,GAAtB,IAA6BnF,KAAK,CAACwC,KAAN,CAAY5E,SAAZ,CAAsBoH,IAAtB,CAA7B,GAA2DF,aAAa,CAACE,IAAD,CAAxE,GAAiFhF,KAAK,CAACwC,KAAN,CAAY7E,MAAZ,CAAmBwH,GAAnB,CAA/F;AACA,MAAIO,SAAS,GAAGZ,aAAa,CAACE,IAAD,CAAb,GAAsBhF,KAAK,CAACwC,KAAN,CAAY5E,SAAZ,CAAsBoH,IAAtB,CAAtC;AACA,MAAIW,iBAAiB,GAAGrN,6EAAe,CAACuM,YAAD,CAAvC;AACA,MAAIe,UAAU,GAAGD,iBAAiB,GAAGX,IAAI,KAAK,GAAT,GAAeW,iBAAiB,CAAC/K,YAAlB,IAAkC,CAAjD,GAAqD+K,iBAAiB,CAAChL,WAAlB,IAAiC,CAAzF,GAA6F,CAA/H;AACA,MAAIkL,iBAAiB,GAAGJ,OAAO,GAAG,CAAV,GAAcC,SAAS,GAAG,CAAlD,CAxBmB,CAwBkC;AACrD;;AAEA,MAAIpM,GAAG,GAAG8L,aAAa,CAACG,OAAD,CAAvB;AACA,MAAIlM,GAAG,GAAGuM,UAAU,GAAGN,SAAS,CAACH,GAAD,CAAtB,GAA8BC,aAAa,CAACI,OAAD,CAArD;AACA,MAAIM,MAAM,GAAGF,UAAU,GAAG,CAAb,GAAiBN,SAAS,CAACH,GAAD,CAAT,GAAiB,CAAlC,GAAsCU,iBAAnD;AACA,MAAIE,MAAM,GAAGC,gEAAM,CAAC1M,GAAD,EAAMwM,MAAN,EAAczM,GAAd,CAAnB,CA9BmB,CA8BoB;;AAEvC,MAAI4M,QAAQ,GAAGjB,IAAf;AACAhF,OAAK,CAACG,aAAN,CAAoBkB,IAApB,KAA6BuD,qBAAqB,GAAG,EAAxB,EAA4BA,qBAAqB,CAACqB,QAAD,CAArB,GAAkCF,MAA9D,EAAsEnB,qBAAqB,CAACsB,YAAtB,GAAqCH,MAAM,GAAGD,MAApH,EAA4HlB,qBAAzJ;AACD;;AAED,SAASjB,MAAT,CAAgBjC,KAAhB,EAAuB;AACrB,MAAI1B,KAAK,GAAG0B,KAAK,CAAC1B,KAAlB;AACID,SAAO,GAAG2B,KAAK,CAAC3B,OADpB;AAEIsB,MAAI,GAAGK,KAAK,CAACL,IAFjB;AAGA,MAAI8E,gBAAgB,GAAGpG,OAAO,CAACxJ,OAA/B;AACIsO,cAAY,GAAGsB,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,qBAA9B,GAAsDA,gBADzE;AAEIC,kBAAgB,GAAGrG,OAAO,CAACsF,OAF/B;AAGIA,SAAO,GAAGe,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,CAA9B,GAAkCA,gBAHhD;;AAKA,MAAIvB,YAAY,IAAI,IAApB,EAA0B;AACxB;AACD,GAXoB,CAWnB;;;AAGF,MAAI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;AACpCA,gBAAY,GAAG7E,KAAK,CAACI,QAAN,CAAezC,MAAf,CAAsB0I,aAAtB,CAAoCxB,YAApC,CAAf;;AAEA,QAAI,CAACA,YAAL,EAAmB;AACjB;AACD;AACF;;AAED,MAAI3D,IAAJ,EAA2C;AACzC,QAAI,CAACzK,8EAAa,CAACoO,YAAD,CAAlB,EAAkC;AAChClD,aAAO,CAACC,KAAR,CAAc,CAAC,qEAAD,EAAwE,qEAAxE,EAA+I,YAA/I,EAA6JC,IAA7J,CAAkK,GAAlK,CAAd;AACD;AACF;;AAED,MAAI,CAACpM,sEAAQ,CAACuK,KAAK,CAACI,QAAN,CAAezC,MAAhB,EAAwBkH,YAAxB,CAAb,EAAoD;AAClD,QAAI3D,IAAJ,EAA2C;AACzCS,aAAO,CAACC,KAAR,CAAc,CAAC,qEAAD,EAAwE,UAAxE,EAAoFC,IAApF,CAAyF,GAAzF,CAAd;AACD;;AAED;AACD;;AAED7B,OAAK,CAACI,QAAN,CAAeiE,KAAf,GAAuBQ,YAAvB;AACA7E,OAAK,CAACG,aAAN,CAAoBkB,IAAI,GAAG,aAA3B,IAA4C;AAC1CgE,WAAO,EAAEiB,4EAAkB,CAAC,OAAOjB,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwCkB,yEAAe,CAAClB,OAAD,EAAU7H,wDAAV,CAAxD,CADe,EAA5C;;AAGD,C,CAAC;;;AAGa;AACb6D,MAAI,EAAE,OADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIb1B,IAAE,EAAEqB,KAJS;AAKbV,QAAM,EAAEA,MALK;AAMbgB,UAAQ,EAAE,CAAC,eAAD,CANG;AAOb6B,kBAAgB,EAAE,CAAC,iBAAD,CAPL,EAAf,E;;;;;;;;;;;;AC1FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;CAC6D;;AAE7D,IAAIC,UAAU,GAAG;AACf9P,KAAG,EAAE,MADU;AAEfE,OAAK,EAAE,MAFQ;AAGfE,QAAM,EAAE,MAHO;AAIfE,MAAI,EAAE,MAJS,EAAjB;AAKG;AACH;AACA;;AAEA,SAASyP,YAAT,CAAsBtF,IAAtB,EAA4B;AAC1B,MAAI7J,CAAC,GAAG6J,IAAI,CAAC7J,CAAb;AACIC,GAAC,GAAG4J,IAAI,CAAC5J,CADb;AAEA,MAAI+C,GAAG,GAAGuB,MAAV;AACA,MAAI6K,GAAG,GAAGpM,GAAG,CAACqM,gBAAJ,IAAwB,CAAlC;AACA,SAAO;AACLrP,KAAC,EAAE6B,IAAI,CAACyN,KAAL,CAAWtP,CAAC,GAAGoP,GAAf,IAAsBA,GAAtB,IAA6B,CAD3B;AAELnP,KAAC,EAAE4B,IAAI,CAACyN,KAAL,CAAWrP,CAAC,GAAGmP,GAAf,IAAsBA,GAAtB,IAA6B,CAF3B,EAAP;;AAID;;AAEM,SAASG,WAAT,CAAqBpF,KAArB,EAA4B;AACjC,MAAIqF,eAAJ;;AAEA,MAAIpJ,MAAM,GAAG+D,KAAK,CAAC/D,MAAnB;AACIqJ,YAAU,GAAGtF,KAAK,CAACsF,UADvB;AAEIjJ,WAAS,GAAG2D,KAAK,CAAC3D,SAFtB;AAGIhE,SAAO,GAAG2H,KAAK,CAAC3H,OAHpB;AAII3B,UAAQ,GAAGsJ,KAAK,CAACtJ,QAJrB;AAKI6O,iBAAe,GAAGvF,KAAK,CAACuF,eAL5B;AAMIC,UAAQ,GAAGxF,KAAK,CAACwF,QANrB;;AAQA,MAAIC,aAAa,GAAGT,YAAY,CAAC3M,OAAD,CAAhC;AACIxC,GAAC,GAAG4P,aAAa,CAAC5P,CADtB;AAEIC,GAAC,GAAG2P,aAAa,CAAC3P,CAFtB;;AAIA,MAAI4P,IAAI,GAAGrN,OAAO,CAACwK,cAAR,CAAuB,GAAvB,CAAX;AACA,MAAI8C,IAAI,GAAGtN,OAAO,CAACwK,cAAR,CAAuB,GAAvB,CAAX;AACA,MAAI+C,KAAK,GAAGrQ,8CAAZ;AACA,MAAIsQ,KAAK,GAAG5Q,6CAAZ;AACA,MAAI4D,GAAG,GAAGuB,MAAV;;AAEA,MAAIoL,QAAJ,EAAc;AACZ,QAAIzN,YAAY,GAAGnB,6EAAe,CAACqF,MAAD,CAAlC;;AAEA,QAAIlE,YAAY,KAAKa,uEAAS,CAACqD,MAAD,CAA9B,EAAwC;AACtClE,kBAAY,GAAG1B,gFAAkB,CAAC4F,MAAD,CAAjC;AACD,KALW,CAKV;;AAEF;;;AAGA,QAAII,SAAS,KAAKpH,6CAAlB,EAAuB;AACrB4Q,WAAK,GAAGxQ,gDAAR;AACAS,OAAC,IAAIiC,YAAY,CAACmB,YAAb,GAA4BoM,UAAU,CAAC1P,MAA5C;AACAE,OAAC,IAAIyP,eAAe,GAAG,CAAH,GAAO,CAAC,CAA5B;AACD;;AAED,QAAIlJ,SAAS,KAAK9G,8CAAlB,EAAwB;AACtBqQ,WAAK,GAAGzQ,+CAAR;AACAU,OAAC,IAAIkC,YAAY,CAACkB,WAAb,GAA2BqM,UAAU,CAAC3P,KAA3C;AACAE,OAAC,IAAI0P,eAAe,GAAG,CAAH,GAAO,CAAC,CAA5B;AACD;AACF;;AAED,MAAIO,YAAY,GAAG7S,MAAM,CAACuL,MAAP,CAAc;AAC/B9H,YAAQ,EAAEA,QADqB,EAAd;AAEhB8O,UAAQ,IAAIT,UAFI,CAAnB;;AAIA,MAAIQ,eAAJ,EAAqB;AACnB,QAAIQ,cAAJ;;AAEA,WAAO9S,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsH,YAAlB,GAAiCC,cAAc,GAAG,EAAjB,EAAqBA,cAAc,CAACF,KAAD,CAAd,GAAwBF,IAAI,GAAG,GAAH,GAAS,EAA1D,EAA8DI,cAAc,CAACH,KAAD,CAAd,GAAwBF,IAAI,GAAG,GAAH,GAAS,EAAnG,EAAuGK,cAAc,CAACC,SAAf,GAA2B,CAACnN,GAAG,CAACqM,gBAAJ,IAAwB,CAAzB,IAA8B,CAA9B,GAAkC,eAAerP,CAAf,GAAmB,MAAnB,GAA4BC,CAA5B,GAAgC,KAAlE,GAA0E,iBAAiBD,CAAjB,GAAqB,MAArB,GAA8BC,CAA9B,GAAkC,QAA9O,EAAwPiQ,cAAzR,EAAP;AACD;;AAED,SAAO9S,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsH,YAAlB,GAAiCT,eAAe,GAAG,EAAlB,EAAsBA,eAAe,CAACQ,KAAD,CAAf,GAAyBF,IAAI,GAAG7P,CAAC,GAAG,IAAP,GAAc,EAAjE,EAAqEuP,eAAe,CAACO,KAAD,CAAf,GAAyBF,IAAI,GAAG7P,CAAC,GAAG,IAAP,GAAc,EAAhH,EAAoHwP,eAAe,CAACW,SAAhB,GAA4B,EAAhJ,EAAoJX,eAArL,EAAP;AACD;;AAED,SAASY,aAAT,CAAuBlE,KAAvB,EAA8B;AAC5B,MAAIzD,KAAK,GAAGyD,KAAK,CAACzD,KAAlB;AACID,SAAO,GAAG0D,KAAK,CAAC1D,OADpB;AAEA,MAAI6H,qBAAqB,GAAG7H,OAAO,CAACkH,eAApC;AACIA,iBAAe,GAAGW,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBADhE;AAEIC,mBAAiB,GAAG9H,OAAO,CAACmH,QAFhC;AAGIA,UAAQ,GAAGW,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,IAA/B,GAAsCA,iBAHrD;;AAKA,MAAI3G,IAAJ,EAA2C;AACzC,QAAI4G,kBAAkB,GAAGpR,8EAAgB,CAACsJ,KAAK,CAACI,QAAN,CAAezC,MAAhB,CAAhB,CAAwCmK,kBAAxC,IAA8D,EAAvF;;AAEA,QAAIZ,QAAQ,IAAI,CAAC,WAAD,EAAc,KAAd,EAAqB,OAArB,EAA8B,QAA9B,EAAwC,MAAxC,EAAgD5H,IAAhD,CAAqD,UAAUkF,QAAV,EAAoB;AACvF,aAAOsD,kBAAkB,CAACtS,OAAnB,CAA2BgP,QAA3B,KAAwC,CAA/C;AACD,KAFe,CAAhB,EAEI;AACF7C,aAAO,CAACQ,IAAR,CAAa,CAAC,mEAAD,EAAsE,gEAAtE,EAAwI,MAAxI,EAAgJ,oEAAhJ,EAAsN,iEAAtN,EAAyR,oEAAzR,EAA+V,0CAA/V,EAA2Y,MAA3Y,EAAmZ,oEAAnZ,EAAyd,qEAAzd,EAAgiBN,IAAhiB,CAAqiB,GAAriB,CAAb;AACD;AACF;;AAED,MAAI2F,YAAY,GAAG;AACjBzJ,aAAS,EAAEwD,0EAAgB,CAACvB,KAAK,CAACjC,SAAP,CADV;AAEjBJ,UAAM,EAAEqC,KAAK,CAACI,QAAN,CAAezC,MAFN;AAGjBqJ,cAAU,EAAEhH,KAAK,CAACwC,KAAN,CAAY7E,MAHP;AAIjBsJ,mBAAe,EAAEA,eAJA,EAAnB;;;AAOA,MAAIjH,KAAK,CAACG,aAAN,CAAoB2E,aAApB,IAAqC,IAAzC,EAA+C;AAC7C9E,SAAK,CAACM,MAAN,CAAa3C,MAAb,GAAsBhJ,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBF,KAAK,CAACM,MAAN,CAAa3C,MAA/B,EAAuC,EAAvC,EAA2CmJ,WAAW,CAACnS,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsH,YAAlB,EAAgC;AAC3GzN,aAAO,EAAEiG,KAAK,CAACG,aAAN,CAAoB2E,aAD8E;AAE3G1M,cAAQ,EAAE4H,KAAK,CAACD,OAAN,CAAchB,QAFmF;AAG3GmI,cAAQ,EAAEA,QAHiG,EAAhC,CAAD,CAAtD,CAAtB;;AAKD;;AAED,MAAIlH,KAAK,CAACG,aAAN,CAAoBkE,KAApB,IAA6B,IAAjC,EAAuC;AACrCrE,SAAK,CAACM,MAAN,CAAa+D,KAAb,GAAqB1P,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBF,KAAK,CAACM,MAAN,CAAa+D,KAA/B,EAAsC,EAAtC,EAA0CyC,WAAW,CAACnS,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsH,YAAlB,EAAgC;AACzGzN,aAAO,EAAEiG,KAAK,CAACG,aAAN,CAAoBkE,KAD4E;AAEzGjM,cAAQ,EAAE,UAF+F;AAGzG8O,cAAQ,EAAE,KAH+F,EAAhC,CAAD,CAArD,CAArB;;AAKD;;AAEDlH,OAAK,CAACK,UAAN,CAAiB1C,MAAjB,GAA0BhJ,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBF,KAAK,CAACK,UAAN,CAAiB1C,MAAnC,EAA2C;AACnE,6BAAyBqC,KAAK,CAACjC,SADoC,EAA3C,CAA1B;;AAGD,C,CAAC;;;AAGa;AACbsD,MAAI,EAAE,eADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,aAHM;AAIb1B,IAAE,EAAE2E,aAJS;AAKb/E,MAAI,EAAE,EALO,EAAf,E;;;;;;;;;;;;ACnIA;AAAA;CAAmD;;AAEnD,IAAImF,OAAO,GAAG;AACZA,SAAO,EAAE,IADG,EAAd;;;AAIA,SAASpE,MAAT,CAAgBvC,IAAhB,EAAsB;AACpB,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACIS,UAAQ,GAAGW,IAAI,CAACX,QADpB;AAEIV,SAAO,GAAGqB,IAAI,CAACrB,OAFnB;AAGA,MAAIiI,eAAe,GAAGjI,OAAO,CAACnG,MAA9B;AACIA,QAAM,GAAGoO,eAAe,KAAK,KAAK,CAAzB,GAA6B,IAA7B,GAAoCA,eADjD;AAEIC,iBAAe,GAAGlI,OAAO,CAACmI,MAF9B;AAGIA,QAAM,GAAGD,eAAe,KAAK,KAAK,CAAzB,GAA6B,IAA7B,GAAoCA,eAHjD;AAIA,MAAInM,MAAM,GAAGxB,uEAAS,CAAC0F,KAAK,CAACI,QAAN,CAAezC,MAAhB,CAAtB;AACA,MAAIiD,aAAa,GAAG,GAAG/H,MAAH,CAAUmH,KAAK,CAACY,aAAN,CAAoBhD,SAA9B,EAAyCoC,KAAK,CAACY,aAAN,CAAoBjD,MAA7D,CAApB;;AAEA,MAAI/D,MAAJ,EAAY;AACVgH,iBAAa,CAAC8B,OAAd,CAAsB,UAAUtF,YAAV,EAAwB;AAC5CA,kBAAY,CAAC+K,gBAAb,CAA8B,QAA9B,EAAwC1H,QAAQ,CAAC4B,MAAjD,EAAyD0F,OAAzD;AACD,KAFD;AAGD;;AAED,MAAIG,MAAJ,EAAY;AACVpM,UAAM,CAACqM,gBAAP,CAAwB,QAAxB,EAAkC1H,QAAQ,CAAC4B,MAA3C,EAAmD0F,OAAnD;AACD;;AAED,SAAO,YAAY;AACjB,QAAInO,MAAJ,EAAY;AACVgH,mBAAa,CAAC8B,OAAd,CAAsB,UAAUtF,YAAV,EAAwB;AAC5CA,oBAAY,CAACgL,mBAAb,CAAiC,QAAjC,EAA2C3H,QAAQ,CAAC4B,MAApD,EAA4D0F,OAA5D;AACD,OAFD;AAGD;;AAED,QAAIG,MAAJ,EAAY;AACVpM,YAAM,CAACsM,mBAAP,CAA2B,QAA3B,EAAqC3H,QAAQ,CAAC4B,MAA9C,EAAsD0F,OAAtD;AACD;AACF,GAVD;AAWD,C,CAAC;;;AAGa;AACb1G,MAAI,EAAE,gBADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,OAHM;AAIb1B,IAAE,EAAE,SAASA,EAAT,GAAc,CAAE,CAJP;AAKbW,QAAM,EAAEA,MALK;AAMbf,MAAI,EAAE,EANO,EAAf,E;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;CACqD;;AAErD,SAASyF,6BAAT,CAAuCtK,SAAvC,EAAkD;AAChD,MAAIwD,0EAAgB,CAACxD,SAAD,CAAhB,KAAgCR,8CAApC,EAA0C;AACxC,WAAO,EAAP;AACD;;AAED,MAAI+K,iBAAiB,GAAGC,8EAAoB,CAACxK,SAAD,CAA5C;AACA,SAAO,CAACyK,uFAA6B,CAACzK,SAAD,CAA9B,EAA2CuK,iBAA3C,EAA8DE,uFAA6B,CAACF,iBAAD,CAA3F,CAAP;AACD;;AAED,SAASG,IAAT,CAAcrH,IAAd,EAAoB;AAClB,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACID,SAAO,GAAGqB,IAAI,CAACrB,OADnB;AAEIsB,MAAI,GAAGD,IAAI,CAACC,IAFhB;;AAIA,MAAIrB,KAAK,CAACG,aAAN,CAAoBkB,IAApB,EAA0BqH,KAA9B,EAAqC;AACnC;AACD;;AAED,MAAIC,iBAAiB,GAAG5I,OAAO,CAAC6I,QAAhC;AACIC,eAAa,GAAGF,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,IAA/B,GAAsCA,iBAD1D;AAEIG,kBAAgB,GAAG/I,OAAO,CAACgJ,OAF/B;AAGIC,cAAY,GAAGF,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,IAA9B,GAAqCA,gBAHxD;AAIIG,6BAA2B,GAAGlJ,OAAO,CAACmJ,kBAJ1C;AAKI7D,SAAO,GAAGtF,OAAO,CAACsF,OALtB;AAMI3M,UAAQ,GAAGqH,OAAO,CAACrH,QANvB;AAOIC,cAAY,GAAGoH,OAAO,CAACpH,YAP3B;AAQIwQ,aAAW,GAAGpJ,OAAO,CAACoJ,WAR1B;AASIC,uBAAqB,GAAGrJ,OAAO,CAACsJ,cATpC;AAUIA,gBAAc,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBAV/D;AAWIE,uBAAqB,GAAGvJ,OAAO,CAACuJ,qBAXpC;AAYA,MAAIC,kBAAkB,GAAGvJ,KAAK,CAACD,OAAN,CAAchC,SAAvC;AACA,MAAIgH,aAAa,GAAGxD,0EAAgB,CAACgI,kBAAD,CAApC;AACA,MAAIC,eAAe,GAAGzE,aAAa,KAAKwE,kBAAxC;AACA,MAAIL,kBAAkB,GAAGD,2BAA2B,KAAKO,eAAe,IAAI,CAACH,cAApB,GAAqC,CAACd,8EAAoB,CAACgB,kBAAD,CAArB,CAArC,GAAkFlB,6BAA6B,CAACkB,kBAAD,CAApH,CAApD;AACA,MAAIvL,UAAU,GAAG,CAACuL,kBAAD,EAAqB1Q,MAArB,CAA4BqQ,kBAA5B,EAAgDlQ,MAAhD,CAAuD,UAAU8E,GAAV,EAAeC,SAAf,EAA0B;AAChG,WAAOD,GAAG,CAACjF,MAAJ,CAAW0I,0EAAgB,CAACxD,SAAD,CAAhB,KAAgCR,8CAAhC,GAAuCkM,8EAAoB,CAACzJ,KAAD,EAAQ;AACnFjC,eAAS,EAAEA,SADwE;AAEnFrF,cAAQ,EAAEA,QAFyE;AAGnFC,kBAAY,EAAEA,YAHqE;AAInF0M,aAAO,EAAEA,OAJ0E;AAKnFgE,oBAAc,EAAEA,cALmE;AAMnFC,2BAAqB,EAAEA,qBAN4D,EAAR,CAA3D;AAObvL,aAPE,CAAP;AAQD,GATgB,EASd,EATc,CAAjB;AAUA,MAAI2L,aAAa,GAAG1J,KAAK,CAACwC,KAAN,CAAY5E,SAAhC;AACA,MAAIoJ,UAAU,GAAGhH,KAAK,CAACwC,KAAN,CAAY7E,MAA7B;AACA,MAAIgM,SAAS,GAAG,IAAIC,GAAJ,EAAhB;AACA,MAAIC,kBAAkB,GAAG,IAAzB;AACA,MAAIC,qBAAqB,GAAG9L,UAAU,CAAC,CAAD,CAAtC;;AAEA,OAAK,IAAI1I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0I,UAAU,CAACzI,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AAC1C,QAAIyI,SAAS,GAAGC,UAAU,CAAC1I,CAAD,CAA1B;;AAEA,QAAIyU,cAAc,GAAGxI,0EAAgB,CAACxD,SAAD,CAArC;;AAEA,QAAIiM,gBAAgB,GAAGC,sEAAY,CAAClM,SAAD,CAAZ,KAA4BN,+CAAnD;AACA,QAAIyH,UAAU,GAAG,CAACvO,6CAAD,EAAMI,gDAAN,EAAcvB,OAAd,CAAsBuU,cAAtB,KAAyC,CAA1D;AACA,QAAI5E,GAAG,GAAGD,UAAU,GAAG,OAAH,GAAa,QAAjC;AACA,QAAIlI,QAAQ,GAAGkN,wEAAc,CAAClK,KAAD,EAAQ;AACnCjC,eAAS,EAAEA,SADwB;AAEnCrF,cAAQ,EAAEA,QAFyB;AAGnCC,kBAAY,EAAEA,YAHqB;AAInCwQ,iBAAW,EAAEA,WAJsB;AAKnC9D,aAAO,EAAEA,OAL0B,EAAR,CAA7B;;AAOA,QAAI8E,iBAAiB,GAAGjF,UAAU,GAAG8E,gBAAgB,GAAGnT,+CAAH,GAAWI,8CAA9B,GAAqC+S,gBAAgB,GAAGjT,gDAAH,GAAYJ,6CAAnG;;AAEA,QAAI+S,aAAa,CAACvE,GAAD,CAAb,GAAqB6B,UAAU,CAAC7B,GAAD,CAAnC,EAA0C;AACxCgF,uBAAiB,GAAG5B,8EAAoB,CAAC4B,iBAAD,CAAxC;AACD;;AAED,QAAIC,gBAAgB,GAAG7B,8EAAoB,CAAC4B,iBAAD,CAA3C;AACA,QAAIE,MAAM,GAAG,EAAb;;AAEA,QAAIxB,aAAJ,EAAmB;AACjBwB,YAAM,CAACvG,IAAP,CAAY9G,QAAQ,CAAC+M,cAAD,CAAR,IAA4B,CAAxC;AACD;;AAED,QAAIf,YAAJ,EAAkB;AAChBqB,YAAM,CAACvG,IAAP,CAAY9G,QAAQ,CAACmN,iBAAD,CAAR,IAA+B,CAA3C,EAA8CnN,QAAQ,CAACoN,gBAAD,CAAR,IAA8B,CAA5E;AACD;;AAED,QAAIC,MAAM,CAACC,KAAP,CAAa,UAAUC,KAAV,EAAiB;AAChC,aAAOA,KAAP;AACD,KAFG,CAAJ,EAEI;AACFT,2BAAqB,GAAG/L,SAAxB;AACA8L,wBAAkB,GAAG,KAArB;AACA;AACD;;AAEDF,aAAS,CAACa,GAAV,CAAczM,SAAd,EAAyBsM,MAAzB;AACD;;AAED,MAAIR,kBAAJ,EAAwB;AACtB;AACA,QAAIY,cAAc,GAAGpB,cAAc,GAAG,CAAH,GAAO,CAA1C;;AAEA,QAAIqB,KAAK,GAAG,SAASA,KAAT,CAAeC,EAAf,EAAmB;AAC7B,UAAIC,gBAAgB,GAAG5M,UAAU,CAACyD,IAAX,CAAgB,UAAU1D,SAAV,EAAqB;AAC1D,YAAIsM,MAAM,GAAGV,SAAS,CAACkB,GAAV,CAAc9M,SAAd,CAAb;;AAEA,YAAIsM,MAAJ,EAAY;AACV,iBAAOA,MAAM,CAACS,KAAP,CAAa,CAAb,EAAgBH,EAAhB,EAAoBL,KAApB,CAA0B,UAAUC,KAAV,EAAiB;AAChD,mBAAOA,KAAP;AACD,WAFM,CAAP;AAGD;AACF,OARsB,CAAvB;;AAUA,UAAIK,gBAAJ,EAAsB;AACpBd,6BAAqB,GAAGc,gBAAxB;AACA,eAAO,OAAP;AACD;AACF,KAfD;;AAiBA,SAAK,IAAID,EAAE,GAAGF,cAAd,EAA8BE,EAAE,GAAG,CAAnC,EAAsCA,EAAE,EAAxC,EAA4C;AAC1C,UAAII,IAAI,GAAGL,KAAK,CAACC,EAAD,CAAhB;;AAEA,UAAII,IAAI,KAAK,OAAb,EAAsB;AACvB;AACF;;AAED,MAAI/K,KAAK,CAACjC,SAAN,KAAoB+L,qBAAxB,EAA+C;AAC7C9J,SAAK,CAACG,aAAN,CAAoBkB,IAApB,EAA0BqH,KAA1B,GAAkC,IAAlC;AACA1I,SAAK,CAACjC,SAAN,GAAkB+L,qBAAlB;AACA9J,SAAK,CAACyC,KAAN,GAAc,IAAd;AACD;AACF,C,CAAC;;;AAGa;AACbpB,MAAI,EAAE,MADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIb1B,IAAE,EAAEyF,IAJS;AAKbjC,kBAAgB,EAAE,CAAC,QAAD,CALL;AAMb5D,MAAI,EAAE;AACJ8F,SAAK,EAAE,KADH,EANO,EAAf,E;;;;;;;;;;;;ACzIA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASsC,cAAT,CAAwBhO,QAAxB,EAAkC5F,IAAlC,EAAwC6T,gBAAxC,EAA0D;AACxD,MAAIA,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAC/BA,oBAAgB,GAAG;AACjB1T,OAAC,EAAE,CADc;AAEjBC,OAAC,EAAE,CAFc,EAAnB;;AAID;;AAED,SAAO;AACLb,OAAG,EAAEqG,QAAQ,CAACrG,GAAT,GAAeS,IAAI,CAACE,MAApB,GAA6B2T,gBAAgB,CAACzT,CAD9C;AAELX,SAAK,EAAEmG,QAAQ,CAACnG,KAAT,GAAiBO,IAAI,CAACC,KAAtB,GAA8B4T,gBAAgB,CAAC1T,CAFjD;AAGLR,UAAM,EAAEiG,QAAQ,CAACjG,MAAT,GAAkBK,IAAI,CAACE,MAAvB,GAAgC2T,gBAAgB,CAACzT,CAHpD;AAILP,QAAI,EAAE+F,QAAQ,CAAC/F,IAAT,GAAgBG,IAAI,CAACC,KAArB,GAA6B4T,gBAAgB,CAAC1T,CAJ/C,EAAP;;AAMD;;AAED,SAAS2T,qBAAT,CAA+BlO,QAA/B,EAAyC;AACvC,SAAO,CAACrG,6CAAD,EAAME,+CAAN,EAAaE,gDAAb,EAAqBE,8CAArB,EAA2BqI,IAA3B,CAAgC,UAAU6L,IAAV,EAAgB;AACrD,WAAOnO,QAAQ,CAACmO,IAAD,CAAR,IAAkB,CAAzB;AACD,GAFM,CAAP;AAGD;;AAED,SAASC,IAAT,CAAchK,IAAd,EAAoB;AAClB,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACIqB,MAAI,GAAGD,IAAI,CAACC,IADhB;AAEA,MAAIqI,aAAa,GAAG1J,KAAK,CAACwC,KAAN,CAAY5E,SAAhC;AACA,MAAIoJ,UAAU,GAAGhH,KAAK,CAACwC,KAAN,CAAY7E,MAA7B;AACA,MAAIsN,gBAAgB,GAAGjL,KAAK,CAACG,aAAN,CAAoBkL,eAA3C;AACA,MAAIC,iBAAiB,GAAGpB,wEAAc,CAAClK,KAAD,EAAQ;AAC5CuL,kBAAc,EAAE,WAD4B,EAAR,CAAtC;;AAGA,MAAIC,iBAAiB,GAAGtB,wEAAc,CAAClK,KAAD,EAAQ;AAC5CmJ,eAAW,EAAE,IAD+B,EAAR,CAAtC;;AAGA,MAAIsC,wBAAwB,GAAGT,cAAc,CAACM,iBAAD,EAAoB5B,aAApB,CAA7C;AACA,MAAIgC,mBAAmB,GAAGV,cAAc,CAACQ,iBAAD,EAAoBxE,UAApB,EAAgCiE,gBAAhC,CAAxC;AACA,MAAIU,iBAAiB,GAAGT,qBAAqB,CAACO,wBAAD,CAA7C;AACA,MAAIG,gBAAgB,GAAGV,qBAAqB,CAACQ,mBAAD,CAA5C;AACA1L,OAAK,CAACG,aAAN,CAAoBkB,IAApB,IAA4B;AAC1BoK,4BAAwB,EAAEA,wBADA;AAE1BC,uBAAmB,EAAEA,mBAFK;AAG1BC,qBAAiB,EAAEA,iBAHO;AAI1BC,oBAAgB,EAAEA,gBAJQ,EAA5B;;AAMA5L,OAAK,CAACK,UAAN,CAAiB1C,MAAjB,GAA0BhJ,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBF,KAAK,CAACK,UAAN,CAAiB1C,MAAnC,EAA2C;AACnE,oCAAgCgO,iBADmC;AAEnE,2BAAuBC,gBAF4C,EAA3C,CAA1B;;AAID,C,CAAC;;;AAGa;AACbvK,MAAI,EAAE,MADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIb8B,kBAAgB,EAAE,CAAC,iBAAD,CAJL;AAKbxD,IAAE,EAAEoI,IALS,EAAf,E;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAA;AACA;AACO,SAASS,uBAAT,CAAiC9N,SAAjC,EAA4CyE,KAA5C,EAAmDuD,MAAnD,EAA2D;AAChE,MAAIhB,aAAa,GAAGxD,0EAAgB,CAACxD,SAAD,CAApC;AACA,MAAI+N,cAAc,GAAG,CAAC7U,8CAAD,EAAON,6CAAP,EAAYnB,OAAZ,CAAoBuP,aAApB,KAAsC,CAAtC,GAA0C,CAAC,CAA3C,GAA+C,CAApE;;AAEA,MAAI3D,IAAI,GAAG,OAAO2E,MAAP,KAAkB,UAAlB,GAA+BA,MAAM,CAACpR,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsC,KAAlB,EAAyB;AACxEzE,aAAS,EAAEA,SAD6D,EAAzB,CAAD,CAArC;AAELgI,QAFN;AAGIgG,UAAQ,GAAG3K,IAAI,CAAC,CAAD,CAHnB;AAII4K,UAAQ,GAAG5K,IAAI,CAAC,CAAD,CAJnB;;AAMA2K,UAAQ,GAAGA,QAAQ,IAAI,CAAvB;AACAC,UAAQ,GAAG,CAACA,QAAQ,IAAI,CAAb,IAAkBF,cAA7B;AACA,SAAO,CAAC7U,8CAAD,EAAOJ,+CAAP,EAAcrB,OAAd,CAAsBuP,aAAtB,KAAwC,CAAxC,GAA4C;AACjDxN,KAAC,EAAEyU,QAD8C;AAEjDxU,KAAC,EAAEuU,QAF8C,EAA5C;AAGH;AACFxU,KAAC,EAAEwU,QADD;AAEFvU,KAAC,EAAEwU,QAFD,EAHJ;;AAOD;;AAED,SAASjG,MAAT,CAAgBrE,KAAhB,EAAuB;AACrB,MAAI1B,KAAK,GAAG0B,KAAK,CAAC1B,KAAlB;AACID,SAAO,GAAG2B,KAAK,CAAC3B,OADpB;AAEIsB,MAAI,GAAGK,KAAK,CAACL,IAFjB;AAGA,MAAI4K,eAAe,GAAGlM,OAAO,CAACgG,MAA9B;AACIA,QAAM,GAAGkG,eAAe,KAAK,KAAK,CAAzB,GAA6B,CAAC,CAAD,EAAI,CAAJ,CAA7B,GAAsCA,eADnD;AAEA,MAAIrJ,IAAI,GAAG5E,oDAAU,CAAChF,MAAX,CAAkB,UAAU8E,GAAV,EAAeC,SAAf,EAA0B;AACrDD,OAAG,CAACC,SAAD,CAAH,GAAiB8N,uBAAuB,CAAC9N,SAAD,EAAYiC,KAAK,CAACwC,KAAlB,EAAyBuD,MAAzB,CAAxC;AACA,WAAOjI,GAAP;AACD,GAHU,EAGR,EAHQ,CAAX;AAIA,MAAIoO,qBAAqB,GAAGtJ,IAAI,CAAC5C,KAAK,CAACjC,SAAP,CAAhC;AACIxG,GAAC,GAAG2U,qBAAqB,CAAC3U,CAD9B;AAEIC,GAAC,GAAG0U,qBAAqB,CAAC1U,CAF9B;;AAIA,MAAIwI,KAAK,CAACG,aAAN,CAAoB2E,aAApB,IAAqC,IAAzC,EAA+C;AAC7C9E,SAAK,CAACG,aAAN,CAAoB2E,aAApB,CAAkCvN,CAAlC,IAAuCA,CAAvC;AACAyI,SAAK,CAACG,aAAN,CAAoB2E,aAApB,CAAkCtN,CAAlC,IAAuCA,CAAvC;AACD;;AAEDwI,OAAK,CAACG,aAAN,CAAoBkB,IAApB,IAA4BuB,IAA5B;AACD,C,CAAC;;;AAGa;AACbvB,MAAI,EAAE,QADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIbC,UAAQ,EAAE,CAAC,eAAD,CAJG;AAKb3B,IAAE,EAAE+C,MALS,EAAf,E;;;;;;;;;;;;AC9CA;AAAA;AAAA;;AAEA,SAASjB,aAAT,CAAuB1D,IAAvB,EAA6B;AAC3B,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACIqB,MAAI,GAAGD,IAAI,CAACC,IADhB;AAEA;AACA;AACA;AACA;AACArB,OAAK,CAACG,aAAN,CAAoBkB,IAApB,IAA4B8K,wEAAc,CAAC;AACzCvO,aAAS,EAAEoC,KAAK,CAACwC,KAAN,CAAY5E,SADkB;AAEzCrH,WAAO,EAAEyJ,KAAK,CAACwC,KAAN,CAAY7E,MAFoB;AAGzCoB,YAAQ,EAAE,UAH+B;AAIzChB,aAAS,EAAEiC,KAAK,CAACjC,SAJwB,EAAD,CAA1C;;AAMD,C,CAAC;;;AAGa;AACbsD,MAAI,EAAE,eADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIb1B,IAAE,EAAE8B,aAJS;AAKblC,MAAI,EAAE,EALO,EAAf,E;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASyI,eAAT,CAAyBjK,IAAzB,EAA+B;AAC7B,MAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACID,SAAO,GAAGqB,IAAI,CAACrB,OADnB;AAEIsB,MAAI,GAAGD,IAAI,CAACC,IAFhB;AAGA,MAAIsH,iBAAiB,GAAG5I,OAAO,CAAC6I,QAAhC;AACIC,eAAa,GAAGF,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,IAA/B,GAAsCA,iBAD1D;AAEIG,kBAAgB,GAAG/I,OAAO,CAACgJ,OAF/B;AAGIC,cAAY,GAAGF,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,KAA9B,GAAsCA,gBAHzD;AAIIpQ,UAAQ,GAAGqH,OAAO,CAACrH,QAJvB;AAKIC,cAAY,GAAGoH,OAAO,CAACpH,YAL3B;AAMIwQ,aAAW,GAAGpJ,OAAO,CAACoJ,WAN1B;AAOI9D,SAAO,GAAGtF,OAAO,CAACsF,OAPtB;AAQI+G,iBAAe,GAAGrM,OAAO,CAACsM,MAR9B;AASIA,QAAM,GAAGD,eAAe,KAAK,KAAK,CAAzB,GAA6B,IAA7B,GAAoCA,eATjD;AAUIE,uBAAqB,GAAGvM,OAAO,CAACwM,YAVpC;AAWIA,cAAY,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,CAAnC,GAAuCA,qBAX1D;AAYA,MAAItP,QAAQ,GAAGkN,wEAAc,CAAClK,KAAD,EAAQ;AACnCtH,YAAQ,EAAEA,QADyB;AAEnCC,gBAAY,EAAEA,YAFqB;AAGnC0M,WAAO,EAAEA,OAH0B;AAInC8D,eAAW,EAAEA,WAJsB,EAAR,CAA7B;;AAMA,MAAIpE,aAAa,GAAGxD,0EAAgB,CAACvB,KAAK,CAACjC,SAAP,CAApC;AACA,MAAIyO,SAAS,GAAGvC,sEAAY,CAACjK,KAAK,CAACjC,SAAP,CAA5B;AACA,MAAIyL,eAAe,GAAG,CAACgD,SAAvB;AACA,MAAI5D,QAAQ,GAAG3D,kFAAwB,CAACF,aAAD,CAAvC;AACA,MAAIgE,OAAO,GAAG0D,oEAAU,CAAC7D,QAAD,CAAxB;AACA,MAAI9D,aAAa,GAAG9E,KAAK,CAACG,aAAN,CAAoB2E,aAAxC;AACA,MAAI4E,aAAa,GAAG1J,KAAK,CAACwC,KAAN,CAAY5E,SAAhC;AACA,MAAIoJ,UAAU,GAAGhH,KAAK,CAACwC,KAAN,CAAY7E,MAA7B;AACA,MAAI+O,iBAAiB,GAAG,OAAOH,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,CAAC5X,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBF,KAAK,CAACwC,KAAxB,EAA+B;AACvGzE,aAAS,EAAEiC,KAAK,CAACjC,SADsF,EAA/B,CAAD,CAAjD;AAElBwO,cAFN;AAGA,MAAI3J,IAAI,GAAG;AACTrL,KAAC,EAAE,CADM;AAETC,KAAC,EAAE,CAFM,EAAX;;;AAKA,MAAI,CAACsN,aAAL,EAAoB;AAClB;AACD;;AAED,MAAI+D,aAAJ,EAAmB;AACjB,QAAI8D,QAAQ,GAAG/D,QAAQ,KAAK,GAAb,GAAmBjS,6CAAnB,GAAyBM,8CAAxC;AACA,QAAI2V,OAAO,GAAGhE,QAAQ,KAAK,GAAb,GAAmB7R,gDAAnB,GAA4BF,+CAA1C;AACA,QAAIsO,GAAG,GAAGyD,QAAQ,KAAK,GAAb,GAAmB,QAAnB,GAA8B,OAAxC;AACA,QAAI7C,MAAM,GAAGjB,aAAa,CAAC8D,QAAD,CAA1B;AACA,QAAItP,GAAG,GAAGwL,aAAa,CAAC8D,QAAD,CAAb,GAA0B5L,QAAQ,CAAC2P,QAAD,CAA5C;AACA,QAAItT,GAAG,GAAGyL,aAAa,CAAC8D,QAAD,CAAb,GAA0B5L,QAAQ,CAAC4P,OAAD,CAA5C;AACA,QAAIC,QAAQ,GAAGR,MAAM,GAAG,CAACrF,UAAU,CAAC7B,GAAD,CAAX,GAAmB,CAAtB,GAA0B,CAA/C;AACA,QAAI2H,MAAM,GAAGN,SAAS,KAAK/O,+CAAd,GAAsBiM,aAAa,CAACvE,GAAD,CAAnC,GAA2C6B,UAAU,CAAC7B,GAAD,CAAlE;AACA,QAAI4H,MAAM,GAAGP,SAAS,KAAK/O,+CAAd,GAAsB,CAACuJ,UAAU,CAAC7B,GAAD,CAAjC,GAAyC,CAACuE,aAAa,CAACvE,GAAD,CAApE,CATiB,CAS0D;AAC3E;;AAEA,QAAIN,YAAY,GAAG7E,KAAK,CAACI,QAAN,CAAeiE,KAAlC;AACA,QAAIiB,SAAS,GAAG+G,MAAM,IAAIxH,YAAV,GAAyBtJ,2EAAa,CAACsJ,YAAD,CAAtC,GAAuD;AACrExN,WAAK,EAAE,CAD8D;AAErEC,YAAM,EAAE,CAF6D,EAAvE;;AAIA,QAAI0V,kBAAkB,GAAGhN,KAAK,CAACG,aAAN,CAAoB,kBAApB,IAA0CH,KAAK,CAACG,aAAN,CAAoB,kBAApB,EAAwCkF,OAAlF,GAA4F4H,4EAAkB,EAAvI;AACA,QAAIC,eAAe,GAAGF,kBAAkB,CAACL,QAAD,CAAxC;AACA,QAAIQ,eAAe,GAAGH,kBAAkB,CAACJ,OAAD,CAAxC,CAnBiB,CAmBkC;AACnD;AACA;AACA;AACA;;AAEA,QAAIQ,QAAQ,GAAGpH,gEAAM,CAAC,CAAD,EAAI0D,aAAa,CAACvE,GAAD,CAAjB,EAAwBG,SAAS,CAACH,GAAD,CAAjC,CAArB;AACA,QAAIkI,SAAS,GAAG7D,eAAe,GAAGE,aAAa,CAACvE,GAAD,CAAb,GAAqB,CAArB,GAAyB0H,QAAzB,GAAoCO,QAApC,GAA+CF,eAA/C,GAAiER,iBAApE,GAAwFI,MAAM,GAAGM,QAAT,GAAoBF,eAApB,GAAsCR,iBAA7J;AACA,QAAIY,SAAS,GAAG9D,eAAe,GAAG,CAACE,aAAa,CAACvE,GAAD,CAAd,GAAsB,CAAtB,GAA0B0H,QAA1B,GAAqCO,QAArC,GAAgDD,eAAhD,GAAkET,iBAArE,GAAyFK,MAAM,GAAGK,QAAT,GAAoBD,eAApB,GAAsCT,iBAA9J;AACA,QAAI/G,iBAAiB,GAAG3F,KAAK,CAACI,QAAN,CAAeiE,KAAf,IAAwB/L,6EAAe,CAAC0H,KAAK,CAACI,QAAN,CAAeiE,KAAhB,CAA/D;AACA,QAAIkJ,YAAY,GAAG5H,iBAAiB,GAAGiD,QAAQ,KAAK,GAAb,GAAmBjD,iBAAiB,CAACvL,SAAlB,IAA+B,CAAlD,GAAsDuL,iBAAiB,CAACxL,UAAlB,IAAgC,CAAzF,GAA6F,CAAjI;AACA,QAAIqT,mBAAmB,GAAGxN,KAAK,CAACG,aAAN,CAAoB4F,MAApB,GAA6B/F,KAAK,CAACG,aAAN,CAAoB4F,MAApB,CAA2B/F,KAAK,CAACjC,SAAjC,EAA4C6K,QAA5C,CAA7B,GAAqF,CAA/G;AACA,QAAI6E,SAAS,GAAG3I,aAAa,CAAC8D,QAAD,CAAb,GAA0ByE,SAA1B,GAAsCG,mBAAtC,GAA4DD,YAA5E;AACA,QAAIG,SAAS,GAAG5I,aAAa,CAAC8D,QAAD,CAAb,GAA0B0E,SAA1B,GAAsCE,mBAAtD;AACA,QAAIG,eAAe,GAAG3H,gEAAM,CAACqG,MAAM,GAAGjT,IAAI,CAACE,GAAL,CAASA,GAAT,EAAcmU,SAAd,CAAH,GAA8BnU,GAArC,EAA0CyM,MAA1C,EAAkDsG,MAAM,GAAGjT,IAAI,CAACC,GAAL,CAASA,GAAT,EAAcqU,SAAd,CAAH,GAA8BrU,GAAtF,CAA5B;AACAyL,iBAAa,CAAC8D,QAAD,CAAb,GAA0B+E,eAA1B;AACA/K,QAAI,CAACgG,QAAD,CAAJ,GAAiB+E,eAAe,GAAG5H,MAAnC;AACD;;AAED,MAAIiD,YAAJ,EAAkB;AAChB,QAAI4E,SAAS,GAAGhF,QAAQ,KAAK,GAAb,GAAmBjS,6CAAnB,GAAyBM,8CAAzC;;AAEA,QAAI4W,QAAQ,GAAGjF,QAAQ,KAAK,GAAb,GAAmB7R,gDAAnB,GAA4BF,+CAA3C;;AAEA,QAAIiX,OAAO,GAAGhJ,aAAa,CAACiE,OAAD,CAA3B;;AAEA,QAAIgF,IAAI,GAAGD,OAAO,GAAG9Q,QAAQ,CAAC4Q,SAAD,CAA7B;;AAEA,QAAII,IAAI,GAAGF,OAAO,GAAG9Q,QAAQ,CAAC6Q,QAAD,CAA7B;;AAEA,QAAII,gBAAgB,GAAGjI,gEAAM,CAAC+H,IAAD,EAAOD,OAAP,EAAgBE,IAAhB,CAA7B;;AAEAlJ,iBAAa,CAACiE,OAAD,CAAb,GAAyBkF,gBAAzB;AACArL,QAAI,CAACmG,OAAD,CAAJ,GAAgBkF,gBAAgB,GAAGH,OAAnC;AACD;;AAED9N,OAAK,CAACG,aAAN,CAAoBkB,IAApB,IAA4BuB,IAA5B;AACD,C,CAAC;;;AAGa;AACbvB,MAAI,EAAE,iBADO;AAEbJ,SAAO,EAAE,IAFI;AAGbyD,OAAK,EAAE,MAHM;AAIb1B,IAAE,EAAEqI,eAJS;AAKb7E,kBAAgB,EAAE,CAAC,QAAD,CALL,EAAf,E;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI7G,gBAAgB,GAAG,CAACuO,oEAAD,EAAiBpJ,mEAAjB,EAAgC6C,mEAAhC,EAA+C5D,iEAA/C,EAA4DgC,4DAA5D,EAAoE0C,0DAApE,EAA0E4C,qEAA1E,EAA2FhH,2DAA3F,EAAkG+G,0DAAlG,CAAvB;AACA,IAAItL,YAAY,GAAG,aAAaP,iEAAe,CAAC;AAC9CI,kBAAgB,EAAEA,gBAD4B,EAAD,CAA/C;AAEI;;;;;;;;;;;;;;ACdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;;AAEA;AACe,SAAS8J,oBAAT,CAA8BzJ,KAA9B,EAAqCD,OAArC,EAA8C;AAC3D,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,WAAO,GAAG,EAAV;AACD;;AAED,MAAImD,QAAQ,GAAGnD,OAAf;AACIhC,WAAS,GAAGmF,QAAQ,CAACnF,SADzB;AAEIrF,UAAQ,GAAGwK,QAAQ,CAACxK,QAFxB;AAGIC,cAAY,GAAGuK,QAAQ,CAACvK,YAH5B;AAII0M,SAAO,GAAGnC,QAAQ,CAACmC,OAJvB;AAKIgE,gBAAc,GAAGnG,QAAQ,CAACmG,cAL9B;AAMI8E,uBAAqB,GAAGjL,QAAQ,CAACoG,qBANrC;AAOIA,uBAAqB,GAAG6E,qBAAqB,KAAK,KAAK,CAA/B,GAAmCC,oDAAnC,GAAmDD,qBAP/E;AAQA,MAAI3B,SAAS,GAAGvC,gEAAY,CAAClM,SAAD,CAA5B;AACA,MAAIC,UAAU,GAAG,CAACwO,SAAS,GAAGnD,cAAc,GAAGxL,6DAAH,GAAyBA,6DAAmB,CAACrF,MAApB,CAA2B,UAAUuF,SAAV,EAAqB;AACnH,WAAOkM,gEAAY,CAAClM,SAAD,CAAZ,KAA4ByO,SAAnC;AACD,GAFoE,CAA1C,GAEtBhP,wDAFY,EAEIhF,MAFJ,CAEW,UAAUuF,SAAV,EAAqB;AAC/C,WAAOuL,qBAAqB,CAAC9T,OAAtB,CAA8BuI,SAA9B,KAA4C,CAAnD;AACD,GAJgB,CAAjB,CAd2D,CAkBvD;;AAEJ,MAAIsQ,SAAS,GAAGrQ,UAAU,CAAChF,MAAX,CAAkB,UAAU8E,GAAV,EAAeC,SAAf,EAA0B;AAC1DD,OAAG,CAACC,SAAD,CAAH,GAAiBmM,kEAAc,CAAClK,KAAD,EAAQ;AACrCjC,eAAS,EAAEA,SAD0B;AAErCrF,cAAQ,EAAEA,QAF2B;AAGrCC,kBAAY,EAAEA,YAHuB;AAIrC0M,aAAO,EAAEA,OAJ4B,EAAR,CAAd;AAKd9D,wEAAgB,CAACxD,SAAD,CALF,CAAjB;AAMA,WAAOD,GAAP;AACD,GARe,EAQb,EARa,CAAhB;AASA,SAAOnJ,MAAM,CAACS,IAAP,CAAYiZ,SAAZ,EAAuBC,IAAvB,CAA4B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACjD,WAAOH,SAAS,CAACE,CAAD,CAAT,GAAeF,SAAS,CAACG,CAAD,CAA/B;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACxCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACe,SAASrC,cAAT,CAAwB/K,IAAxB,EAA8B;AAC3C,MAAIxD,SAAS,GAAGwD,IAAI,CAACxD,SAArB;AACIrH,SAAO,GAAG6K,IAAI,CAAC7K,OADnB;AAEIwH,WAAS,GAAGqD,IAAI,CAACrD,SAFrB;AAGA,MAAIgH,aAAa,GAAGhH,SAAS,GAAGwD,oEAAgB,CAACxD,SAAD,CAAnB,GAAiC,IAA9D;AACA,MAAIyO,SAAS,GAAGzO,SAAS,GAAGkM,gEAAY,CAAClM,SAAD,CAAf,GAA6B,IAAtD;AACA,MAAI0Q,OAAO,GAAG7Q,SAAS,CAACrG,CAAV,GAAcqG,SAAS,CAACvG,KAAV,GAAkB,CAAhC,GAAoCd,OAAO,CAACc,KAAR,GAAgB,CAAlE;AACA,MAAIqX,OAAO,GAAG9Q,SAAS,CAACpG,CAAV,GAAcoG,SAAS,CAACtG,MAAV,GAAmB,CAAjC,GAAqCf,OAAO,CAACe,MAAR,GAAiB,CAApE;AACA,MAAIyC,OAAJ;;AAEA,UAAQgL,aAAR;AACE,SAAKpO,6CAAL;AACEoD,aAAO,GAAG;AACRxC,SAAC,EAAEkX,OADK;AAERjX,SAAC,EAAEoG,SAAS,CAACpG,CAAV,GAAcjB,OAAO,CAACe,MAFjB,EAAV;;AAIA;;AAEF,SAAKP,gDAAL;AACEgD,aAAO,GAAG;AACRxC,SAAC,EAAEkX,OADK;AAERjX,SAAC,EAAEoG,SAAS,CAACpG,CAAV,GAAcoG,SAAS,CAACtG,MAFnB,EAAV;;AAIA;;AAEF,SAAKT,+CAAL;AACEkD,aAAO,GAAG;AACRxC,SAAC,EAAEqG,SAAS,CAACrG,CAAV,GAAcqG,SAAS,CAACvG,KADnB;AAERG,SAAC,EAAEkX,OAFK,EAAV;;AAIA;;AAEF,SAAKzX,8CAAL;AACE8C,aAAO,GAAG;AACRxC,SAAC,EAAEqG,SAAS,CAACrG,CAAV,GAAchB,OAAO,CAACc,KADjB;AAERG,SAAC,EAAEkX,OAFK,EAAV;;AAIA;;AAEF;AACE3U,aAAO,GAAG;AACRxC,SAAC,EAAEqG,SAAS,CAACrG,CADL;AAERC,SAAC,EAAEoG,SAAS,CAACpG,CAFL,EAAV,CA9BJ;;;;AAoCA,MAAIoR,QAAQ,GAAG7D,aAAa,GAAGE,4EAAwB,CAACF,aAAD,CAA3B,GAA6C,IAAzE;;AAEA,MAAI6D,QAAQ,IAAI,IAAhB,EAAsB;AACpB,QAAIzD,GAAG,GAAGyD,QAAQ,KAAK,GAAb,GAAmB,QAAnB,GAA8B,OAAxC;;AAEA,YAAQ4D,SAAR;AACE,WAAK/O,+CAAL;AACE1D,eAAO,CAAC6O,QAAD,CAAP,GAAoBxP,IAAI,CAACuV,KAAL,CAAW5U,OAAO,CAAC6O,QAAD,CAAlB,IAAgCxP,IAAI,CAACuV,KAAL,CAAW/Q,SAAS,CAACuH,GAAD,CAAT,GAAiB,CAAjB,GAAqB5O,OAAO,CAAC4O,GAAD,CAAP,GAAe,CAA/C,CAApD;AACA;;AAEF,WAAKzH,6CAAL;AACE3D,eAAO,CAAC6O,QAAD,CAAP,GAAoBxP,IAAI,CAACuV,KAAL,CAAW5U,OAAO,CAAC6O,QAAD,CAAlB,IAAgCxP,IAAI,CAACwV,IAAL,CAAUhR,SAAS,CAACuH,GAAD,CAAT,GAAiB,CAAjB,GAAqB5O,OAAO,CAAC4O,GAAD,CAAP,GAAe,CAA9C,CAApD;AACA;;AAEF,cATF;;AAWD;;AAED,SAAOpL,OAAP;AACD,C;;;;;;;;;;;;ACrED;AAAA;AAAe,SAASoJ,QAAT,CAAkBH,EAAlB,EAAsB;AACnC,MAAI6L,OAAJ;AACA,SAAO,YAAY;AACjB,QAAI,CAACA,OAAL,EAAc;AACZA,aAAO,GAAG,IAAIzL,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACvCD,eAAO,CAACC,OAAR,GAAkBE,IAAlB,CAAuB,YAAY;AACjCsL,iBAAO,GAAGC,SAAV;AACAzL,iBAAO,CAACL,EAAE,EAAH,CAAP;AACD,SAHD;AAID,OALS,CAAV;AAMD;;AAED,WAAO6L,OAAP;AACD,GAXD;AAYD,C;;;;;;;;;;;;ACdD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACoD;;AAErC,SAAS3E,cAAT,CAAwBlK,KAAxB,EAA+BD,OAA/B,EAAwC;AACrD,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,WAAO,GAAG,EAAV;AACD;;AAED,MAAImD,QAAQ,GAAGnD,OAAf;AACIgP,oBAAkB,GAAG7L,QAAQ,CAACnF,SADlC;AAEIA,WAAS,GAAGgR,kBAAkB,KAAK,KAAK,CAA5B,GAAgC/O,KAAK,CAACjC,SAAtC,GAAkDgR,kBAFlE;AAGIC,mBAAiB,GAAG9L,QAAQ,CAACxK,QAHjC;AAIIA,UAAQ,GAAGsW,iBAAiB,KAAK,KAAK,CAA3B,GAA+B/W,yDAA/B,GAAiD+W,iBAJhE;AAKIC,uBAAqB,GAAG/L,QAAQ,CAACvK,YALrC;AAMIA,cAAY,GAAGsW,qBAAqB,KAAK,KAAK,CAA/B,GAAmCtX,kDAAnC,GAA8CsX,qBANjE;AAOIC,uBAAqB,GAAGhM,QAAQ,CAACqI,cAPrC;AAQIA,gBAAc,GAAG2D,qBAAqB,KAAK,KAAK,CAA/B,GAAmCvR,gDAAnC,GAA4CuR,qBARjE;AASIC,sBAAoB,GAAGjM,QAAQ,CAACiG,WATpC;AAUIA,aAAW,GAAGgG,oBAAoB,KAAK,KAAK,CAA9B,GAAkC,KAAlC,GAA0CA,oBAV5D;AAWI/I,kBAAgB,GAAGlD,QAAQ,CAACmC,OAXhC;AAYIA,SAAO,GAAGe,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,CAA9B,GAAkCA,gBAZhD;AAaA,MAAIhB,aAAa,GAAGkB,sEAAkB,CAAC,OAAOjB,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwCkB,mEAAe,CAAClB,OAAD,EAAU7H,wDAAV,CAAxD,CAAtC;AACA,MAAI4R,UAAU,GAAG7D,cAAc,KAAK5N,gDAAnB,GAA4BC,mDAA5B,GAAwCD,gDAAzD;AACA,MAAI0R,gBAAgB,GAAGrP,KAAK,CAACI,QAAN,CAAexC,SAAtC;AACA,MAAIoJ,UAAU,GAAGhH,KAAK,CAACwC,KAAN,CAAY7E,MAA7B;AACA,MAAIpH,OAAO,GAAGyJ,KAAK,CAACI,QAAN,CAAe+I,WAAW,GAAGiG,UAAH,GAAgB7D,cAA1C,CAAd;AACA,MAAI+D,kBAAkB,GAAG7W,6EAAe,CAACF,0EAAS,CAAChC,OAAD,CAAT,GAAqBA,OAArB,GAA+BA,OAAO,CAACsK,cAAR,IAA0B9I,gFAAkB,CAACiI,KAAK,CAACI,QAAN,CAAezC,MAAhB,CAA5E,EAAqGjF,QAArG,EAA+GC,YAA/G,CAAxC;AACA,MAAI4W,mBAAmB,GAAGpY,mFAAqB,CAACkY,gBAAD,CAA/C;AACA,MAAIvK,aAAa,GAAGqH,kEAAc,CAAC;AACjCvO,aAAS,EAAE2R,mBADsB;AAEjChZ,WAAO,EAAEyQ,UAFwB;AAGjCjI,YAAQ,EAAE,UAHuB;AAIjChB,aAAS,EAAEA,SAJsB,EAAD,CAAlC;;AAMA,MAAIyR,gBAAgB,GAAG5X,oEAAgB,CAACjD,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkB8G,UAAlB,EAA8B,EAA9B,EAAkClC,aAAlC,CAAD,CAAvC;AACA,MAAI2K,iBAAiB,GAAGlE,cAAc,KAAK5N,gDAAnB,GAA4B6R,gBAA5B,GAA+CD,mBAAvE,CAhCqD,CAgCuC;AAC5F;;AAEA,MAAIG,eAAe,GAAG;AACpB/Y,OAAG,EAAE2Y,kBAAkB,CAAC3Y,GAAnB,GAAyB8Y,iBAAiB,CAAC9Y,GAA3C,GAAiDyO,aAAa,CAACzO,GADhD;AAEpBI,UAAM,EAAE0Y,iBAAiB,CAAC1Y,MAAlB,GAA2BuY,kBAAkB,CAACvY,MAA9C,GAAuDqO,aAAa,CAACrO,MAFzD;AAGpBE,QAAI,EAAEqY,kBAAkB,CAACrY,IAAnB,GAA0BwY,iBAAiB,CAACxY,IAA5C,GAAmDmO,aAAa,CAACnO,IAHnD;AAIpBJ,SAAK,EAAE4Y,iBAAiB,CAAC5Y,KAAlB,GAA0ByY,kBAAkB,CAACzY,KAA7C,GAAqDuO,aAAa,CAACvO,KAJtD,EAAtB;;AAMA,MAAI8Y,UAAU,GAAG3P,KAAK,CAACG,aAAN,CAAoB4F,MAArC,CAzCqD,CAyCR;;AAE7C,MAAIwF,cAAc,KAAK5N,gDAAnB,IAA6BgS,UAAjC,EAA6C;AAC3C,QAAI5J,MAAM,GAAG4J,UAAU,CAAC5R,SAAD,CAAvB;AACApJ,UAAM,CAACS,IAAP,CAAYsa,eAAZ,EAA6BhN,OAA7B,CAAqC,UAAUrN,GAAV,EAAe;AAClD,UAAIua,QAAQ,GAAG,CAAC/Y,+CAAD,EAAQE,gDAAR,EAAgBvB,OAAhB,CAAwBH,GAAxB,KAAgC,CAAhC,GAAoC,CAApC,GAAwC,CAAC,CAAxD;AACA,UAAI2P,IAAI,GAAG,CAACrO,6CAAD,EAAMI,gDAAN,EAAcvB,OAAd,CAAsBH,GAAtB,KAA8B,CAA9B,GAAkC,GAAlC,GAAwC,GAAnD;AACAqa,qBAAe,CAACra,GAAD,CAAf,IAAwB0Q,MAAM,CAACf,IAAD,CAAN,GAAe4K,QAAvC;AACD,KAJD;AAKD;;AAED,SAAOF,eAAP;AACD,C;;;;;;;;;;;;AC/DD;AAAA;AAAe,SAASnJ,eAAT,CAAyBtC,KAAzB,EAAgC7O,IAAhC,EAAsC;AACnD,SAAOA,IAAI,CAAC4D,MAAL,CAAY,UAAU6W,OAAV,EAAmBxa,GAAnB,EAAwB;AACzCwa,WAAO,CAACxa,GAAD,CAAP,GAAe4O,KAAf;AACA,WAAO4L,OAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,C;;;;;;;;;;;;ACLD;AAAA;AAAe,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;AAClC,OAAK,IAAI9Q,IAAI,GAAGC,SAAS,CAAC3J,MAArB,EAA6B4J,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEI,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGJ,IAA9F,EAAoGI,IAAI,EAAxG,EAA4G;AAC1GF,QAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBH,SAAS,CAACG,IAAD,CAA1B;AACD;;AAED,SAAO,GAAGxG,MAAH,CAAUsG,IAAV,EAAgBnG,MAAhB,CAAuB,UAAUgX,CAAV,EAAaC,CAAb,EAAgB;AAC5C,WAAOD,CAAC,CAACE,OAAF,CAAU,IAAV,EAAgBD,CAAhB,CAAP;AACD,GAFM,EAEJF,GAFI,CAAP;AAGD,C;;;;;;;;;;;;ACRD;AAAA;AAAe,SAAStD,UAAT,CAAoBzH,IAApB,EAA0B;AACvC,SAAOA,IAAI,KAAK,GAAT,GAAe,GAAf,GAAqB,GAA5B;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AACe,SAASzD,gBAAT,CAA0BxD,SAA1B,EAAqC;AAClD,SAAOA,SAAS,CAACoS,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAP;AACD,C;;;;;;;;;;;;ACHD;AAAA;AAAe,SAASlD,kBAAT,GAA8B;AAC3C,SAAO;AACLtW,OAAG,EAAE,CADA;AAELE,SAAK,EAAE,CAFF;AAGLE,UAAM,EAAE,CAHH;AAILE,QAAI,EAAE,CAJD,EAAP;;AAMD,C;;;;;;;;;;;;ACPD;AAAA;AAAe,SAASgO,wBAAT,CAAkClH,SAAlC,EAA6C;AAC1D,SAAO,CAAC,KAAD,EAAQ,QAAR,EAAkBvI,OAAlB,CAA0BuI,SAA1B,KAAwC,CAAxC,GAA4C,GAA5C,GAAkD,GAAzD;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA,IAAIqS,IAAI,GAAG;AACTnZ,MAAI,EAAE,OADG;AAETJ,OAAK,EAAE,MAFE;AAGTE,QAAM,EAAE,KAHC;AAITJ,KAAG,EAAE,QAJI,EAAX;;AAMe,SAAS4R,oBAAT,CAA8BxK,SAA9B,EAAyC;AACtD,SAAOA,SAAS,CAACmS,OAAV,CAAkB,wBAAlB,EAA4C,UAAUG,OAAV,EAAmB;AACpE,WAAOD,IAAI,CAACC,OAAD,CAAX;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACVD;AAAA;AAAA,IAAID,IAAI,GAAG;AACT3S,OAAK,EAAE,KADE;AAETC,KAAG,EAAE,OAFI,EAAX;;AAIe,SAAS8K,6BAAT,CAAuCzK,SAAvC,EAAkD;AAC/D,SAAOA,SAAS,CAACmS,OAAV,CAAkB,YAAlB,EAAgC,UAAUG,OAAV,EAAmB;AACxD,WAAOD,IAAI,CAACC,OAAD,CAAX;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACRD;AAAA;AAAe,SAASpG,YAAT,CAAsBlM,SAAtB,EAAiC;AAC9C,SAAOA,SAAS,CAACoS,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAe,SAASpP,WAAT,CAAqBjC,SAArB,EAAgC;AAC7C,MAAIwR,MAAM,GAAGxR,SAAS,CAAC9F,MAAV,CAAiB,UAAUsX,MAAV,EAAkBC,OAAlB,EAA2B;AACvD,QAAIC,QAAQ,GAAGF,MAAM,CAACC,OAAO,CAAClP,IAAT,CAArB;AACAiP,UAAM,CAACC,OAAO,CAAClP,IAAT,CAAN,GAAuBmP,QAAQ,GAAG7b,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsQ,QAAlB,EAA4B,EAA5B,EAAgCD,OAAhC,EAAyC;AACzExQ,aAAO,EAAEpL,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsQ,QAAQ,CAACzQ,OAA3B,EAAoC,EAApC,EAAwCwQ,OAAO,CAACxQ,OAAhD,CADgE;AAEzE6C,UAAI,EAAEjO,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBsQ,QAAQ,CAAC5N,IAA3B,EAAiC,EAAjC,EAAqC2N,OAAO,CAAC3N,IAA7C,CAFmE,EAAzC,CAAH;AAG1B2N,WAHL;AAIA,WAAOD,MAAP;AACD,GAPY,EAOV,EAPU,CAAb,CAD6C,CAQrC;;AAER,SAAO3b,MAAM,CAACS,IAAP,CAAYkb,MAAZ,EAAoBG,GAApB,CAAwB,UAAUpb,GAAV,EAAe;AAC5C,WAAOib,MAAM,CAACjb,GAAD,CAAb;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AACe,SAASiR,kBAAT,CAA4BlB,aAA5B,EAA2C;AACxD,SAAOzQ,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkB+M,sEAAkB,EAApC,EAAwC,EAAxC,EAA4C7H,aAA5C,CAAP;AACD,C;;;;;;;;;;;;ACHD;AAAA;AAAA;CAA8C;;AAE9C,SAASsL,KAAT,CAAe5R,SAAf,EAA0B;AACxB,MAAI2R,GAAG,GAAG,IAAI7G,GAAJ,EAAV;AACA,MAAI+G,OAAO,GAAG,IAAIC,GAAJ,EAAd;AACA,MAAIC,MAAM,GAAG,EAAb;AACA/R,WAAS,CAAC4D,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpC8N,OAAG,CAACjG,GAAJ,CAAQ7H,QAAQ,CAACtB,IAAjB,EAAuBsB,QAAvB;AACD,GAFD,EAJwB,CAMpB;;AAEJ,WAAS2L,IAAT,CAAc3L,QAAd,EAAwB;AACtBgO,WAAO,CAACG,GAAR,CAAYnO,QAAQ,CAACtB,IAArB;AACA,QAAIsD,QAAQ,GAAG,GAAG9L,MAAH,CAAU8J,QAAQ,CAACgC,QAAT,IAAqB,EAA/B,EAAmChC,QAAQ,CAAC6D,gBAAT,IAA6B,EAAhE,CAAf;AACA7B,YAAQ,CAACjC,OAAT,CAAiB,UAAUqO,GAAV,EAAe;AAC9B,UAAI,CAACJ,OAAO,CAACK,GAAR,CAAYD,GAAZ,CAAL,EAAuB;AACrB,YAAIE,WAAW,GAAGR,GAAG,CAAC5F,GAAJ,CAAQkG,GAAR,CAAlB;;AAEA,YAAIE,WAAJ,EAAiB;AACf3C,cAAI,CAAC2C,WAAD,CAAJ;AACD;AACF;AACF,KARD;AASAJ,UAAM,CAAC/M,IAAP,CAAYnB,QAAZ;AACD;;AAED7D,WAAS,CAAC4D,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpC,QAAI,CAACgO,OAAO,CAACK,GAAR,CAAYrO,QAAQ,CAACtB,IAArB,CAAL,EAAiC;AAC/B;AACAiN,UAAI,CAAC3L,QAAD,CAAJ;AACD;AACF,GALD;AAMA,SAAOkO,MAAP;AACD;;AAEc,SAAS/P,cAAT,CAAwBhC,SAAxB,EAAmC;AAChD;AACA,MAAImB,gBAAgB,GAAGyQ,KAAK,CAAC5R,SAAD,CAA5B,CAFgD,CAEP;;AAEzC,SAAOJ,wDAAc,CAAC1F,MAAf,CAAsB,UAAU8E,GAAV,EAAe4G,KAAf,EAAsB;AACjD,WAAO5G,GAAG,CAACjF,MAAJ,CAAWoH,gBAAgB,CAACzH,MAAjB,CAAwB,UAAUmK,QAAV,EAAoB;AAC5D,aAAOA,QAAQ,CAAC+B,KAAT,KAAmBA,KAA1B;AACD,KAFiB,CAAX,CAAP;AAGD,GAJM,EAIJ,EAJI,CAAP;AAKD,C;;;;;;;;;;;;AC3CD;AAAA;AAAe,SAAS9M,gBAAT,CAA0BR,IAA1B,EAAgC;AAC7C,SAAOzC,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkB9I,IAAlB,EAAwB;AAC7BH,QAAI,EAAEG,IAAI,CAACG,CADkB;AAE7BZ,OAAG,EAAES,IAAI,CAACI,CAFmB;AAG7BX,SAAK,EAAEO,IAAI,CAACG,CAAL,GAASH,IAAI,CAACC,KAHQ;AAI7BN,UAAM,EAAEK,IAAI,CAACI,CAAL,GAASJ,IAAI,CAACE,MAJO,EAAxB,CAAP;;AAMD,C;;;;;;;;;;;;ACPD;AAAA;AAAe,SAAS6J,QAAT,CAAkB+P,GAAlB,EAAuBlO,EAAvB,EAA2B;AACxC,MAAImO,WAAW,GAAG,IAAIP,GAAJ,EAAlB;AACA,SAAOM,GAAG,CAAC1Y,MAAJ,CAAW,UAAU4Y,IAAV,EAAgB;AAChC,QAAIC,UAAU,GAAGrO,EAAE,CAACoO,IAAD,CAAnB;;AAEA,QAAI,CAACD,WAAW,CAACH,GAAZ,CAAgBK,UAAhB,CAAL,EAAkC;AAChCF,iBAAW,CAACL,GAAZ,CAAgBO,UAAhB;AACA,aAAO,IAAP;AACD;AACF,GAPM,CAAP;AAQD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AACA;AACA,IAAIC,sBAAsB,GAAG,+EAA7B;AACA,IAAIC,wBAAwB,GAAG,yEAA/B;AACA,IAAIC,gBAAgB,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,IAA7B,EAAmC,QAAnC,EAA6C,UAA7C,EAAyD,SAAzD,CAAvB;AACe,SAASlQ,iBAAT,CAA2BxC,SAA3B,EAAsC;AACnDA,WAAS,CAAC4D,OAAV,CAAkB,UAAUC,QAAV,EAAoB;AACpChO,UAAM,CAACS,IAAP,CAAYuN,QAAZ,EAAsBD,OAAtB,CAA8B,UAAUrN,GAAV,EAAe;AAC3C,cAAQA,GAAR;AACE,aAAK,MAAL;AACE,cAAI,OAAOsN,QAAQ,CAACtB,IAAhB,KAAyB,QAA7B,EAAuC;AACrCM,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyBG,MAAM,CAAC9O,QAAQ,CAACtB,IAAV,CAA/B,EAAgD,QAAhD,EAA0D,UAA1D,EAAsE,OAAOoQ,MAAM,CAAC9O,QAAQ,CAACtB,IAAV,CAAb,GAA+B,IAArG,CAApB;AACD;;AAED;;AAEF,aAAK,SAAL;AACE,cAAI,OAAOsB,QAAQ,CAAC1B,OAAhB,KAA4B,SAAhC,EAA2C;AACzCU,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,WAAxC,EAAqD,WAArD,EAAkE,OAAOoQ,MAAM,CAAC9O,QAAQ,CAAC1B,OAAV,CAAb,GAAkC,IAApG,CAApB;AACD;;AAEH,aAAK,OAAL;AACE,cAAIvC,wDAAc,CAAClJ,OAAf,CAAuBmN,QAAQ,CAAC+B,KAAhC,IAAyC,CAA7C,EAAgD;AAC9C/C,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,SAAxC,EAAmD,YAAY3C,wDAAc,CAACmD,IAAf,CAAoB,IAApB,CAA/D,EAA0F,OAAO4P,MAAM,CAAC9O,QAAQ,CAAC+B,KAAV,CAAb,GAAgC,IAA1H,CAApB;AACD;;AAED;;AAEF,aAAK,IAAL;AACE,cAAI,OAAO/B,QAAQ,CAACK,EAAhB,KAAuB,UAA3B,EAAuC;AACrCrB,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,MAAxC,EAAgD,YAAhD,EAA8D,OAAOoQ,MAAM,CAAC9O,QAAQ,CAACK,EAAV,CAAb,GAA6B,IAA3F,CAApB;AACD;;AAED;;AAEF,aAAK,QAAL;AACE,cAAI,OAAOL,QAAQ,CAACgB,MAAhB,KAA2B,UAA/B,EAA2C;AACzChC,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,UAAxC,EAAoD,YAApD,EAAkE,OAAOoQ,MAAM,CAAC9O,QAAQ,CAACK,EAAV,CAAb,GAA6B,IAA/F,CAApB;AACD;;AAED;;AAEF,aAAK,UAAL;AACE,cAAI,CAAC5D,KAAK,CAACsS,OAAN,CAAc/O,QAAQ,CAACgC,QAAvB,CAAL,EAAuC;AACrChD,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,YAAxC,EAAsD,SAAtD,EAAiE,OAAOoQ,MAAM,CAAC9O,QAAQ,CAACgC,QAAV,CAAb,GAAmC,IAApG,CAApB;AACD;;AAED;;AAEF,aAAK,kBAAL;AACE,cAAI,CAACvF,KAAK,CAACsS,OAAN,CAAc/O,QAAQ,CAAC6D,gBAAvB,CAAL,EAA+C;AAC7C7E,mBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACwB,sBAAD,EAAyB3O,QAAQ,CAACtB,IAAlC,EAAwC,oBAAxC,EAA8D,SAA9D,EAAyE,OAAOoQ,MAAM,CAAC9O,QAAQ,CAAC6D,gBAAV,CAAb,GAA2C,IAApH,CAApB;AACD;;AAED;;AAEF,aAAK,SAAL;AACA,aAAK,MAAL;AACE;;AAEF;AACE7E,iBAAO,CAACC,KAAR,CAAc,8DAA8De,QAAQ,CAACtB,IAAvE,GAA8E,oCAA9E,GAAqHmQ,gBAAgB,CAACf,GAAjB,CAAqB,UAAUkB,CAAV,EAAa;AACnK,mBAAO,OAAOA,CAAP,GAAW,IAAlB;AACD,WAFkI,EAEhI9P,IAFgI,CAE3H,IAF2H,CAArH,GAEE,UAFF,GAEexM,GAFf,GAEqB,kBAFnC,EArDJ;;;AA0DAsN,cAAQ,CAACgC,QAAT,IAAqBhC,QAAQ,CAACgC,QAAT,CAAkBjC,OAAlB,CAA0B,UAAUkP,WAAV,EAAuB;AACpE,YAAI9S,SAAS,CAAC2C,IAAV,CAAe,UAAUoQ,GAAV,EAAe;AAChC,iBAAOA,GAAG,CAACxQ,IAAJ,KAAauQ,WAApB;AACD,SAFG,KAEE,IAFN,EAEY;AACVjQ,iBAAO,CAACC,KAAR,CAAckO,0DAAM,CAACyB,wBAAD,EAA2BE,MAAM,CAAC9O,QAAQ,CAACtB,IAAV,CAAjC,EAAkDuQ,WAAlD,EAA+DA,WAA/D,CAApB;AACD;AACF,OANoB,CAArB;AAOD,KAlED;AAmED,GApED;AAqED,C;;;;;;;;;;;;AC3ED;AAAA;AAAe,SAAS5L,MAAT,CAAgB1M,GAAhB,EAAqB2K,KAArB,EAA4B5K,GAA5B,EAAiC;AAC9C,SAAOD,IAAI,CAACC,GAAL,CAASC,GAAT,EAAcF,IAAI,CAACE,GAAL,CAAS2K,KAAT,EAAgB5K,GAAhB,CAAd,CAAP;AACD,C;;;;;;;;;;;+aCFD;;;;;AAKA;;AAEC,aAAY;AACZ;;AAEA,MAAIyY,MAAM,GAAG,GAAGvN,cAAhB;;AAEA,WAASwN,UAAT,GAAuB;AACtB,QAAIC,OAAO,GAAG,EAAd;;AAEA,SAAK,IAAI1c,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4J,SAAS,CAAC3J,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAC1C,UAAI2c,GAAG,GAAG/S,SAAS,CAAC5J,CAAD,CAAnB;AACA,UAAI,CAAC2c,GAAL,EAAU;;AAEV,UAAIC,OAAO,WAAUD,GAAV,CAAX;;AAEA,UAAIC,OAAO,KAAK,QAAZ,IAAwBA,OAAO,KAAK,QAAxC,EAAkD;AACjDF,eAAO,CAAClO,IAAR,CAAamO,GAAb;AACA,OAFD,MAEO,IAAI7S,KAAK,CAACsS,OAAN,CAAcO,GAAd,KAAsBA,GAAG,CAAC1c,MAA9B,EAAsC;AAC5C,YAAI4c,KAAK,GAAGJ,UAAU,CAACK,KAAX,CAAiB,IAAjB,EAAuBH,GAAvB,CAAZ;AACA,YAAIE,KAAJ,EAAW;AACVH,iBAAO,CAAClO,IAAR,CAAaqO,KAAb;AACA;AACD,OALM,MAKA,IAAID,OAAO,KAAK,QAAhB,EAA0B;AAChC,aAAK,IAAI7c,GAAT,IAAgB4c,GAAhB,EAAqB;AACpB,cAAIH,MAAM,CAACO,IAAP,CAAYJ,GAAZ,EAAiB5c,GAAjB,KAAyB4c,GAAG,CAAC5c,GAAD,CAAhC,EAAuC;AACtC2c,mBAAO,CAAClO,IAAR,CAAazO,GAAb;AACA;AACD;AACD;AACD;;AAED,WAAO2c,OAAO,CAACnQ,IAAR,CAAa,GAAb,CAAP;AACA;;AAED,MAAI,SAAiCyQ,MAAM,CAACC,OAA5C,EAAqD;AACpDR,cAAU,WAAV,GAAqBA,UAArB;AACAO,UAAM,CAACC,OAAP,GAAiBR,UAAjB;AACA,GAHD,MAGO,IAAI,SAAgC,QAAOS,iGAAP,MAAsB,QAAtD,IAAkEA,iGAAtE,EAAkF;AACxF;AACAA,qCAAqB,EAAf,mCAAmB,YAAY;AACpC,aAAOT,UAAP;AACA,KAFK;AAAA,oGAAN;AAGA,GALM,MAKA;AACNjW,UAAM,CAACiW,UAAP,GAAoBA,UAApB;AACA;AACD,CA5CA,GAAD,C;;;;;;;;;;;;ACPA;;;;;;AAMa;AACb;AACA,IAAIU,qBAAqB,GAAG9d,MAAM,CAAC8d,qBAAnC;AACA,IAAIlO,cAAc,GAAG5P,MAAM,CAACD,SAAP,CAAiB6P,cAAtC;AACA,IAAImO,gBAAgB,GAAG/d,MAAM,CAACD,SAAP,CAAiBie,oBAAxC;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACtB,MAAIA,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK/D,SAA5B,EAAuC;AACtC,UAAM,IAAIgE,SAAJ,CAAc,uDAAd,CAAN;AACA;;AAED,SAAOne,MAAM,CAACke,GAAD,CAAb;AACA;;AAED,SAASE,eAAT,GAA2B;AAC1B,MAAI;AACH,QAAI,CAACpe,MAAM,CAACuL,MAAZ,EAAoB;AACnB,aAAO,KAAP;AACA;;AAED;;AAEA;AACA,QAAI8S,KAAK,GAAG,IAAIvB,MAAJ,CAAW,KAAX,CAAZ,CARG,CAQ6B;AAChCuB,SAAK,CAAC,CAAD,CAAL,GAAW,IAAX;AACA,QAAIre,MAAM,CAACse,mBAAP,CAA2BD,KAA3B,EAAkC,CAAlC,MAAyC,GAA7C,EAAkD;AACjD,aAAO,KAAP;AACA;;AAED;AACA,QAAIE,KAAK,GAAG,EAAZ;AACA,SAAK,IAAI5d,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC5B4d,WAAK,CAAC,MAAMzB,MAAM,CAAC0B,YAAP,CAAoB7d,CAApB,CAAP,CAAL,GAAsCA,CAAtC;AACA;AACD,QAAI8d,MAAM,GAAGze,MAAM,CAACse,mBAAP,CAA2BC,KAA3B,EAAkCzC,GAAlC,CAAsC,UAAU4C,CAAV,EAAa;AAC/D,aAAOH,KAAK,CAACG,CAAD,CAAZ;AACA,KAFY,CAAb;AAGA,QAAID,MAAM,CAACvR,IAAP,CAAY,EAAZ,MAAoB,YAAxB,EAAsC;AACrC,aAAO,KAAP;AACA;;AAED;AACA,QAAIyR,KAAK,GAAG,EAAZ;AACA,2BAAuBnD,KAAvB,CAA6B,EAA7B,EAAiCzN,OAAjC,CAAyC,UAAU6Q,MAAV,EAAkB;AAC1DD,WAAK,CAACC,MAAD,CAAL,GAAgBA,MAAhB;AACA,KAFD;AAGA,QAAI5e,MAAM,CAACS,IAAP,CAAYT,MAAM,CAACuL,MAAP,CAAc,EAAd,EAAkBoT,KAAlB,CAAZ,EAAsCzR,IAAtC,CAA2C,EAA3C;AACF,0BADF,EAC0B;AACzB,aAAO,KAAP;AACA;;AAED,WAAO,IAAP;AACA,GArCD,CAqCE,OAAO2R,GAAP,EAAY;AACb;AACA,WAAO,KAAP;AACA;AACD;;AAEDlB,MAAM,CAACC,OAAP,GAAiBQ,eAAe,KAAKpe,MAAM,CAACuL,MAAZ,GAAqB,UAAUhL,MAAV,EAAkBF,MAAlB,EAA0B;AAC9E,MAAIye,IAAJ;AACA,MAAIC,EAAE,GAAGd,QAAQ,CAAC1d,MAAD,CAAjB;AACA,MAAIye,OAAJ;;AAEA,OAAK,IAAIhC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzS,SAAS,CAAC3J,MAA9B,EAAsCoc,CAAC,EAAvC,EAA2C;AAC1C8B,QAAI,GAAG9e,MAAM,CAACuK,SAAS,CAACyS,CAAD,CAAV,CAAb;;AAEA,SAAK,IAAItc,GAAT,IAAgBoe,IAAhB,EAAsB;AACrB,UAAIlP,cAAc,CAAC8N,IAAf,CAAoBoB,IAApB,EAA0Bpe,GAA1B,CAAJ,EAAoC;AACnCqe,UAAE,CAACre,GAAD,CAAF,GAAUoe,IAAI,CAACpe,GAAD,CAAd;AACA;AACD;;AAED,QAAIod,qBAAJ,EAA2B;AAC1BkB,aAAO,GAAGlB,qBAAqB,CAACgB,IAAD,CAA/B;AACA,WAAK,IAAIne,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqe,OAAO,CAACpe,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACxC,YAAIod,gBAAgB,CAACL,IAAjB,CAAsBoB,IAAtB,EAA4BE,OAAO,CAACre,CAAD,CAAnC,CAAJ,EAA6C;AAC5Coe,YAAE,CAACC,OAAO,CAACre,CAAD,CAAR,CAAF,GAAiBme,IAAI,CAACE,OAAO,CAACre,CAAD,CAAR,CAArB;AACA;AACD;AACD;AACD;;AAED,SAAOoe,EAAP;AACA,CAzBD,C;;;;;;;;;;;;AChEA;;;;;;;;;AASA,IAAIE,YAAY,GAAG,wBAAW,CAAE,CAAhC;;AAEA,IAAI1S,IAAJ,EAA2C;AACzC,MAAI2S,oBAAoB,GAAGC,mBAAO,CAAC,0FAAD,CAAlC;AACA,MAAIC,kBAAkB,GAAG,EAAzB;AACA,MAAI/C,GAAG,GAAGgD,QAAQ,CAAC3B,IAAT,CAAc4B,IAAd,CAAmBtf,MAAM,CAACD,SAAP,CAAiB6P,cAApC,CAAV;;AAEAqP,cAAY,GAAG,sBAASM,IAAT,EAAe;AAC5B,QAAIC,OAAO,GAAG,cAAcD,IAA5B;AACA,QAAI,OAAOvS,OAAP,KAAmB,WAAvB,EAAoC;AAClCA,aAAO,CAACC,KAAR,CAAcuS,OAAd;AACD;AACD,QAAI;AACF;AACA;AACA;AACA,YAAM,IAAIC,KAAJ,CAAUD,OAAV,CAAN;AACD,KALD,CAKE,OAAO5c,CAAP,EAAU,CAAE;AACf,GAXD;AAYD;;AAED;;;;;;;;;;;AAWA,SAAS8c,cAAT,CAAwBC,SAAxB,EAAmCC,MAAnC,EAA2CC,QAA3C,EAAqDC,aAArD,EAAoEC,QAApE,EAA8E;AAC5E,MAAIxT,IAAJ,EAA2C;AACzC,SAAK,IAAIyT,YAAT,IAAyBL,SAAzB,EAAoC;AAClC,UAAItD,GAAG,CAACsD,SAAD,EAAYK,YAAZ,CAAP,EAAkC;AAChC,YAAI/S,KAAJ;AACA;AACA;AACA;AACA,YAAI;AACF;AACA;AACA,cAAI,OAAO0S,SAAS,CAACK,YAAD,CAAhB,KAAmC,UAAvC,EAAmD;AACjD,gBAAInB,GAAG,GAAGY,KAAK;AACb,aAACK,aAAa,IAAI,aAAlB,IAAmC,IAAnC,GAA0CD,QAA1C,GAAqD,SAArD,GAAiEG,YAAjE,GAAgF,gBAAhF;AACA,0FADA,WACwFL,SAAS,CAACK,YAAD,CADjG,IACkH,IAFrG,CAAf;;AAIAnB,eAAG,CAACnS,IAAJ,GAAW,qBAAX;AACA,kBAAMmS,GAAN;AACD;AACD5R,eAAK,GAAG0S,SAAS,CAACK,YAAD,CAAT,CAAwBJ,MAAxB,EAAgCI,YAAhC,EAA8CF,aAA9C,EAA6DD,QAA7D,EAAuE,IAAvE,EAA6EX,oBAA7E,CAAR;AACD,SAZD,CAYE,OAAOe,EAAP,EAAW;AACXhT,eAAK,GAAGgT,EAAR;AACD;AACD,YAAIhT,KAAK,IAAI,EAAEA,KAAK,YAAYwS,KAAnB,CAAb,EAAwC;AACtCR,sBAAY;AACV,WAACa,aAAa,IAAI,aAAlB,IAAmC,0BAAnC;AACAD,kBADA,GACW,IADX,GACkBG,YADlB,GACiC,iCADjC;AAEA,qEAFA,WAEqE/S,KAFrE,IAE6E,IAF7E;AAGA,2EAHA;AAIA,0EAJA;AAKA,2CANU,CAAZ;;AAQD;AACD,YAAIA,KAAK,YAAYwS,KAAjB,IAA0B,EAAExS,KAAK,CAACuS,OAAN,IAAiBJ,kBAAnB,CAA9B,EAAsE;AACpE;AACA;AACAA,4BAAkB,CAACnS,KAAK,CAACuS,OAAP,CAAlB,GAAoC,IAApC;;AAEA,cAAIU,KAAK,GAAGH,QAAQ,GAAGA,QAAQ,EAAX,GAAgB,EAApC;;AAEAd,sBAAY;AACV,sBAAYY,QAAZ,GAAuB,SAAvB,GAAmC5S,KAAK,CAACuS,OAAzC,IAAoDU,KAAK,IAAI,IAAT,GAAgBA,KAAhB,GAAwB,EAA5E,CADU,CAAZ;;AAGD;AACF;AACF;AACF;AACF;;AAED;;;;;AAKAR,cAAc,CAACS,iBAAf,GAAmC,YAAW;AAC5C,MAAI5T,IAAJ,EAA2C;AACzC6S,sBAAkB,GAAG,EAArB;AACD;AACF,CAJD;;AAMAzB,MAAM,CAACC,OAAP,GAAiB8B,cAAjB,C;;;;;;;;;;;;ACrGA;;;;;;;;;AASA,IAAIU,OAAO,GAAGjB,mBAAO,CAAC,mDAAD,CAArB;AACA,IAAI5T,MAAM,GAAG4T,mBAAO,CAAC,6DAAD,CAApB;;AAEA,IAAID,oBAAoB,GAAGC,mBAAO,CAAC,0FAAD,CAAlC;AACA,IAAIO,cAAc,GAAGP,mBAAO,CAAC,sEAAD,CAA5B;;AAEA,IAAI9C,GAAG,GAAGgD,QAAQ,CAAC3B,IAAT,CAAc4B,IAAd,CAAmBtf,MAAM,CAACD,SAAP,CAAiB6P,cAApC,CAAV;AACA,IAAIqP,YAAY,GAAG,wBAAW,CAAE,CAAhC;;AAEA,IAAI1S,IAAJ,EAA2C;AACzC0S,cAAY,GAAG,sBAASM,IAAT,EAAe;AAC5B,QAAIC,OAAO,GAAG,cAAcD,IAA5B;AACA,QAAI,OAAOvS,OAAP,KAAmB,WAAvB,EAAoC;AAClCA,aAAO,CAACC,KAAR,CAAcuS,OAAd;AACD;AACD,QAAI;AACF;AACA;AACA;AACA,YAAM,IAAIC,KAAJ,CAAUD,OAAV,CAAN;AACD,KALD,CAKE,OAAO5c,CAAP,EAAU,CAAE;AACf,GAXD;AAYD;;AAED,SAASyd,4BAAT,GAAwC;AACtC,SAAO,IAAP;AACD;;AAED1C,MAAM,CAACC,OAAP,GAAiB,UAAS0C,cAAT,EAAyBC,mBAAzB,EAA8C;AAC7D;AACA,MAAIC,eAAe,GAAG,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,CAACC,QAA7D;AACA,MAAIC,oBAAoB,GAAG,YAA3B,CAH6D,CAGpB;;AAEzC;;;;;;;;;;;;;;AAcA,WAASC,aAAT,CAAuBC,aAAvB,EAAsC;AACpC,QAAIC,UAAU,GAAGD,aAAa,KAAKL,eAAe,IAAIK,aAAa,CAACL,eAAD,CAAhC,IAAqDK,aAAa,CAACF,oBAAD,CAAvE,CAA9B;AACA,QAAI,OAAOG,UAAP,KAAsB,UAA1B,EAAsC;AACpC,aAAOA,UAAP;AACD;AACF;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,MAAIC,SAAS,GAAG,eAAhB;;AAEA;AACA;AACA,MAAIC,cAAc,GAAG;AACnBC,SAAK,EAAEC,0BAA0B,CAAC,OAAD,CADd;AAEnBC,QAAI,EAAED,0BAA0B,CAAC,SAAD,CAFb;AAGnBE,QAAI,EAAEF,0BAA0B,CAAC,UAAD,CAHb;AAInBG,UAAM,EAAEH,0BAA0B,CAAC,QAAD,CAJf;AAKnBI,UAAM,EAAEJ,0BAA0B,CAAC,QAAD,CALf;AAMnBK,UAAM,EAAEL,0BAA0B,CAAC,QAAD,CANf;AAOnBM,UAAM,EAAEN,0BAA0B,CAAC,QAAD,CAPf;;AASnBO,OAAG,EAAEC,oBAAoB,EATN;AAUnBC,WAAO,EAAEC,wBAVU;AAWnBhgB,WAAO,EAAEigB,wBAAwB,EAXd;AAYnBC,eAAW,EAAEC,4BAA4B,EAZtB;AAanBC,cAAU,EAAEC,yBAbO;AAcnBhb,QAAI,EAAEib,iBAAiB,EAdJ;AAenBC,YAAQ,EAAEC,yBAfS;AAgBnBC,SAAK,EAAEC,qBAhBY;AAiBnBC,aAAS,EAAEC,sBAjBQ;AAkBnBC,SAAK,EAAEC,sBAlBY;AAmBnBC,SAAK,EAAEC,4BAnBY,EAArB;;;AAsBA;;;;AAIA;AACA,WAASC,EAAT,CAAYjgB,CAAZ,EAAeC,CAAf,EAAkB;AAChB;AACA,QAAID,CAAC,KAAKC,CAAV,EAAa;AACX;AACA;AACA,aAAOD,CAAC,KAAK,CAAN,IAAW,IAAIA,CAAJ,KAAU,IAAIC,CAAhC;AACD,KAJD,MAIO;AACL;AACA,aAAOD,CAAC,KAAKA,CAAN,IAAWC,CAAC,KAAKA,CAAxB;AACD;AACF;AACD;;AAEA;;;;;;;AAOA,WAASigB,aAAT,CAAuBtD,OAAvB,EAAgC;AAC9B,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKU,KAAL,GAAa,EAAb;AACD;AACD;AACA4C,eAAa,CAAC/iB,SAAd,GAA0B0f,KAAK,CAAC1f,SAAhC;;AAEA,WAASgjB,0BAAT,CAAoCC,QAApC,EAA8C;AAC5C,QAAIzW,IAAJ,EAA2C;AACzC,UAAI0W,uBAAuB,GAAG,EAA9B;AACA,UAAIC,0BAA0B,GAAG,CAAjC;AACD;AACD,aAASC,SAAT,CAAmBC,UAAnB,EAA+BC,KAA/B,EAAsCC,QAAtC,EAAgDxD,aAAhD,EAA+DD,QAA/D,EAAyE0D,YAAzE,EAAuFC,MAAvF,EAA+F;AAC7F1D,mBAAa,GAAGA,aAAa,IAAIiB,SAAjC;AACAwC,kBAAY,GAAGA,YAAY,IAAID,QAA/B;;AAEA,UAAIE,MAAM,KAAKtE,oBAAf,EAAqC;AACnC,YAAIqB,mBAAJ,EAAyB;AACvB;AACA,cAAI1B,GAAG,GAAG,IAAIY,KAAJ;AACR;AACA,2DADA;AAEA,0DAHQ,CAAV;;AAKAZ,aAAG,CAACnS,IAAJ,GAAW,qBAAX;AACA,gBAAMmS,GAAN;AACD,SATD,MASO,IAAItS,KAAA,IAAyC,OAAOS,OAAP,KAAmB,WAAhE,EAA6E;AAClF;AACA,cAAIyW,QAAQ,GAAG3D,aAAa,GAAG,GAAhB,GAAsBwD,QAArC;AACA;AACE,WAACL,uBAAuB,CAACQ,QAAD,CAAxB;AACA;AACAP,oCAA0B,GAAG,CAH/B;AAIE;AACAjE,wBAAY;AACV;AACA,gCADA,GACuBsE,YADvB,GACsC,aADtC,GACsDzD,aADtD,GACuE,wBADvE;AAEA,qEAFA;AAGA,4EAHA;AAIA,2EAJA,GAIkE,cALxD,CAAZ;;AAOAmD,mCAAuB,CAACQ,QAAD,CAAvB,GAAoC,IAApC;AACAP,sCAA0B;AAC3B;AACF;AACF;AACD,UAAIG,KAAK,CAACC,QAAD,CAAL,IAAmB,IAAvB,EAA6B;AAC3B,YAAIF,UAAJ,EAAgB;AACd,cAAIC,KAAK,CAACC,QAAD,CAAL,KAAoB,IAAxB,EAA8B;AAC5B,mBAAO,IAAIR,aAAJ,CAAkB,SAASjD,QAAT,GAAoB,IAApB,GAA2B0D,YAA3B,GAA0C,0BAA1C,IAAwE,SAASzD,aAAT,GAAyB,6BAAjG,CAAlB,CAAP;AACD;AACD,iBAAO,IAAIgD,aAAJ,CAAkB,SAASjD,QAAT,GAAoB,IAApB,GAA2B0D,YAA3B,GAA0C,6BAA1C,IAA2E,MAAMzD,aAAN,GAAsB,kCAAjG,CAAlB,CAAP;AACD;AACD,eAAO,IAAP;AACD,OARD,MAQO;AACL,eAAOkD,QAAQ,CAACK,KAAD,EAAQC,QAAR,EAAkBxD,aAAlB,EAAiCD,QAAjC,EAA2C0D,YAA3C,CAAf;AACD;AACF;;AAED,QAAIG,gBAAgB,GAAGP,SAAS,CAAC7D,IAAV,CAAe,IAAf,EAAqB,KAArB,CAAvB;AACAoE,oBAAgB,CAACN,UAAjB,GAA8BD,SAAS,CAAC7D,IAAV,CAAe,IAAf,EAAqB,IAArB,CAA9B;;AAEA,WAAOoE,gBAAP;AACD;;AAED,WAASxC,0BAAT,CAAoCyC,YAApC,EAAkD;AAChD,aAASX,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0EC,MAA1E,EAAkF;AAChF,UAAII,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAIO,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,UAAIC,QAAQ,KAAKF,YAAjB,EAA+B;AAC7B;AACA;AACA;AACA,YAAII,WAAW,GAAGC,cAAc,CAACJ,SAAD,CAAhC;;AAEA,eAAO,IAAId,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMQ,WAAN,GAAoB,iBAApB,GAAwCjE,aAAxC,GAAwD,cAAtH,KAAyI,MAAM6D,YAAN,GAAqB,IAA9J,CAAlB,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOZ,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAAStB,oBAAT,GAAgC;AAC9B,WAAOqB,0BAA0B,CAAC1C,4BAAD,CAAjC;AACD;;AAED,WAASuB,wBAAT,CAAkCqC,WAAlC,EAA+C;AAC7C,aAASjB,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAI,OAAOU,WAAP,KAAuB,UAA3B,EAAuC;AACrC,eAAO,IAAInB,aAAJ,CAAkB,eAAeS,YAAf,GAA8B,kBAA9B,GAAmDzD,aAAnD,GAAmE,iDAArF,CAAP;AACD;AACD,UAAI8D,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAI,CAAC7Y,KAAK,CAACsS,OAAN,CAAc6G,SAAd,CAAL,EAA+B;AAC7B,YAAIC,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,eAAO,IAAId,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMM,QAAN,GAAiB,iBAAjB,GAAqC/D,aAArC,GAAqD,uBAAnH,CAAlB,CAAP;AACD;AACD,WAAK,IAAInf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGijB,SAAS,CAAChjB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,YAAIsM,KAAK,GAAGgX,WAAW,CAACL,SAAD,EAAYjjB,CAAZ,EAAemf,aAAf,EAA8BD,QAA9B,EAAwC0D,YAAY,GAAG,GAAf,GAAqB5iB,CAArB,GAAyB,GAAjE,EAAsEue,oBAAtE,CAAvB;AACA,YAAIjS,KAAK,YAAYwS,KAArB,EAA4B;AAC1B,iBAAOxS,KAAP;AACD;AACF;AACD,aAAO,IAAP;AACD;AACD,WAAO8V,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASnB,wBAAT,GAAoC;AAClC,aAASmB,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAIK,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAI,CAAChD,cAAc,CAACsD,SAAD,CAAnB,EAAgC;AAC9B,YAAIC,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,eAAO,IAAId,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMM,QAAN,GAAiB,iBAAjB,GAAqC/D,aAArC,GAAqD,oCAAnH,CAAlB,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOiD,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASjB,4BAAT,GAAwC;AACtC,aAASiB,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAIK,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAI,CAAClD,OAAO,CAAC8D,kBAAR,CAA2BN,SAA3B,CAAL,EAA4C;AAC1C,YAAIC,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,eAAO,IAAId,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMM,QAAN,GAAiB,iBAAjB,GAAqC/D,aAArC,GAAqD,yCAAnH,CAAlB,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOiD,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASf,yBAAT,CAAmCkC,aAAnC,EAAkD;AAChD,aAASnB,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAI,EAAEF,KAAK,CAACC,QAAD,CAAL,YAA2Ba,aAA7B,CAAJ,EAAiD;AAC/C,YAAIC,iBAAiB,GAAGD,aAAa,CAACzX,IAAd,IAAsBqU,SAA9C;AACA,YAAIsD,eAAe,GAAGC,YAAY,CAACjB,KAAK,CAACC,QAAD,CAAN,CAAlC;AACA,eAAO,IAAIR,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMc,eAAN,GAAwB,iBAAxB,GAA4CvE,aAA5C,GAA4D,cAA1H,KAA6I,kBAAkBsE,iBAAlB,GAAsC,IAAnL,CAAlB,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOrB,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASV,qBAAT,CAA+BiC,cAA/B,EAA+C;AAC7C,QAAI,CAAC9Z,KAAK,CAACsS,OAAN,CAAcwH,cAAd,CAAL,EAAoC;AAClC,UAAIhY,IAAJ,EAA2C;AACzC,YAAIhC,SAAS,CAAC3J,MAAV,GAAmB,CAAvB,EAA0B;AACxBqe,sBAAY;AACV,2EAAiE1U,SAAS,CAAC3J,MAA3E,GAAoF,cAApF;AACA,oFAFU,CAAZ;;AAID,SALD,MAKO;AACLqe,sBAAY,CAAC,wDAAD,CAAZ;AACD;AACF;AACD,aAAOoB,4BAAP;AACD;;AAED,aAAS2C,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAIK,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,WAAK,IAAI3iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4jB,cAAc,CAAC3jB,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C,YAAIkiB,EAAE,CAACe,SAAD,EAAYW,cAAc,CAAC5jB,CAAD,CAA1B,CAAN,EAAsC;AACpC,iBAAO,IAAP;AACD;AACF;;AAED,UAAI6jB,YAAY,GAAGC,IAAI,CAACC,SAAL,CAAeH,cAAf,EAA+B,SAASI,QAAT,CAAkBjkB,GAAlB,EAAuB4O,KAAvB,EAA8B;AAC9E,YAAIsV,IAAI,GAAGZ,cAAc,CAAC1U,KAAD,CAAzB;AACA,YAAIsV,IAAI,KAAK,QAAb,EAAuB;AACrB,iBAAO9H,MAAM,CAACxN,KAAD,CAAb;AACD;AACD,eAAOA,KAAP;AACD,OANkB,CAAnB;AAOA,aAAO,IAAIwT,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,cAA9C,GAA+DzG,MAAM,CAAC8G,SAAD,CAArE,GAAmF,IAAnF,IAA2F,kBAAkB9D,aAAlB,GAAkC,qBAAlC,GAA0D0E,YAA1D,GAAyE,GAApK,CAAlB,CAAP;AACD;AACD,WAAOzB,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASZ,yBAAT,CAAmC6B,WAAnC,EAAgD;AAC9C,aAASjB,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAI,OAAOU,WAAP,KAAuB,UAA3B,EAAuC;AACrC,eAAO,IAAInB,aAAJ,CAAkB,eAAeS,YAAf,GAA8B,kBAA9B,GAAmDzD,aAAnD,GAAmE,kDAArF,CAAP;AACD;AACD,UAAI8D,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAIO,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,UAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACzB,eAAO,IAAIf,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,YAA9C,IAA8D,MAAMM,QAAN,GAAiB,iBAAjB,GAAqC/D,aAArC,GAAqD,wBAAnH,CAAlB,CAAP;AACD;AACD,WAAK,IAAIpf,GAAT,IAAgBkjB,SAAhB,EAA2B;AACzB,YAAIvH,GAAG,CAACuH,SAAD,EAAYljB,GAAZ,CAAP,EAAyB;AACvB,cAAIuM,KAAK,GAAGgX,WAAW,CAACL,SAAD,EAAYljB,GAAZ,EAAiBof,aAAjB,EAAgCD,QAAhC,EAA0C0D,YAAY,GAAG,GAAf,GAAqB7iB,GAA/D,EAAoEwe,oBAApE,CAAvB;AACA,cAAIjS,KAAK,YAAYwS,KAArB,EAA4B;AAC1B,mBAAOxS,KAAP;AACD;AACF;AACF;AACD,aAAO,IAAP;AACD;AACD,WAAO8V,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASR,sBAAT,CAAgCqC,mBAAhC,EAAqD;AACnD,QAAI,CAACpa,KAAK,CAACsS,OAAN,CAAc8H,mBAAd,CAAL,EAAyC;AACvCtY,WAAA,GAAwC0S,YAAY,CAAC,wEAAD,CAApD,GAAiI,SAAjI;AACA,aAAOoB,4BAAP;AACD;;AAED,SAAK,IAAI1f,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,mBAAmB,CAACjkB,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,UAAImkB,OAAO,GAAGD,mBAAmB,CAAClkB,CAAD,CAAjC;AACA,UAAI,OAAOmkB,OAAP,KAAmB,UAAvB,EAAmC;AACjC7F,oBAAY;AACV;AACA,mBADA,GACc8F,wBAAwB,CAACD,OAAD,CADtC,GACkD,YADlD,GACiEnkB,CADjE,GACqE,GAF3D,CAAZ;;AAIA,eAAO0f,4BAAP;AACD;AACF;;AAED,aAAS2C,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,WAAK,IAAI5iB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkkB,mBAAmB,CAACjkB,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,YAAImkB,OAAO,GAAGD,mBAAmB,CAAClkB,CAAD,CAAjC;AACA,YAAImkB,OAAO,CAACzB,KAAD,EAAQC,QAAR,EAAkBxD,aAAlB,EAAiCD,QAAjC,EAA2C0D,YAA3C,EAAyDrE,oBAAzD,CAAP,IAAyF,IAA7F,EAAmG;AACjG,iBAAO,IAAP;AACD;AACF;;AAED,aAAO,IAAI4D,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,gBAA9C,IAAkE,MAAMzD,aAAN,GAAsB,IAAxF,CAAlB,CAAP;AACD;AACD,WAAOiD,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASd,iBAAT,GAA6B;AAC3B,aAASc,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAI,CAACyB,MAAM,CAAC3B,KAAK,CAACC,QAAD,CAAN,CAAX,EAA8B;AAC5B,eAAO,IAAIR,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,gBAA9C,IAAkE,MAAMzD,aAAN,GAAsB,0BAAxF,CAAlB,CAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,WAAOiD,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASN,sBAAT,CAAgCuC,UAAhC,EAA4C;AAC1C,aAASjC,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAIK,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAIO,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,UAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACzB,eAAO,IAAIf,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,aAA9C,GAA8DM,QAA9D,GAAyE,IAAzE,IAAiF,kBAAkB/D,aAAlB,GAAkC,uBAAnH,CAAlB,CAAP;AACD;AACD,WAAK,IAAIpf,GAAT,IAAgBukB,UAAhB,EAA4B;AAC1B,YAAIH,OAAO,GAAGG,UAAU,CAACvkB,GAAD,CAAxB;AACA,YAAI,CAACokB,OAAL,EAAc;AACZ;AACD;AACD,YAAI7X,KAAK,GAAG6X,OAAO,CAAClB,SAAD,EAAYljB,GAAZ,EAAiBof,aAAjB,EAAgCD,QAAhC,EAA0C0D,YAAY,GAAG,GAAf,GAAqB7iB,GAA/D,EAAoEwe,oBAApE,CAAnB;AACA,YAAIjS,KAAJ,EAAW;AACT,iBAAOA,KAAP;AACD;AACF;AACD,aAAO,IAAP;AACD;AACD,WAAO8V,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASJ,4BAAT,CAAsCqC,UAAtC,EAAkD;AAChD,aAASjC,QAAT,CAAkBK,KAAlB,EAAyBC,QAAzB,EAAmCxD,aAAnC,EAAkDD,QAAlD,EAA4D0D,YAA5D,EAA0E;AACxE,UAAIK,SAAS,GAAGP,KAAK,CAACC,QAAD,CAArB;AACA,UAAIO,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,UAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACzB,eAAO,IAAIf,aAAJ,CAAkB,aAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,aAA9C,GAA8DM,QAA9D,GAAyE,IAAzE,IAAiF,kBAAkB/D,aAAlB,GAAkC,uBAAnH,CAAlB,CAAP;AACD;AACD;AACA;AACA,UAAIoF,OAAO,GAAG3Z,MAAM,CAAC,EAAD,EAAK8X,KAAK,CAACC,QAAD,CAAV,EAAsB2B,UAAtB,CAApB;AACA,WAAK,IAAIvkB,GAAT,IAAgBwkB,OAAhB,EAAyB;AACvB,YAAIJ,OAAO,GAAGG,UAAU,CAACvkB,GAAD,CAAxB;AACA,YAAI,CAACokB,OAAL,EAAc;AACZ,iBAAO,IAAIhC,aAAJ;AACL,uBAAajD,QAAb,GAAwB,IAAxB,GAA+B0D,YAA/B,GAA8C,SAA9C,GAA0D7iB,GAA1D,GAAgE,iBAAhE,GAAoFof,aAApF,GAAoG,IAApG;AACA,0BADA,GACmB2E,IAAI,CAACC,SAAL,CAAerB,KAAK,CAACC,QAAD,CAApB,EAAgC,IAAhC,EAAsC,IAAtC,CADnB;AAEA,0BAFA,GAEoBmB,IAAI,CAACC,SAAL,CAAe1kB,MAAM,CAACS,IAAP,CAAYwkB,UAAZ,CAAf,EAAwC,IAAxC,EAA8C,IAA9C,CAHf,CAAP;;AAKD;AACD,YAAIhY,KAAK,GAAG6X,OAAO,CAAClB,SAAD,EAAYljB,GAAZ,EAAiBof,aAAjB,EAAgCD,QAAhC,EAA0C0D,YAAY,GAAG,GAAf,GAAqB7iB,GAA/D,EAAoEwe,oBAApE,CAAnB;AACA,YAAIjS,KAAJ,EAAW;AACT,iBAAOA,KAAP;AACD;AACF;AACD,aAAO,IAAP;AACD;;AAED,WAAO8V,0BAA0B,CAACC,QAAD,CAAjC;AACD;;AAED,WAASgC,MAAT,CAAgBpB,SAAhB,EAA2B;AACzB,oBAAeA,SAAf;AACE,WAAK,QAAL;AACA,WAAK,QAAL;AACA,WAAK,WAAL;AACE,eAAO,IAAP;AACF,WAAK,SAAL;AACE,eAAO,CAACA,SAAR;AACF,WAAK,QAAL;AACE,YAAInZ,KAAK,CAACsS,OAAN,CAAc6G,SAAd,CAAJ,EAA8B;AAC5B,iBAAOA,SAAS,CAACjO,KAAV,CAAgBqP,MAAhB,CAAP;AACD;AACD,YAAIpB,SAAS,KAAK,IAAd,IAAsBtD,cAAc,CAACsD,SAAD,CAAxC,EAAqD;AACnD,iBAAO,IAAP;AACD;;AAED,YAAI9C,UAAU,GAAGF,aAAa,CAACgD,SAAD,CAA9B;AACA,YAAI9C,UAAJ,EAAgB;AACd,cAAIJ,QAAQ,GAAGI,UAAU,CAACpD,IAAX,CAAgBkG,SAAhB,CAAf;AACA,cAAIuB,IAAJ;AACA,cAAIrE,UAAU,KAAK8C,SAAS,CAACwB,OAA7B,EAAsC;AACpC,mBAAO,CAAC,CAACD,IAAI,GAAGzE,QAAQ,CAACrf,IAAT,EAAR,EAAyBgkB,IAAjC,EAAuC;AACrC,kBAAI,CAACL,MAAM,CAACG,IAAI,CAAC7V,KAAN,CAAX,EAAyB;AACvB,uBAAO,KAAP;AACD;AACF;AACF,WAND,MAMO;AACL;AACA,mBAAO,CAAC,CAAC6V,IAAI,GAAGzE,QAAQ,CAACrf,IAAT,EAAR,EAAyBgkB,IAAjC,EAAuC;AACrC,kBAAIC,KAAK,GAAGH,IAAI,CAAC7V,KAAjB;AACA,kBAAIgW,KAAJ,EAAW;AACT,oBAAI,CAACN,MAAM,CAACM,KAAK,CAAC,CAAD,CAAN,CAAX,EAAuB;AACrB,yBAAO,KAAP;AACD;AACF;AACF;AACF;AACF,SApBD,MAoBO;AACL,iBAAO,KAAP;AACD;;AAED,eAAO,IAAP;AACF;AACE,eAAO,KAAP,CA1CJ;;AA4CD;;AAED,WAASC,QAAT,CAAkB1B,QAAlB,EAA4BD,SAA5B,EAAuC;AACrC;AACA,QAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACzB,aAAO,IAAP;AACD;;AAED;AACA,QAAI,CAACD,SAAL,EAAgB;AACd,aAAO,KAAP;AACD;;AAED;AACA,QAAIA,SAAS,CAAC,eAAD,CAAT,KAA+B,QAAnC,EAA6C;AAC3C,aAAO,IAAP;AACD;;AAED;AACA,QAAI,OAAOnD,MAAP,KAAkB,UAAlB,IAAgCmD,SAAS,YAAYnD,MAAzD,EAAiE;AAC/D,aAAO,IAAP;AACD;;AAED,WAAO,KAAP;AACD;;AAED;AACA,WAASqD,WAAT,CAAqBF,SAArB,EAAgC;AAC9B,QAAIC,QAAQ,WAAUD,SAAV,CAAZ;AACA,QAAInZ,KAAK,CAACsS,OAAN,CAAc6G,SAAd,CAAJ,EAA8B;AAC5B,aAAO,OAAP;AACD;AACD,QAAIA,SAAS,YAAY4B,MAAzB,EAAiC;AAC/B;AACA;AACA;AACA,aAAO,QAAP;AACD;AACD,QAAID,QAAQ,CAAC1B,QAAD,EAAWD,SAAX,CAAZ,EAAmC;AACjC,aAAO,QAAP;AACD;AACD,WAAOC,QAAP;AACD;;AAED;AACA;AACA,WAASG,cAAT,CAAwBJ,SAAxB,EAAmC;AACjC,QAAI,OAAOA,SAAP,KAAqB,WAArB,IAAoCA,SAAS,KAAK,IAAtD,EAA4D;AAC1D,aAAO,KAAKA,SAAZ;AACD;AACD,QAAIC,QAAQ,GAAGC,WAAW,CAACF,SAAD,CAA1B;AACA,QAAIC,QAAQ,KAAK,QAAjB,EAA2B;AACzB,UAAID,SAAS,YAAY6B,IAAzB,EAA+B;AAC7B,eAAO,MAAP;AACD,OAFD,MAEO,IAAI7B,SAAS,YAAY4B,MAAzB,EAAiC;AACtC,eAAO,QAAP;AACD;AACF;AACD,WAAO3B,QAAP;AACD;;AAED;AACA;AACA,WAASkB,wBAAT,CAAkCzV,KAAlC,EAAyC;AACvC,QAAIsV,IAAI,GAAGZ,cAAc,CAAC1U,KAAD,CAAzB;AACA,YAAQsV,IAAR;AACE,WAAK,OAAL;AACA,WAAK,QAAL;AACE,eAAO,QAAQA,IAAf;AACF,WAAK,SAAL;AACA,WAAK,MAAL;AACA,WAAK,QAAL;AACE,eAAO,OAAOA,IAAd;AACF;AACE,eAAOA,IAAP,CATJ;;AAWD;;AAED;AACA,WAASN,YAAT,CAAsBV,SAAtB,EAAiC;AAC/B,QAAI,CAACA,SAAS,CAAC1jB,WAAX,IAA0B,CAAC0jB,SAAS,CAAC1jB,WAAV,CAAsBwM,IAArD,EAA2D;AACzD,aAAOqU,SAAP;AACD;AACD,WAAO6C,SAAS,CAAC1jB,WAAV,CAAsBwM,IAA7B;AACD;;AAEDsU,gBAAc,CAACtB,cAAf,GAAgCA,cAAhC;AACAsB,gBAAc,CAACb,iBAAf,GAAmCT,cAAc,CAACS,iBAAlD;AACAa,gBAAc,CAAC0E,SAAf,GAA2B1E,cAA3B;;AAEA,SAAOA,cAAP;AACD,CAziBD,C;;;;;;;;;;;ACrCA;;;;;;;AAOA,IAAIzU,IAAJ,EAA2C;AACzC,MAAI6T,OAAO,GAAGjB,mBAAO,CAAC,mDAAD,CAArB;;AAEA;AACA;AACA,MAAIoB,mBAAmB,GAAG,IAA1B;AACA5C,QAAM,CAACC,OAAP,GAAiBuB,mBAAO,CAAC,wFAAD,CAAP,CAAqCiB,OAAO,CAACxc,SAA7C,EAAwD2c,mBAAxD,CAAjB;AACD,CAPD,MAOO,E;;;;;;;;;;;;ACdP;;;;;;;AAOa;;AAEb,IAAIrB,oBAAoB,GAAG,8CAA3B;;AAEAvB,MAAM,CAACC,OAAP,GAAiBsB,oBAAjB,C;;;;;;;;;;;;ACXa;;AAEb,IAAI7C,GAAG,GAAGrc,MAAM,CAACD,SAAP,CAAiB6P,cAA3B;AACI+V,KADJ;;AAGA;;;;;;;AAOA,SAASC,MAAT,CAAgBC,KAAhB,EAAuB;AACrB,MAAI;AACF,WAAOC,kBAAkB,CAACD,KAAK,CAACtK,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAD,CAAzB;AACD,GAFD,CAEE,OAAOwK,CAAP,EAAU;AACV,WAAO,IAAP;AACD;AACF;;AAED;;;;;;;AAOA,SAASC,MAAT,CAAgBH,KAAhB,EAAuB;AACrB,MAAI;AACF,WAAOI,kBAAkB,CAACJ,KAAD,CAAzB;AACD,GAFD,CAEE,OAAOE,CAAP,EAAU;AACV,WAAO,IAAP;AACD;AACF;;AAED;;;;;;;AAOA,SAASG,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,MAAIC,MAAM,GAAG,sBAAb;AACIlK,QAAM,GAAG,EADb;AAEImK,MAFJ;;AAIA,SAAOA,IAAI,GAAGD,MAAM,CAACE,IAAP,CAAYH,KAAZ,CAAd,EAAkC;AAChC,QAAIzlB,GAAG,GAAGklB,MAAM,CAACS,IAAI,CAAC,CAAD,CAAL,CAAhB;AACI/W,SAAK,GAAGsW,MAAM,CAACS,IAAI,CAAC,CAAD,CAAL,CADlB;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAI3lB,GAAG,KAAK,IAAR,IAAgB4O,KAAK,KAAK,IAA1B,IAAkC5O,GAAG,IAAIwb,MAA7C,EAAqD;AACrDA,UAAM,CAACxb,GAAD,CAAN,GAAc4O,KAAd;AACD;;AAED,SAAO4M,MAAP;AACD;;AAED;;;;;;;;AAQA,SAASqK,cAAT,CAAwBC,GAAxB,EAA6BC,MAA7B,EAAqC;AACnCA,QAAM,GAAGA,MAAM,IAAI,EAAnB;;AAEA,MAAIC,KAAK,GAAG,EAAZ;AACIpX,OADJ;AAEI5O,KAFJ;;AAIA;AACA;AACA;AACA,MAAI,aAAa,OAAO+lB,MAAxB,EAAgCA,MAAM,GAAG,GAAT;;AAEhC,OAAK/lB,GAAL,IAAY8lB,GAAZ,EAAiB;AACf,QAAInK,GAAG,CAACqB,IAAJ,CAAS8I,GAAT,EAAc9lB,GAAd,CAAJ,EAAwB;AACtB4O,WAAK,GAAGkX,GAAG,CAAC9lB,GAAD,CAAX;;AAEA;AACA;AACA;AACA;AACA,UAAI,CAAC4O,KAAD,KAAWA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKqW,KAA5B,IAAqCgB,KAAK,CAACrX,KAAD,CAArD,CAAJ,EAAmE;AACjEA,aAAK,GAAG,EAAR;AACD;;AAED5O,SAAG,GAAGslB,MAAM,CAACtlB,GAAD,CAAZ;AACA4O,WAAK,GAAG0W,MAAM,CAAC1W,KAAD,CAAd;;AAEA;AACA;AACA;AACA;AACA,UAAI5O,GAAG,KAAK,IAAR,IAAgB4O,KAAK,KAAK,IAA9B,EAAoC;AACpCoX,WAAK,CAACvX,IAAN,CAAWzO,GAAG,GAAE,GAAL,GAAU4O,KAArB;AACD;AACF;;AAED,SAAOoX,KAAK,CAAC9lB,MAAN,GAAe6lB,MAAM,GAAGC,KAAK,CAACxZ,IAAN,CAAW,GAAX,CAAxB,GAA0C,EAAjD;AACD;;AAED;AACA;AACA;AACA0Q,OAAO,CAAC8G,SAAR,GAAoB6B,cAApB;AACA3I,OAAO,CAACgJ,KAAR,GAAgBV,WAAhB,C;;;;;;;;;;;+WCrHA;;AAEA,IAAIW,cAAc,GAAG,OAAO3e,OAAP,KAAmB,WAAxC;AACA,IAAI4e,MAAM,GAAG,OAAO7R,GAAP,KAAe,UAA5B;AACA,IAAI8R,MAAM,GAAG,OAAO9K,GAAP,KAAe,UAA5B;AACA,IAAI+K,cAAc,GAAG,OAAOC,WAAP,KAAuB,UAAvB,IAAqC,CAAC,CAACA,WAAW,CAACC,MAAxE;;AAEA;;AAEA,SAASC,KAAT,CAAevN,CAAf,EAAkBC,CAAlB,EAAqB;AACnB;AACA,MAAID,CAAC,KAAKC,CAAV,EAAa,OAAO,IAAP;;AAEb,MAAID,CAAC,IAAIC,CAAL,IAAU,QAAOD,CAAP,KAAY,QAAtB,IAAkC,QAAOC,CAAP,KAAY,QAAlD,EAA4D;AAC1D,QAAID,CAAC,CAAC1Z,WAAF,KAAkB2Z,CAAC,CAAC3Z,WAAxB,EAAqC,OAAO,KAAP;;AAErC,QAAIU,MAAJ,EAAYD,CAAZ,EAAeF,IAAf;AACA,QAAIgK,KAAK,CAACsS,OAAN,CAAcnD,CAAd,CAAJ,EAAsB;AACpBhZ,YAAM,GAAGgZ,CAAC,CAAChZ,MAAX;AACA,UAAIA,MAAM,IAAIiZ,CAAC,CAACjZ,MAAhB,EAAwB,OAAO,KAAP;AACxB,WAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,YAAI,CAACwmB,KAAK,CAACvN,CAAC,CAACjZ,CAAD,CAAF,EAAOkZ,CAAC,CAAClZ,CAAD,CAAR,CAAV,EAAwB,OAAO,KAAP,CAD1B;AAEA,aAAO,IAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIymB,EAAJ;AACA,QAAIN,MAAM,IAAKlN,CAAC,YAAY3E,GAAxB,IAAiC4E,CAAC,YAAY5E,GAAlD,EAAwD;AACtD,UAAI2E,CAAC,CAACyN,IAAF,KAAWxN,CAAC,CAACwN,IAAjB,EAAuB,OAAO,KAAP;AACvBD,QAAE,GAAGxN,CAAC,CAACwL,OAAF,EAAL;AACA,aAAO,CAAC,CAACzkB,CAAC,GAAGymB,EAAE,CAAC/lB,IAAH,EAAL,EAAgBgkB,IAAxB;AACE,YAAI,CAACxL,CAAC,CAACwC,GAAF,CAAM1b,CAAC,CAAC2O,KAAF,CAAQ,CAAR,CAAN,CAAL,EAAwB,OAAO,KAAP,CAD1B;AAEA8X,QAAE,GAAGxN,CAAC,CAACwL,OAAF,EAAL;AACA,aAAO,CAAC,CAACzkB,CAAC,GAAGymB,EAAE,CAAC/lB,IAAH,EAAL,EAAgBgkB,IAAxB;AACE,YAAI,CAAC8B,KAAK,CAACxmB,CAAC,CAAC2O,KAAF,CAAQ,CAAR,CAAD,EAAauK,CAAC,CAAC3D,GAAF,CAAMvV,CAAC,CAAC2O,KAAF,CAAQ,CAAR,CAAN,CAAb,CAAV,EAA2C,OAAO,KAAP,CAD7C;AAEA,aAAO,IAAP;AACD;;AAED,QAAIyX,MAAM,IAAKnN,CAAC,YAAYqC,GAAxB,IAAiCpC,CAAC,YAAYoC,GAAlD,EAAwD;AACtD,UAAIrC,CAAC,CAACyN,IAAF,KAAWxN,CAAC,CAACwN,IAAjB,EAAuB,OAAO,KAAP;AACvBD,QAAE,GAAGxN,CAAC,CAACwL,OAAF,EAAL;AACA,aAAO,CAAC,CAACzkB,CAAC,GAAGymB,EAAE,CAAC/lB,IAAH,EAAL,EAAgBgkB,IAAxB;AACE,YAAI,CAACxL,CAAC,CAACwC,GAAF,CAAM1b,CAAC,CAAC2O,KAAF,CAAQ,CAAR,CAAN,CAAL,EAAwB,OAAO,KAAP,CAD1B;AAEA,aAAO,IAAP;AACD;AACD;;AAEA,QAAI0X,cAAc,IAAIC,WAAW,CAACC,MAAZ,CAAmBtN,CAAnB,CAAlB,IAA2CqN,WAAW,CAACC,MAAZ,CAAmBrN,CAAnB,CAA/C,EAAsE;AACpEjZ,YAAM,GAAGgZ,CAAC,CAAChZ,MAAX;AACA,UAAIA,MAAM,IAAIiZ,CAAC,CAACjZ,MAAhB,EAAwB,OAAO,KAAP;AACxB,WAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,YAAIiZ,CAAC,CAACjZ,CAAD,CAAD,KAASkZ,CAAC,CAAClZ,CAAD,CAAd,EAAmB,OAAO,KAAP,CADrB;AAEA,aAAO,IAAP;AACD;;AAED,QAAIiZ,CAAC,CAAC1Z,WAAF,KAAkBslB,MAAtB,EAA8B,OAAO5L,CAAC,CAACvZ,MAAF,KAAawZ,CAAC,CAACxZ,MAAf,IAAyBuZ,CAAC,CAAC0N,KAAF,KAAYzN,CAAC,CAACyN,KAA9C;AAC9B,QAAI1N,CAAC,CAAC2N,OAAF,KAAcvnB,MAAM,CAACD,SAAP,CAAiBwnB,OAAnC,EAA4C,OAAO3N,CAAC,CAAC2N,OAAF,OAAgB1N,CAAC,CAAC0N,OAAF,EAAvB;AAC5C,QAAI3N,CAAC,CAAC/R,QAAF,KAAe7H,MAAM,CAACD,SAAP,CAAiB8H,QAApC,EAA8C,OAAO+R,CAAC,CAAC/R,QAAF,OAAiBgS,CAAC,CAAChS,QAAF,EAAxB;;AAE9CpH,QAAI,GAAGT,MAAM,CAACS,IAAP,CAAYmZ,CAAZ,CAAP;AACAhZ,UAAM,GAAGH,IAAI,CAACG,MAAd;AACA,QAAIA,MAAM,KAAKZ,MAAM,CAACS,IAAP,CAAYoZ,CAAZ,EAAejZ,MAA9B,EAAsC,OAAO,KAAP;;AAEtC,SAAKD,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB;AACE,UAAI,CAACX,MAAM,CAACD,SAAP,CAAiB6P,cAAjB,CAAgC8N,IAAhC,CAAqC7D,CAArC,EAAwCpZ,IAAI,CAACE,CAAD,CAA5C,CAAL,EAAuD,OAAO,KAAP,CADzD;AAEA;;AAEA;AACA;AACA,QAAIkmB,cAAc,IAAIjN,CAAC,YAAY1R,OAAnC,EAA4C,OAAO,KAAP;;AAE5C;AACA,SAAKvH,CAAC,GAAGC,MAAT,EAAiBD,CAAC,OAAO,CAAzB,GAA6B;AAC3B,UAAI,CAACF,IAAI,CAACE,CAAD,CAAJ,KAAY,QAAZ,IAAwBF,IAAI,CAACE,CAAD,CAAJ,KAAY,KAApC,IAA6CF,IAAI,CAACE,CAAD,CAAJ,KAAY,KAA1D,KAAoEiZ,CAAC,CAAC4N,QAA1E,EAAoF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACD;;AAED;AACA,UAAI,CAACL,KAAK,CAACvN,CAAC,CAACnZ,IAAI,CAACE,CAAD,CAAL,CAAF,EAAakZ,CAAC,CAACpZ,IAAI,CAACE,CAAD,CAAL,CAAd,CAAV,EAAoC,OAAO,KAAP;AACrC;AACD;;AAEA;AACA,WAAO,IAAP;AACD;;AAED,SAAOiZ,CAAC,KAAKA,CAAN,IAAWC,CAAC,KAAKA,CAAxB;AACD;AACD;;AAEA8D,MAAM,CAACC,OAAP,GAAiB,SAAS6J,OAAT,CAAiB7N,CAAjB,EAAoBC,CAApB,EAAuB;AACtC,MAAI;AACF,WAAOsN,KAAK,CAACvN,CAAD,EAAIC,CAAJ,CAAZ;AACD,GAFD,CAEE,OAAO5M,KAAP,EAAc;AACd,QAAK,CAACA,KAAK,CAACuS,OAAN,IAAiB,EAAlB,EAAsBkI,KAAtB,CAA4B,kBAA5B,CAAL,EAAuD;AACrD;AACA;AACA;AACA;AACA;AACA1a,aAAO,CAACQ,IAAR,CAAa,gDAAb;AACA,aAAO,KAAP;AACD;AACD;AACA,UAAMP,KAAN;AACD;AACF,CAhBD,C;;;;;;;;;;;;ACrHA;;;;;;;;;;;;;AAaA,IAAIV,IAAJ,EAA2C;AACzC,GAAC,YAAW;AACd;;AAEA;AACA;AACA,QAAIob,SAAS,GAAG,OAAOlH,MAAP,KAAkB,UAAlB,IAAgCA,MAAM,OAAtD;AACA,QAAImH,kBAAkB,GAAGD,SAAS,GAAGlH,MAAM,OAAN,CAAW,eAAX,CAAH,GAAiC,MAAnE;AACA,QAAIoH,iBAAiB,GAAGF,SAAS,GAAGlH,MAAM,OAAN,CAAW,cAAX,CAAH,GAAgC,MAAjE;AACA,QAAIqH,mBAAmB,GAAGH,SAAS,GAAGlH,MAAM,OAAN,CAAW,gBAAX,CAAH,GAAkC,MAArE;AACA,QAAIsH,sBAAsB,GAAGJ,SAAS,GAAGlH,MAAM,OAAN,CAAW,mBAAX,CAAH,GAAqC,MAA3E;AACA,QAAIuH,mBAAmB,GAAGL,SAAS,GAAGlH,MAAM,OAAN,CAAW,gBAAX,CAAH,GAAkC,MAArE;AACA,QAAIwH,mBAAmB,GAAGN,SAAS,GAAGlH,MAAM,OAAN,CAAW,gBAAX,CAAH,GAAkC,MAArE;AACA,QAAIyH,kBAAkB,GAAGP,SAAS,GAAGlH,MAAM,OAAN,CAAW,eAAX,CAAH,GAAiC,MAAnE,CAZc,CAY6D;AAC3E;;AAEA,QAAI0H,qBAAqB,GAAGR,SAAS,GAAGlH,MAAM,OAAN,CAAW,kBAAX,CAAH,GAAoC,MAAzE;AACA,QAAI2H,0BAA0B,GAAGT,SAAS,GAAGlH,MAAM,OAAN,CAAW,uBAAX,CAAH,GAAyC,MAAnF;AACA,QAAI4H,sBAAsB,GAAGV,SAAS,GAAGlH,MAAM,OAAN,CAAW,mBAAX,CAAH,GAAqC,MAA3E;AACA,QAAI6H,mBAAmB,GAAGX,SAAS,GAAGlH,MAAM,OAAN,CAAW,gBAAX,CAAH,GAAkC,MAArE;AACA,QAAI8H,wBAAwB,GAAGZ,SAAS,GAAGlH,MAAM,OAAN,CAAW,qBAAX,CAAH,GAAuC,MAA/E;AACA,QAAI+H,eAAe,GAAGb,SAAS,GAAGlH,MAAM,OAAN,CAAW,YAAX,CAAH,GAA8B,MAA7D;AACA,QAAIgI,eAAe,GAAGd,SAAS,GAAGlH,MAAM,OAAN,CAAW,YAAX,CAAH,GAA8B,MAA7D;AACA,QAAIiI,gBAAgB,GAAGf,SAAS,GAAGlH,MAAM,OAAN,CAAW,aAAX,CAAH,GAA+B,MAA/D;AACA,QAAIkI,sBAAsB,GAAGhB,SAAS,GAAGlH,MAAM,OAAN,CAAW,mBAAX,CAAH,GAAqC,MAA3E;AACA,QAAImI,oBAAoB,GAAGjB,SAAS,GAAGlH,MAAM,OAAN,CAAW,iBAAX,CAAH,GAAmC,MAAvE;AACA,QAAIoI,gBAAgB,GAAGlB,SAAS,GAAGlH,MAAM,OAAN,CAAW,aAAX,CAAH,GAA+B,MAA/D;;AAEA,aAASyD,kBAAT,CAA4BU,IAA5B,EAAkC;AAChC,aAAO,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAA5C,IAA0D;AACjEA,UAAI,KAAKkD,mBADF,IACyBlD,IAAI,KAAKwD,0BADlC,IACgExD,IAAI,KAAKoD,mBADzE,IACgGpD,IAAI,KAAKmD,sBADzG,IACmInD,IAAI,KAAK0D,mBAD5I,IACmK1D,IAAI,KAAK2D,wBAD5K,IACwM,QAAO3D,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAArC,KAA8CA,IAAI,CAAC4C,QAAL,KAAkBiB,eAAlB,IAAqC7D,IAAI,CAAC4C,QAAL,KAAkBgB,eAAvD,IAA0E5D,IAAI,CAAC4C,QAAL,KAAkBS,mBAA5F,IAAmHrD,IAAI,CAAC4C,QAAL,KAAkBU,kBAArI,IAA2JtD,IAAI,CAAC4C,QAAL,KAAkBa,sBAA7K,IAAuMzD,IAAI,CAAC4C,QAAL,KAAkBmB,sBAAzN,IAAmP/D,IAAI,CAAC4C,QAAL,KAAkBoB,oBAArQ,IAA6RhE,IAAI,CAAC4C,QAAL,KAAkBqB,gBAA/S,IAAmUjE,IAAI,CAAC4C,QAAL,KAAkBkB,gBAAnY,CAD/M;AAED;;AAED,aAASI,MAAT,CAAgBxH,MAAhB,EAAwB;AACtB,UAAI,QAAOA,MAAP,MAAkB,QAAlB,IAA8BA,MAAM,KAAK,IAA7C,EAAmD;AACjD,YAAIkG,QAAQ,GAAGlG,MAAM,CAACkG,QAAtB;;AAEA,gBAAQA,QAAR;AACE,eAAKI,kBAAL;AACE,gBAAIhD,IAAI,GAAGtD,MAAM,CAACsD,IAAlB;;AAEA,oBAAQA,IAAR;AACE,mBAAKuD,qBAAL;AACA,mBAAKC,0BAAL;AACA,mBAAKN,mBAAL;AACA,mBAAKE,mBAAL;AACA,mBAAKD,sBAAL;AACA,mBAAKO,mBAAL;AACE,uBAAO1D,IAAP;;AAEF;AACE,oBAAImE,YAAY,GAAGnE,IAAI,IAAIA,IAAI,CAAC4C,QAAhC;;AAEA,wBAAQuB,YAAR;AACE,uBAAKb,kBAAL;AACA,uBAAKG,sBAAL;AACA,uBAAKI,eAAL;AACA,uBAAKD,eAAL;AACA,uBAAKP,mBAAL;AACE,2BAAOc,YAAP;;AAEF;AACE,2BAAOvB,QAAP,CATJ,CAZJ;;;;;AA0BF,eAAKK,iBAAL;AACE,mBAAOL,QAAP,CA/BJ;;AAiCD;;AAED,aAAOrN,SAAP;AACD,KAxEa,CAwEZ;;AAEF,QAAI6O,SAAS,GAAGb,qBAAhB;AACA,QAAIc,cAAc,GAAGb,0BAArB;AACA,QAAIc,eAAe,GAAGhB,kBAAtB;AACA,QAAIiB,eAAe,GAAGlB,mBAAtB;AACA,QAAI/f,OAAO,GAAG0f,kBAAd;AACA,QAAIwB,UAAU,GAAGf,sBAAjB;AACA,QAAIgB,QAAQ,GAAGvB,mBAAf;AACA,QAAIwB,IAAI,GAAGb,eAAX;AACA,QAAIc,IAAI,GAAGf,eAAX;AACA,QAAIgB,MAAM,GAAG3B,iBAAb;AACA,QAAI4B,QAAQ,GAAGzB,mBAAf;AACA,QAAI0B,UAAU,GAAG3B,sBAAjB;AACA,QAAI4B,QAAQ,GAAGrB,mBAAf;AACA,QAAIsB,mCAAmC,GAAG,KAA1C,CAvFc,CAuFmC;;AAEjD,aAASC,WAAT,CAAqBvI,MAArB,EAA6B;AAC3B;AACE,YAAI,CAACsI,mCAAL,EAA0C;AACxCA,6CAAmC,GAAG,IAAtC,CADwC,CACI;;AAE5C5c,iBAAO,CAAC,MAAD,CAAP,CAAgB,0DAA0D,4DAA1D,GAAyH,gEAAzI;AACD;AACF;;AAED,aAAO8c,gBAAgB,CAACxI,MAAD,CAAhB,IAA4BwH,MAAM,CAACxH,MAAD,CAAN,KAAmB6G,qBAAtD;AACD;AACD,aAAS2B,gBAAT,CAA0BxI,MAA1B,EAAkC;AAChC,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmB8G,0BAA1B;AACD;AACD,aAAS2B,iBAAT,CAA2BzI,MAA3B,EAAmC;AACjC,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmB4G,kBAA1B;AACD;AACD,aAAS8B,iBAAT,CAA2B1I,MAA3B,EAAmC;AACjC,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmB2G,mBAA1B;AACD;AACD,aAASrkB,SAAT,CAAmB0d,MAAnB,EAA2B;AACzB,aAAO,QAAOA,MAAP,MAAkB,QAAlB,IAA8BA,MAAM,KAAK,IAAzC,IAAiDA,MAAM,CAACkG,QAAP,KAAoBI,kBAA5E;AACD;AACD,aAASqC,YAAT,CAAsB3I,MAAtB,EAA8B;AAC5B,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmB+G,sBAA1B;AACD;AACD,aAAS6B,UAAT,CAAoB5I,MAApB,EAA4B;AAC1B,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmBwG,mBAA1B;AACD;AACD,aAASqC,MAAT,CAAgB7I,MAAhB,EAAwB;AACtB,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmBmH,eAA1B;AACD;AACD,aAAS2B,MAAT,CAAgB9I,MAAhB,EAAwB;AACtB,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmBkH,eAA1B;AACD;AACD,aAAS6B,QAAT,CAAkB/I,MAAlB,EAA0B;AACxB,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmBuG,iBAA1B;AACD;AACD,aAASyC,UAAT,CAAoBhJ,MAApB,EAA4B;AAC1B,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmB0G,mBAA1B;AACD;AACD,aAASuC,YAAT,CAAsBjJ,MAAtB,EAA8B;AAC5B,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmByG,sBAA1B;AACD;AACD,aAASyC,UAAT,CAAoBlJ,MAApB,EAA4B;AAC1B,aAAOwH,MAAM,CAACxH,MAAD,CAAN,KAAmBgH,mBAA1B;AACD;;AAED1K,WAAO,CAACoL,SAAR,GAAoBA,SAApB;AACApL,WAAO,CAACqL,cAAR,GAAyBA,cAAzB;AACArL,WAAO,CAACsL,eAAR,GAA0BA,eAA1B;AACAtL,WAAO,CAACuL,eAAR,GAA0BA,eAA1B;AACAvL,WAAO,CAAC1V,OAAR,GAAkBA,OAAlB;AACA0V,WAAO,CAACwL,UAAR,GAAqBA,UAArB;AACAxL,WAAO,CAACyL,QAAR,GAAmBA,QAAnB;AACAzL,WAAO,CAAC0L,IAAR,GAAeA,IAAf;AACA1L,WAAO,CAAC2L,IAAR,GAAeA,IAAf;AACA3L,WAAO,CAAC4L,MAAR,GAAiBA,MAAjB;AACA5L,WAAO,CAAC6L,QAAR,GAAmBA,QAAnB;AACA7L,WAAO,CAAC8L,UAAR,GAAqBA,UAArB;AACA9L,WAAO,CAAC+L,QAAR,GAAmBA,QAAnB;AACA/L,WAAO,CAACiM,WAAR,GAAsBA,WAAtB;AACAjM,WAAO,CAACkM,gBAAR,GAA2BA,gBAA3B;AACAlM,WAAO,CAACmM,iBAAR,GAA4BA,iBAA5B;AACAnM,WAAO,CAACoM,iBAAR,GAA4BA,iBAA5B;AACApM,WAAO,CAACha,SAAR,GAAoBA,SAApB;AACAga,WAAO,CAACqM,YAAR,GAAuBA,YAAvB;AACArM,WAAO,CAACsM,UAAR,GAAqBA,UAArB;AACAtM,WAAO,CAACuM,MAAR,GAAiBA,MAAjB;AACAvM,WAAO,CAACwM,MAAR,GAAiBA,MAAjB;AACAxM,WAAO,CAACyM,QAAR,GAAmBA,QAAnB;AACAzM,WAAO,CAAC0M,UAAR,GAAqBA,UAArB;AACA1M,WAAO,CAAC2M,YAAR,GAAuBA,YAAvB;AACA3M,WAAO,CAAC4M,UAAR,GAAqBA,UAArB;AACA5M,WAAO,CAACsG,kBAAR,GAA6BA,kBAA7B;AACAtG,WAAO,CAACkL,MAAR,GAAiBA,MAAjB;AACG,GArKD;AAsKD,C;;;;;;;;;;;;ACpLY;;AAEb,IAAIvc,KAAJ,EAA2C,EAA3C,MAEO;AACLoR,QAAM,CAACC,OAAP,GAAiBuB,mBAAO,CAAC,2FAAD,CAAxB;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,IAAIsL,2BAA2B,GAAGC,mDAAA,EAAlC;AACA,IAAIC,iCAAiC,GAAGD,mDAAA,EAAxC;AACA,SAASE,OAAT,CAAiBne,IAAjB,EAAuB;AAC5B,MAAIoe,QAAQ,GAAGpe,IAAI,CAACoe,QAApB;;AAEA,MAAIC,eAAe,GAAGJ,8CAAA,CAAe,IAAf,CAAtB;AACIK,eAAa,GAAGD,eAAe,CAAC,CAAD,CADnC;AAEIE,kBAAgB,GAAGF,eAAe,CAAC,CAAD,CAFtC;;AAIAJ,iDAAA,CAAgB,YAAY;AAC1B,WAAO,YAAY;AACjBM,sBAAgB,CAAC,IAAD,CAAhB;AACD,KAFD;AAGD,GAJD,EAIG,CAACA,gBAAD,CAJH;AAKA,SAAO,aAAaN,mDAAA,CAAoBD,2BAA2B,CAACQ,QAAhD,EAA0D;AAC5E3b,SAAK,EAAEyb,aADqE,EAA1D;AAEjB,eAAaL,mDAAA,CAAoBC,iCAAiC,CAACM,QAAtD,EAAgE;AAC9E3b,SAAK,EAAE0b,gBADuE,EAAhE;AAEbH,UAFa,CAFI,CAApB;AAKD,C;;;;;;;;;;;;ACpBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAIK,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,SAAO,KAAK,CAAZ;AACD,CAFD;;AAIA,IAAIC,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,SAAO1c,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,CAFD;;AAIA,IAAI0c,eAAe,GAAG,EAAtB;AACO,SAASC,MAAT,CAAgB5e,IAAhB,EAAsB;AAC3B,MAAI6e,cAAc,GAAG7e,IAAI,CAACrD,SAA1B;AACIA,WAAS,GAAGkiB,cAAc,KAAK,KAAK,CAAxB,GAA4B,QAA5B,GAAuCA,cADvD;AAEIC,eAAa,GAAG9e,IAAI,CAACrC,QAFzB;AAGIA,UAAQ,GAAGmhB,aAAa,KAAK,KAAK,CAAvB,GAA2B,UAA3B,GAAwCA,aAHvD;AAIIC,gBAAc,GAAG/e,IAAI,CAACtC,SAJ1B;AAKIA,WAAS,GAAGqhB,cAAc,KAAK,KAAK,CAAxB,GAA4BJ,eAA5B,GAA8CI,cAL9D;AAMI9Q,kBAAgB,GAAGjO,IAAI,CAACiO,gBAN5B;AAOI7L,eAAa,GAAGpC,IAAI,CAACoC,aAPzB;AAQI4c,UAAQ,GAAGhf,IAAI,CAACgf,QARpB;AASIZ,UAAQ,GAAGpe,IAAI,CAACoe,QATpB;AAUA,MAAIE,aAAa,GAAGL,gDAAA,CAAiBD,oEAAjB,CAApB;;AAEA,MAAIK,eAAe,GAAGJ,8CAAA,CAAe,IAAf,CAAtB;AACIgB,eAAa,GAAGZ,eAAe,CAAC,CAAD,CADnC;AAEIa,kBAAgB,GAAGb,eAAe,CAAC,CAAD,CAFtC;;AAIA,MAAIc,gBAAgB,GAAGlB,8CAAA,CAAe,IAAf,CAAvB;AACIxa,cAAY,GAAG0b,gBAAgB,CAAC,CAAD,CADnC;AAEIC,iBAAe,GAAGD,gBAAgB,CAAC,CAAD,CAFtC;;AAIAlB,iDAAA,CAAgB,YAAY;AAC1B,WAAOoB,qDAAM,CAACL,QAAD,EAAWC,aAAX,CAAb;AACD,GAFD,EAEG,CAACD,QAAD,EAAWC,aAAX,CAFH;AAGA,MAAItgB,OAAO,GAAGsf,6CAAA,CAAc,YAAY;AACtC,WAAO;AACLthB,eAAS,EAAEA,SADN;AAELgB,cAAQ,EAAEA,QAFL;AAGLyE,mBAAa,EAAEA,aAHV;AAIL1E,eAAS,EAAE,GAAGjG,MAAH,CAAUiG,SAAV,EAAqB,CAAC;AAC/BuC,YAAI,EAAE,OADyB;AAE/BJ,eAAO,EAAE4D,YAAY,IAAI,IAFM;AAG/B9E,eAAO,EAAE;AACPxJ,iBAAO,EAAEsO,YADF,EAHsB,EAAD,CAArB,CAJN,EAAP;;;;AAYD,GAba,EAaX,CAAC9G,SAAD,EAAYgB,QAAZ,EAAsByE,aAAtB,EAAqC1E,SAArC,EAAgD+F,YAAhD,CAbW,CAAd;;AAeA,MAAI6b,UAAU,GAAGC,4DAAS,CAACtR,gBAAgB,IAAIqQ,aAArB,EAAoCW,aAApC,EAAmDtgB,OAAnD,CAA1B;AACIC,OAAK,GAAG0gB,UAAU,CAAC1gB,KADvB;AAEIM,QAAM,GAAGogB,UAAU,CAACpgB,MAFxB;AAGIgC,aAAW,GAAGoe,UAAU,CAACpe,WAH7B;AAIID,QAAM,GAAGqe,UAAU,CAACre,MAJxB;;AAMA,MAAIue,aAAa,GAAGvB,6CAAA,CAAc,YAAY;AAC5C,WAAO;AACLwB,SAAG,EAAEP,gBADA;AAELtc,WAAK,EAAE1D,MAAM,CAAC3C,MAFT;AAGLI,eAAS,EAAEiC,KAAK,GAAGA,KAAK,CAACjC,SAAT,GAAqBA,SAHhC;AAIL6N,sBAAgB,EAAE5L,KAAK,IAAIA,KAAK,CAACG,aAAN,CAAoBiL,IAA7B,GAAoCpL,KAAK,CAACG,aAAN,CAAoBiL,IAApB,CAAyBQ,gBAA7D,GAAgF,IAJ7F;AAKLD,uBAAiB,EAAE3L,KAAK,IAAIA,KAAK,CAACG,aAAN,CAAoBiL,IAA7B,GAAoCpL,KAAK,CAACG,aAAN,CAAoBiL,IAApB,CAAyBO,iBAA7D,GAAiF,IAL/F;AAMLmV,gBAAU,EAAE;AACV9c,aAAK,EAAE1D,MAAM,CAAC+D,KADJ;AAEVwc,WAAG,EAAEL,eAFK,EANP;;AAULle,iBAAW,EAAEA,WAAW,IAAIud,IAVvB;AAWLxd,YAAM,EAAEA,MAAM,IAAIyd,YAXb,EAAP;;AAaD,GAdmB,EAcjB,CAACQ,gBAAD,EAAmBE,eAAnB,EAAoCziB,SAApC,EAA+CiC,KAA/C,EAAsDM,MAAtD,EAA8D+B,MAA9D,EAAsEC,WAAtE,CAdiB,CAApB;AAeA,SAAOye,0DAAW,CAACvB,QAAD,CAAX,CAAsBoB,aAAtB,CAAP;AACD,C;;;;;;;;;;;;AC3ED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACO,SAASI,SAAT,CAAmB5f,IAAnB,EAAyB;AAC9B,MAAIoe,QAAQ,GAAGpe,IAAI,CAACoe,QAApB;AACIY,UAAQ,GAAGhf,IAAI,CAACgf,QADpB;AAEA,MAAIT,gBAAgB,GAAGN,gDAAA,CAAiBC,0EAAjB,CAAvB;AACA,MAAI2B,UAAU,GAAG5B,iDAAA,CAAkB,UAAUzjB,IAAV,EAAgB;AACjD6kB,yDAAM,CAACL,QAAD,EAAWxkB,IAAX,CAAN;AACAslB,6DAAU,CAACvB,gBAAD,EAAmB/jB,IAAnB,CAAV;AACD,GAHgB,EAGd,CAACwkB,QAAD,EAAWT,gBAAX,CAHc,CAAjB,CAJ8B,CAOI;;AAElCN,iDAAA,CAAgB,YAAY;AAC1B,WAAO,YAAY;AACjB,aAAOoB,qDAAM,CAACL,QAAD,EAAW,IAAX,CAAb;AACD,KAFD;AAGD,GAJD;AAKAf,iDAAA,CAAgB,YAAY;AAC1B8B,kDAAO,CAACtrB,OAAO,CAAC8pB,gBAAD,CAAR,EAA4B,kEAA5B,CAAP;AACD,GAFD,EAEG,CAACA,gBAAD,CAFH;AAGA,SAAOoB,0DAAW,CAACvB,QAAD,CAAX,CAAsB;AAC3BqB,OAAG,EAAEI,UADsB,EAAtB,CAAP;;AAGD,C;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;CACkD,e;;;;;;;;;;;;ACLlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAIlB,eAAe,GAAG,EAAtB;AACO,IAAIY,SAAS,GAAG,SAASA,SAAT,CAAmBtR,gBAAnB,EAAqCgR,aAArC,EAAoDtgB,OAApD,EAA6D;AAClF,MAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AACtBA,WAAO,GAAG,EAAV;AACD;;AAED,MAAIqhB,WAAW,GAAG/B,4CAAA,CAAa,IAAb,CAAlB;AACA,MAAIgC,mBAAmB,GAAG;AACxB7d,iBAAa,EAAEzD,OAAO,CAACyD,aADC;AAExBzF,aAAS,EAAEgC,OAAO,CAAChC,SAAR,IAAqB,QAFR;AAGxBgB,YAAQ,EAAEgB,OAAO,CAAChB,QAAR,IAAoB,UAHN;AAIxBD,aAAS,EAAEiB,OAAO,CAACjB,SAAR,IAAqBihB,eAJR,EAA1B;;;AAOA,MAAIN,eAAe,GAAGJ,8CAAA,CAAe;AACnC/e,UAAM,EAAE;AACN3C,YAAM,EAAE;AACNvF,gBAAQ,EAAEipB,mBAAmB,CAACtiB,QADxB;AAEN9H,YAAI,EAAE,GAFA;AAGNN,WAAG,EAAE,GAHC,EADF,EAD2B;;;AAQnC0J,cAAU,EAAE,EARuB,EAAf,CAAtB;;AAUIL,OAAK,GAAGyf,eAAe,CAAC,CAAD,CAV3B;AAWI6B,UAAQ,GAAG7B,eAAe,CAAC,CAAD,CAX9B;;AAaA,MAAI8B,mBAAmB,GAAGlC,6CAAA,CAAc,YAAY;AAClD,WAAO;AACLhe,UAAI,EAAE,aADD;AAELJ,aAAO,EAAE,IAFJ;AAGLyD,WAAK,EAAE,OAHF;AAIL1B,QAAE,EAAE,SAASA,EAAT,CAAY5B,IAAZ,EAAkB;AACpB,YAAIpB,KAAK,GAAGoB,IAAI,CAACpB,KAAjB;AACA,YAAII,QAAQ,GAAGzL,MAAM,CAACS,IAAP,CAAY4K,KAAK,CAACI,QAAlB,CAAf;AACAkhB,gBAAQ,CAAC;AACPhhB,gBAAM,EAAEkhB,0DAAW,CAACphB,QAAQ,CAACqQ,GAAT,CAAa,UAAUla,OAAV,EAAmB;AAClD,mBAAO,CAACA,OAAD,EAAUyJ,KAAK,CAACM,MAAN,CAAa/J,OAAb,KAAyB,EAAnC,CAAP;AACD,WAFmB,CAAD,CADZ;AAIP8J,oBAAU,EAAEmhB,0DAAW,CAACphB,QAAQ,CAACqQ,GAAT,CAAa,UAAUla,OAAV,EAAmB;AACtD,mBAAO,CAACA,OAAD,EAAUyJ,KAAK,CAACK,UAAN,CAAiB9J,OAAjB,CAAV,CAAP;AACD,WAFuB,CAAD,CAJhB,EAAD,CAAR;;AAQD,OAfI;AAgBLoO,cAAQ,EAAE,CAAC,eAAD,CAhBL,EAAP;;AAkBD,GAnByB,EAmBvB,EAnBuB,CAA1B;AAoBA,MAAI8c,aAAa,GAAGpC,6CAAA,CAAc,YAAY;AAC5C,QAAIqC,UAAU,GAAG;AACfle,mBAAa,EAAE6d,mBAAmB,CAAC7d,aADpB;AAEfzF,eAAS,EAAEsjB,mBAAmB,CAACtjB,SAFhB;AAGfgB,cAAQ,EAAEsiB,mBAAmB,CAACtiB,QAHf;AAIfD,eAAS,EAAE,GAAGjG,MAAH,CAAUwoB,mBAAmB,CAACviB,SAA9B,EAAyC,CAACyiB,mBAAD,EAAsB;AACxElgB,YAAI,EAAE,aADkE;AAExEJ,eAAO,EAAE,KAF+D,EAAtB,CAAzC,CAJI,EAAjB;;;;AAUA,QAAImb,yDAAO,CAACgF,WAAW,CAAC7Q,OAAb,EAAsBmR,UAAtB,CAAX,EAA8C;AAC5C,aAAON,WAAW,CAAC7Q,OAAZ,IAAuBmR,UAA9B;AACD,KAFD,MAEO;AACLN,iBAAW,CAAC7Q,OAAZ,GAAsBmR,UAAtB;AACA,aAAOA,UAAP;AACD;AACF,GAjBmB,EAiBjB,CAACL,mBAAmB,CAAC7d,aAArB,EAAoC6d,mBAAmB,CAACtjB,SAAxD,EAAmEsjB,mBAAmB,CAACtiB,QAAvF,EAAiGsiB,mBAAmB,CAACviB,SAArH,EAAgIyiB,mBAAhI,CAjBiB,CAApB;AAkBA,MAAII,iBAAiB,GAAGtC,4CAAA,EAAxB;AACAuC,0EAAyB,CAAC,YAAY;AACpC,QAAID,iBAAiB,CAACpR,OAAtB,EAA+B;AAC7BoR,uBAAiB,CAACpR,OAAlB,CAA0B7P,UAA1B,CAAqC+gB,aAArC;AACD;AACF,GAJwB,EAItB,CAACA,aAAD,CAJsB,CAAzB;AAKAG,0EAAyB,CAAC,YAAY;AACpC,QAAIvS,gBAAgB,IAAI,IAApB,IAA4BgR,aAAa,IAAI,IAAjD,EAAuD;AACrD;AACD;;AAED,QAAIvgB,YAAY,GAAGC,OAAO,CAACD,YAAR,IAAwB+hB,2DAA3C;AACA,QAAIC,cAAc,GAAGhiB,YAAY,CAACuP,gBAAD,EAAmBgR,aAAnB,EAAkCoB,aAAlC,CAAjC;AACAE,qBAAiB,CAACpR,OAAlB,GAA4BuR,cAA5B;AACA,WAAO,YAAY;AACjBA,oBAAc,CAACxe,OAAf;AACAqe,uBAAiB,CAACpR,OAAlB,GAA4B,IAA5B;AACD,KAHD;AAID,GAZwB,EAYtB,CAAClB,gBAAD,EAAmBgR,aAAnB,EAAkCtgB,OAAO,CAACD,YAA1C,CAZsB,CAAzB;AAaA,SAAO;AACLE,SAAK,EAAE2hB,iBAAiB,CAACpR,OAAlB,GAA4BoR,iBAAiB,CAACpR,OAAlB,CAA0BvQ,KAAtD,GAA8D,IADhE;AAELM,UAAM,EAAEN,KAAK,CAACM,MAFT;AAGLD,cAAU,EAAEL,KAAK,CAACK,UAHb;AAILgC,UAAM,EAAEsf,iBAAiB,CAACpR,OAAlB,GAA4BoR,iBAAiB,CAACpR,OAAlB,CAA0BlO,MAAtD,GAA+D,IAJlE;AAKLC,eAAW,EAAEqf,iBAAiB,CAACpR,OAAlB,GAA4BoR,iBAAiB,CAACpR,OAAlB,CAA0BjO,WAAtD,GAAoE,IAL5E,EAAP;;AAOD,CA1FM,C;;;;;;;;;;;;ACLP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA;;;;AAIO,IAAIye,WAAW,GAAG,SAASA,WAAT,CAAqB9O,GAArB,EAA0B;AACjD,SAAO7S,KAAK,CAACsS,OAAN,CAAcO,GAAd,IAAqBA,GAAG,CAAC,CAAD,CAAxB,GAA8BA,GAArC;AACD,CAFM;AAGP;;;;;AAKO,IAAIiP,UAAU,GAAG,SAASA,UAAT,CAAoBle,EAApB,EAAwB;AAC9C,MAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC5B,SAAK,IAAI/D,IAAI,GAAGC,SAAS,CAAC3J,MAArB,EAA6B4J,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEI,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGJ,IAA9F,EAAoGI,IAAI,EAAxG,EAA4G;AAC1GF,UAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBH,SAAS,CAACG,IAAD,CAA1B;AACD;;AAED,WAAO2D,EAAE,CAACoP,KAAH,CAAS,KAAK,CAAd,EAAiBjT,IAAjB,CAAP;AACD;AACF,CARM;AASP;;;;AAIO,IAAIshB,MAAM,GAAG,SAASA,MAAT,CAAgBI,GAAhB,EAAqBjlB,IAArB,EAA2B;AAC7C;AACA,MAAI,OAAOilB,GAAP,KAAe,UAAnB,EAA+B;AAC7B,WAAOK,UAAU,CAACL,GAAD,EAAMjlB,IAAN,CAAjB;AACD,GAFD,CAEE;AAFF,OAGK,IAAIilB,GAAG,IAAI,IAAX,EAAiB;AAClBA,SAAG,CAACtQ,OAAJ,GAAc3U,IAAd;AACD;AACJ,CARM;AASP;;;;AAIO,IAAI4lB,WAAW,GAAG,SAASA,WAAT,CAAqBzH,OAArB,EAA8B;AACrD,SAAOA,OAAO,CAAC/gB,MAAR,CAAe,UAAU8E,GAAV,EAAesD,IAAf,EAAqB;AACzC,QAAI/L,GAAG,GAAG+L,IAAI,CAAC,CAAD,CAAd;AACI6C,SAAK,GAAG7C,IAAI,CAAC,CAAD,CADhB;AAEAtD,OAAG,CAACzI,GAAD,CAAH,GAAW4O,KAAX;AACA,WAAOnG,GAAP;AACD,GALM,EAKJ,EALI,CAAP;AAMD,CAPM;AAQP;;;;AAIO,IAAI8jB,yBAAyB,GAAG,OAAO9lB,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACZ,QAAxC,IAAoDY,MAAM,CAACZ,QAAP,CAAgB6mB,aAApE,GAAoF1C,qDAApF,GAA4GA,+CAA5I,C;;;;;;;;;;;;;;;;;;;;;;;ACpDP;AACA;AACA;AACA;AACA;;AAEA,IAAM2C,WAAW,SAAXA,QAAW;AAAA;AAAjB;;AAEe;AACb;AACApf,QAFa;AAGbqf,eAAa;AAAA;AAHA;AAIbC,WAJa;AAKbC,kBALa;AAMbC,qBANa;AAObC,wBAPa;AAQbC,uBARa;AASbC,mBAAiB,oBATJ,GASI,CATJ;AAUbC,eAVa;AAWbC,mBAXa;AAYbC,gBAZa;AAabC,2BAba;AAcbC,wBAda;AAebC,wBAfa;AAgBbC,sBAhBa;AAiBbC,YAjBa;AAkBbC,aAlBa;AAmBbC,aAnBa;AAoBbC,cApBa;AAqBbC,mBArBa;AAsBbC,iBAtBa;AAuBbC,mBAvBa;AAwBbC,kBAxBa;AAyBbC,mBAzBa;AA0Bb;AACAC,uBAAqB,kDAAyB;AAC5C,QAAMC,KAAKjrB,kBAAkBA,OAA7B;AACA,WAAOkrB,wBAAwBjS,OAAOiS,IAAPjS,EAAOiS,CAAPjS,aAA2BjZ,OAAnDkrB,KAAwBjS,CAAxBiS,GAAP;AA7BW;AA+Bb;AACAC,qBAAmB,uCAAgB;AACjC;AACApV,QAAIA,cAAcA,MAAdA,iBAAJA;AACAC,QAAIA,cAAcA,MAAdA,iBAAJA;AACA;AACAD,QAAI,wBAAwBA,EAAxB,WAAwBA,EAAxB,GAAJA;AACAC,QAAI,wBAAwBA,EAAxB,WAAwBA,EAAxB,GAAJA;AACA;AACA,QAAID,IAAJ,GAAW;AACT;AACD;AACD,QAAIA,IAAJ,GAAW;AACT,aAAO,CAAP;AACD;AACD;AACA;AACA;AAhDW;;AAmDb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAqV,gBA5Da;AA6DbC,oBA7Da;AA8DbC,kBA9Da;AA+DbC,oBA/Da;AAgEbC,mBAhEa;AAiEbC,oBAjEa;;AAmEb;AACAC,WApEa;;AAsEb;AACAC,eAvEa;AAwEbC,cAxEa;AAyEbC,cAzEa;AA0EbC,iBA1Ea;AA2EbC,mBA3Ea;AA4EbC,eA5Ea;AA6EbC,YA7Ea;AA8EbC,qBA9Ea;;AAgFb;AACAC,eAAa;AAAA;AAjFA;;AAmFb;AACAC,aApFa;AAqFb5gB,SArFa;;AAuFb;AACA6gB,YAxFa;AAyFbC,iBAzFa;AA0FbC,sBA1Fa;AA2FbC,wBA3Fa;AA4FbC,wBA5Fa;AA6FbC,iBA7Fa;AA8FbC,mBA9Fa;AA+FbC,mBA/Fa;AAgGbC,uBAhGa;AAiGbC,yBAjGa;AAkGbC,yBAlGa;AAmGbC,iBAnGa;AAoGbC,mBApGa;AAqGbC,cArGa;AAsGbC,cAtGa;AAuGbC,iBAvGa;AAwGbC,mBAxGa;AAyGbC,mBAzGa;AA0GbC,sBA1Ga;AA2GbC,mBA3Ga;AA4GbC,kBA5Ga;AA6GbC,mBA7Ga;;AA+Gb;AACAC,UAAQ;AACN;AACAC,UAFM;AAGNC,YAHM;AAINC,YAJM;AAKNC,gBALM;AAMNC,WANM;AAONC,gBAPM;AAQNC,cARM;AASNC,YATM;AAUNC,iBAVM;AAWN;AACA7D,cAZM,WAYe;AACrBE,eAbM,WAagB;AACtBC,gBAdM,WAciB;AACvB2D,UAfM;AAgBNC,cAhBM;AAiBNC,oBAjBM;AAkBN;AACAnC,eAnBM;AAoBN5gB,WApBM;AAqBN6gB,cArBM;AAsBN;AACAmC,eAvBM;AAwBN;AACAC,qBAzBM;AA0BNC,iBA1BM;AA2BNC,oBA3BM;AA4BN;AACAC,qBA7BM;AA8BNC,iBA9BM;AA+BNC,oBA/BM;AAgCNC,kBAhCM;AAiCNC,eAjCM;AAkCNC,gBAAY3Y,SAlCN,EAhHK;;;AAqJb;AACA4Y,oBAAkB;AAChB3E,cADgB;AAEhBE,eAFgB;AAGhBC,gBAHgB;AAIhB7rB,WAAO,EAJS,EAtJL;;;AA6JbswB,iBAAe;AACb;AADa,GA7JF;;AAiKb;AACAC,gBAlKa;AAmKbC,YAnKa;AAoKbC,eApKa;AAqKbC,cArKa;AAsKbC,YAtKa;AAuKbC,UAvKa;AAwKbC,YAxKa;AAyKbC,gBAzKa;AA0KbC,oBA1Ka;;AA4Kb;AACAC,kBAAgB;AAAA,QAAG7I,QAAH;AAAaoF,aAAb;AAA2B0D,QAA3B;;AAAA,WACd;AAAA;AAAA;AACE,iBAAWC,8DADb,SACaA,CADb;AAEE,YAAK;AACL;AAHF;AAMG/I,YANH,CADc;;AA7KH;AAuLbgJ,kBAAgBC,iFAvLH,OAuLGA,CAvLH;AAwLbC,kBAAgBD,iFAxLH,OAwLGA,CAxLH;AAyLbE,oBAAkB;AAAA,QAAGnJ,QAAH;AAAaoF,aAAb;AAA2B0D,QAA3B;;AAAA,WAChB;AAAA;AAAA,eAAK,WAAWC,iEAAhB,SAAgBA,CAAhB,EAAsD,MAAtD;AACG/I,YADH,CADgB;;AAzLL;AA8LboJ,eAAa;AAAA,QAAGpJ,QAAH;AAAaoF,aAAb;AAA2B0D,QAA3B;;AAAA,WACX;AAAA;AAAA,eAAK,WAAWC,2DAAhB,SAAgBA,CAAhB,EAAgD,MAAhD;AACG/I,YADH,CADW;;AA9LA;AAmMbqJ,eAAa;AAAA,QACXC,UADW;AACClE,aADD;AACYpF,YADZ;AACyB8I,QADzB;;AAAA;AAGX;AACA;AAAA;AAAA;AACE,mBAAWC,2DADb,SACaA,CADb;AAEE,iBAAS;AAAA,iBAAKO,cAAcA,WAAnB,CAAmBA,CAAnB;AAFX;AAGE,cAHF;AAIE,kBAJF,KAIgB;AAJhB;AAOGtJ,cAPH,CAJW;;;AAnMA;AAiNbuJ,eAAa;AAAA,QACXD,UADW;AACClE,aADD;AACYpF,YADZ;AACyB8I,QADzB;;AAAA,WAGX;AAAA;AAAA,eAAK,WAAWC,2DAAhB,SAAgBA,CAAhB,EAAgD,MAAhD;AACG/I,YADH,CAHW;;AAjNA;AAwNbwJ,kBAAgBP,iFAxNH,OAwNGA,CAxNH;AAyNbQ,mBAAiB;AAAA,QAAGzwB,MAAH;AAAW0wB,aAAX;AAAqB/C,UAArB;AAAA,WACf;AACE,YADF;AAEE,aAAO;AACL9uB,eAAO,MADF,EAFT;;AAKE,mBAAa8uB,OALf;AAME,aAAO3tB,SAASA,OAATA,QANT;AAOE,gBAAU;AAAA,eAAS0wB,UAASC,aAAlB,KAASD,CAAT;AAAA,OAPZ,GADe;;AAzNJ;AAoObE,qBAAmB;AAAA,QAAGC,UAAH;AAAA,WACjB;AAAA;AAAA,MAAK,WAAWd,iEAA0Bc,cAA1C,OAAgBd,CAAhB;AAAA,aADiB;;AApON;AAuObe,uBAAqB;AAAA,QAAGC,OAAH;AAAYtlB,SAAZ;AAAA,WACnB;AAAA;AAAA;AAAA;AAAA;AACWslB,qBAAeA,QAAfA,YADX,CADmB;;AAvOR;AA4ObC,uBAAqB,oCAAyB;AAAA,QAAtBD,OAAsB,SAAtBA,OAAsB;AAAbpD,UAAa,SAAbA,MAAa;;AAC5C,QAAMsD,gBAAgB,eAAe;AAAA,aAAK,OAAOC,EAAEvD,OAAT,EAAOuD,CAAP,KAAL;AAAf,WAA6D;AAAA;AACjF;AACA;AAAA;AAAA,UAAM,KAAN;AACGhG,YAAIyC,OADP,EACGzC,CADH;AAEGpuB,YAAIi0B,iBAAJj0B,WAAgC,EAFnC,CAFiF;;;AAAnF,KAAsB,CAAtB;AAOA,WAAO;AAAA;AAAA;AAAOm0B,iBAAP,CAAP;;AApPW;AAsPbE,kBAtPa,WAsPc;AAC3B;AACAC,uBAxPa;AAyPbC,qBAzPa;AA0PbC,iBA1Pa;AA2PbC,oBAAkB;AAAA,QAChBnF,SADgB;AACL1C,WADK;AACI4F,eADJ;AACoBQ,QADpB;;AAAA,WAGhB;AAAA;AAAA,eAAK,WAAWC,8DAAuB,EAAE,WAAzBA,OAAuB,EAAvBA,EAAhB,SAAgBA,CAAhB;AACE;AAAA;AAAA,MAAK,WAAL;AAAiCT,eAAjC,CADF,CAHgB;;;AA3PL;AAkQbkC,mBAAiBvB,kFAlQJ,QAkQIA,CAlQJ;AAmQbwB,oBAAkBxB,mFAnQL,SAmQKA,CAnQL;AAoQbyB,mBAAiB;AAAA,WAAM;AAAA;AAAA;AAAA,WAAN;;AAAA,GApQJ,EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMC,qBAAN;;IAEcC,U;;;AAInB,6BAAoB;AAAA;;AAAA;;AAGlB,6BAAwB,4BAAxB,KAAwB,CAAxB;AACA,yBAAoB,wBAApB,KAAoB,CAApB;AACA,0BAAqB,yBAArB,KAAqB,CAArB;AACA,0BAAqB,yBAArB,KAAqB,CAArB;AACA,2BAAsB,0BAAtB,KAAsB,CAAtB;AACA,2BAAsB,0BAAtB,KAAsB,CAAtB;AACA,uBAAkB,sBAAlB,KAAkB,CAAlB;AACA,qBAAgB,oBAAhB,KAAgB,CAAhB;AACA,uBAAkB,sBAAlB,KAAkB,CAAlB;AACA,yBAAoB,wBAApB,KAAoB,CAApB;AACA,6BAAwB,4BAAxB,KAAwB,CAAxB;AACA,uBAAkB,sBAAlB,KAAkB,CAAlB;AACA,yBAAoB,wBAApB,KAAoB,CAApB;AACA,8BAAyB,6BAAzB,KAAyB,CAAzB;AACA,4BAAuB,2BAAvB,KAAuB,CAAvB;AACA,+BAA0B,8BAA1B,KAA0B,CAA1B;;AAEA,kBAAa;AACXC,YAAMrS,MADK;AAEXsS,gBAAUtS,MAFC;AAGXuS,cAAQvS,MAHG;AAIXwS,gBAAUxS,MAJC;AAKXyS,gBAAUzS,MALC;AAMX0S,eAAS1S,MANE;AAOX2S,yBAPW;AAQXC,oBAAc,KARH,EAAb;;AApBkB;AA8BnB;;;;6BAES;AAAA;;AACR,UAAMC,gBAAgB,KAAtB,gBAAsB,EAAtB;AADQ,UAGNrL,QAHM,GAqFJqL,aArFI;AAINjG,eAJM,GAqFJiG,aArFI;AAKN7mB,WALM,GAqFJ6mB,aArFI;AAMNhG,cANM,GAqFJgG,aArFI;AAON/F,mBAPM,GAqFJ+F,aArFI;AAQN9F,wBARM,GAqFJ8F,aArFI;AASN7F,0BATM,GAqFJ6F,aArFI;AAUN5F,0BAVM,GAqFJ4F,aArFI;AAWN3F,mBAXM,GAqFJ2F,aArFI;AAYN1F,qBAZM,GAqFJ0F,aArFI;AAaNzF,qBAbM,GAqFJyF,aArFI;AAcNxF,yBAdM,GAqFJwF,aArFI;AAeNvF,2BAfM,GAqFJuF,aArFI;AAgBNtF,2BAhBM,GAqFJsF,aArFI;AAiBNrF,mBAjBM,GAqFJqF,aArFI;AAkBNpF,qBAlBM,GAqFJoF,aArFI;AAmBNnF,gBAnBM,GAqFJmF,aArFI;AAoBNlF,gBApBM,GAqFJkF,aArFI;AAqBNjF,mBArBM,GAqFJiF,aArFI;AAsBNhF,qBAtBM,GAqFJgF,aArFI;AAuBN/E,qBAvBM,GAqFJ+E,aArFI;AAwBN9E,wBAxBM,GAqFJ8E,aArFI;AAyBN7E,qBAzBM,GAqFJ6E,aArFI;AA0BN5E,oBA1BM,GAqFJ4E,aArFI;AA2BN3E,qBA3BM,GAqFJ2E,aArFI;AA4BN1I,oBA5BM,GAqFJ0I,aArFI;AA6BNzI,uBA7BM,GAqFJyI,aArFI;AA8BNxI,0BA9BM,GAqFJwI,aArFI;AA+BNC,YA/BM,GAqFJD,aArFI;AAgCN/C,iBAhCM,GAqFJ+C,aArFI;AAiCN9C,gBAjCM,GAqFJ8C,aArFI;AAkCN9H,cAlCM,GAqFJ8H,aArFI;AAmCN7H,eAnCM,GAqFJ6H,aArFI;AAoCN5H,eApCM,GAqFJ4H,aArFI;AAqCN3H,gBArCM,GAqFJ2H,aArFI;AAuCNzG,gBAvCM,GAqFJyG,aArFI;AAwCN1G,iBAxCM,GAqFJ0G,aArFI;AAyCN3G,aAzCM,GAqFJ2G,aArFI;AA0CNxG,gBA1CM,GAqFJwG,aArFI;AA2CNvG,mBA3CM,GAqFJuG,aArFI;AA4CNrG,iBA5CM,GAqFJqG,aArFI;AA6CNpG,cA7CM,GAqFJoG,aArFI;AA8CNnG,uBA9CM,GAqFJmG,aArFI;AAgDN3I,aAhDM,GAqFJ2I,aArFI;AAiDNP,cAjDM,GAqFJO,aArFI;AAkDNR,UAlDM,GAqFJQ,aArFI;AAmDNN,YAnDM,GAqFJM,aArFI;AAoDNJ,cApDM,GAqFJI,aArFI;AAqDNH,aArDM,GAqFJG,aArFI;AAsDNL,cAtDM,GAqFJK,aArFI;AAuDNE,WAvDM,GAqFJF,aArFI;AAwDN5G,sBAxDM,GAqFJ4G,aArFI;AA0DNxC,oBA1DM,GAqFJwC,aArFI;AA2DNrC,oBA3DM,GAqFJqC,aArFI;AA4DNnC,oBA5DM,GAqFJmC,aArFI;AA6DNlC,sBA7DM,GAqFJkC,aArFI;AA8DNjC,iBA9DM,GAqFJiC,aArFI;AA+DNhC,iBA/DM,GAqFJgC,aArFI;AAgEN9B,iBAhEM,GAqFJ8B,aArFI;AAiEN7B,oBAjEM,GAqFJ6B,aArFI;AAkENjB,yBAlEM,GAqFJiB,aArFI;AAmENd,sBAnEM,GAqFJc,aArFI;AAoENG,kBApEM,GAqFJH,aArFI;AAqENb,qBArEM,GAqFJa,aArFI;AAsENZ,sBAtEM,GAqFJY,aArFI;AAuENzB,uBAvEM,GAqFJyB,aArFI;AAwENvB,yBAxEM,GAqFJuB,aArFI;AAyENlB,oBAzEM,GAqFJkB,aArFI;AA0ENrB,yBA1EM,GAqFJqB,aArFI;AA2EN5B,qBA3EM,GAqFJ4B,aArFI;AA4ENX,qBA5EM,GAqFJW,aArFI;AA8ENI,kBA9EM,GAqFJJ,aArFI;AA+ENK,uBA/EM,GAqFJL,aArFI;AAgFNM,kBAhFM,GAqFJN,aArFI;AAiFNO,qBAjFM,GAqFJP,aArFI;AAmFNQ,gBAnFM,GAqFJR,aArFI;AAoFNF,uBApFM,GAqFJE,aArFI;;AAuFR;;AACA,UAAMS,WAAWhB,WAAjB;AACA,UAAMiB,SAASD,WAAf;AACA,UAAIE,WAAWV,wBAAwBO,2BAAvC,MAAuCA,CAAvC;AACA,UAAMI,UAAU,KAAhB,UAAgB,EAAhB;AACA,UAAMC,UAAUjD,qDAAQrvB,SAASqyB,UAAUD,SAAnBpyB,QAAxB,CAAwBA,CAARqvB,CAAhB;;AAEA,UAAMkD,kBAAkB,uBAAuB;AAAA,eAAKjC,EAAL;AAA/C,OAAwB,CAAxB;AACA,UAAMkC,aAAa1I,cAAc,uBAAuB;AAAA,eAAKwG,EAAL;AAAxD,OAAiC,CAAjC;;AAEA,UAAMmC,uBAAuB,SAAvBA,oBAAuB;AAAA,YAAOC,IAAP;AAAA,YAAkBhpB,KAAlB,uEAA0B,CAA1B;AAAA,eAAiC,CAC5D,SAAS,kBAAY;AACnBA;AACA,cAAM;AAEJipB,wBAAYjpB,KAFR,GAAN;;AAIA,cAAMkpB,UAAUF,YAAY,CAA5B,CAA4B,CAAZA,CAAhB;AACA,cAAIG,gCAAgCxD,6DAApC,OAAoCA,CAApC,EAA8D;AAAA,wCACpBoD,qBACtCI,iBADsCJ,UACtCI,CADsCJ,WADoB,KACpBA,CADoB;;AAAA;;AAC3DI,6BAD2D,UAC3DA,IAD2D,yBAC3DA;AAA8BnpB,iBAD6B,4BAC7BA;AAKhC;AACD;AAf0D,SAC5D,CAD4D,EAAjC,KAAiC,CAAjC;AAA7B;;AAjGQ,mCAoHK+oB,qBApHL,QAoHKA,CApHL;;AAAA;;AAoHPL,cApHO,4BAoHPA;;;AAED,UAAMU,cAAc7B,OAApB;AACA,UAAM8B,UAAU9B,WAAhB;;AAEA,UAAM+B,cAAc,mDAClB,sBAAsB,aAAK;AACzB,YAAMC,gBAAgB,aAAa;AAAA,iBAAK90B,SAASmyB,EAAd;AAAb,cAAtB;AACA,eAAOjB,+DAAkB4D,cAAlB5D,OAAuCiB,EAAvCjB,OAAgDiB,EAAvD,QAAOjB,CAAP;AAHJ,OACE,CADkB,CAApB;;AAOA,UAAI6D,WAAW,CAAf;;AAEA,UAAM;AAEJhB,kBAFI;AAGJC,gBAHI;AAIJC,kBAJI;AAKJC,iBALI;AAMJC,iBANI;AAOJC,yBAPI;AAQJO,qBARI;AASJC,iBATI;AAUJC,gCAVI,GAAN;;;AAaA,UAAMG,YAAY9D,0DAAa5D,2CAA/B,IAA+BA,CAAb4D,CAAlB;AACA,UAAM+D,aAAa/D,0DAAa3D,gDAAhC,IAAgCA,CAAb2D,CAAnB;AACA,UAAMgE,aAAahE,0DAAajD,gDAAhC,IAAgCA,CAAbiD,CAAnB;AACA,UAAMiE,eAAe1G,kDAArB,IAAqBA,CAArB;AACA,UAAM2G,cAAc1G,iDAApB,IAAoBA,CAApB;;AAEA;;AAEA,UAAM2G,kBAAkB,SAAlBA,eAAkB,YAAe;AACrC,YAAMC,eAAe,SAAfA,YAAe;AAAA,iBAAO,CAAC,aAAa;AAAA,mBAAKt1B,SAASu1B,IAAd;AAAb,gBAAD,IAAP;AAArB;AACA,YAAMC,OAAO,mDACX,mBAAmB;AAAA,iBAAQD,aAAaD,aAAbC,GAAaD,CAAbC,OAAqCA,IAA7C;AADrB,SACE,CADW,CAAb;AAGA,YAAMz1B,QAAQ,mDACZ,mBAAmB;AAAA,iBAAOoxB,+DAAkBoE,aAAlBpE,GAAkBoE,CAAlBpE,EAAqCqE,IAArCrE,OAAgDqE,IAAvD,QAAOrE,CAAP;AADrB,SACE,CADY,CAAd;AAGA,YAAMuE,WAAW,mDACf,mBAAmB;AAAA,iBAAOvE,+DAAkBoE,aAAlBpE,GAAkBoE,CAAlBpE,EAAqCqE,IAArCrE,OAAgDqE,IAAvD,QAAOrE,CAAP;AADrB,SACE,CADe,CAAjB;;AAIA,YAAMwE,oBAAoBxE,0DACxBxD,oDADF,MACEA,CADwBwD,CAA1B;AAGA,YAAMyE,oBAAoBzE,0DACxBtC,qDADF,MACEA,CADwBsC,CAA1B;;AAIA,YAAMzW,UAAU,CACdmU,OADc,iBAEd8G,kBAFc,WAGdC,kBAHF,SAAgB,CAAhB;;AAMA,YAAM5sB,sBACD6lB,OADC7lB,aAED2sB,kBAFC3sB,OAGD4sB,kBAHL,KAAM5sB,CAAN;;AAMA,YAAMgoB,oBACD2E,kBADC3E,MAED4E,kBAFL,IAAM5E,CAAN;;AAKA,YAAM6E,aAAa;AACjBJ,gBAASA,IAATA,GADiB;AAEjB11B,iBAAOoxB,oDAFU,KAEVA,CAFU;AAGjBuE,oBAAUvE,6DAHO,EAAnB;;;AAMA,eACE;AAAA;AAAA;AACE,eAAQnzB,CAAR,MAAQA,GAAK6wB,OADf;AAEE,qBAAWoC,kDAFb,OAEaA,CAFb;AAGE,iDAHF;AAAA;AASGE,0EAAqBtC,OAArBsC,QAAoC;AACnC7lB,gBADmC;AAEnCujB,wBAFmC,EAApCsC,CATH,CADF;;;AA1CF;;AA4DA,UAAM2E,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC7B,YAAMC,kBAAkB5E,0DACtB1D,qDADF,MACEA,CADsB0D,CAAxB;AAGA,YAAM6E,oBAAoB7E,0DACxBzD,uDADF,MACEA,CADwByD,CAA1B;AAGA,eACE;AAAA;AAAA;AACE,qBAAWF,mEAA4B8E,gBADzC,SACa9E,CADb;AAEE,8BACK8E,gBADL;AAEEvG,sBAAasF,WAAbtF,OAFF,GAFF;;AAMMuG,wBANN;AAQE;AAAA;AAAA;AACE,qBAAWC,kBADb;AAEE,iBAAOA,kBAAkBtpB,KAF3B;AAGMspB,0BAHN;AAKGnC,yCALH,CARF,CADF;;;AAPF;;AA2BA,UAAMoC,aAAa,SAAbA,UAAa,YAAe;AAChC,YAAMC,aAAa,aAAa;AAAA,iBAAKj2B,SAAS4uB,OAAd;AAAb,cAAnB;AACA,YAAM7X,OAAO,YAAY;AAAA,iBAAKob,SAASvD,OAAd;AAAzB,SAAa,CAAb;AACA,YAAMU,OAAO,OAAOV,OAAP,sBAAoCA,OAApC,IAAoCA,EAApC,GAAoDA,OAAjE;AACA,YAAM9uB,QAAQoxB,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAhE,QAAcsC,CAAd;AACA,YAAMuE,WAAWvE,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAnE,QAAiBsC,CAAjB;AACA,YAAMgF,eAAehF,0DAAarD,+CAAlC,MAAkCA,CAAbqD,CAArB;AACA,YAAMyE,oBAAoBzE,0DACxBtC,qDADF,MACEA,CADwBsC,CAA1B;;AAIA,YAAMzW,UAAU,CAACmU,OAAD,iBAAyBsH,aAAzB,WAAiDP,kBAAjE,SAAgB,CAAhB;;AAEA,YAAM5sB,sBACD6lB,OADC7lB,aAEDmtB,aAFCntB,OAGD4sB,kBAHL,KAAM5sB,CAAN;;AAMA,YAAMgoB,oBACDmF,aADCnF,MAED4E,kBAFL,IAAM5E,CAAN;;AAKA,YAAMoF,cAAcjF,+DAAkBtC,OAAlBsC,sBAApB,KAAoBA,CAApB;AACA,YAAMkF,UAAUD,cACd;AACE,uBAAa;AAAA,mBAAK,oCAAL,KAAK,CAAL;AADf;AAEE,wBAAc;AAAA,mBAAK,oCAAL,IAAK,CAAL;AAAA,WAFhB;AAGMxH,yDAJQwH,MAIRxH,CAHN,EADcwH,GAAhB;;AAQA,YAAME,aAAanF,+DAAkBtC,OAAlBsC,oBAAnB,KAAmBA,CAAnB;;AAEA,eACE;AAAA;AAAA;AACE,eAAQnzB,CAAR,MAAQA,GAAK6wB,OADf;AAEE,qBAAWoC,2DAETmF,eAFSnF,uBAGTja,OAAQA,2BAARA,cAHSia,IAITqF,cAJSrF,mBAKT,SALSA,WAMTrE,WAAWA,iBAAiB,CAAjBA,YAA8BiC,OAAzCjC,EAAWA,CAAXA,IARJ,iBAEaqE,CAFb;AAUE;AAEEwE,kBAAS11B,KAAT01B,GAFF;AAGE11B,mBAAOoxB,oDAHT,KAGSA,CAHT;AAIEuE,sBAAUvE,6DAJZ,GAVF;;AAgBE,sBAAY,uBAAK;AACf,4BAAgB,0BAAwBzF,YAAYtI,EAAZsI,WAAxB;AACjB,WAlBH;AAAA;AAqBE;AAAA;AAAA,UAAK,WAAWuF,kDAAWmF,eAA3B,6BAAgBnF,CAAhB;AACGE,0EAAqBtC,OAArBsC,QAAoC;AACnC7lB,gBADmC;AAEnCujB,wBAFmC,EAApCsC,CADH,CArBF;;;AA2BGkF,eA3BH,CADF;;AAnCF;;AAoEA,UAAME,cAAc,SAAdA,WAAc,GAAM;AACxB,YAAMC,aAAarF,0DAAavD,gDAAhC,MAAgCA,CAAbuD,CAAnB;AACA,YAAMsF,eAAetF,0DAAatD,kDAAlC,MAAkCA,CAAbsD,CAArB;AACA,eACE;AAAA;AAAA;AACE,qBAAWF,6DAAsBuF,WADnC,SACavF,CADb;AAEE,8BACKuF,WADL;AAEEhH,sBAAasF,WAAbtF,OAFF,GAFF;;AAMMgH,mBANN;AAQE;AAAA;AAAA;AACE,qBAAWC,aADb;AAEE,iBAAOA,aAAa/pB,KAFtB;AAGM+pB,qBAHN;AAKG7C,yCALH,CARF,CADF;;;AAHF;;AAuBA,UAAM8C,aAAa,SAAbA,UAAa,YAAe;AAChC,YAAMR,aAAa,aAAa;AAAA,iBAAKj2B,SAAS4uB,OAAd;AAAb,cAAnB;AACA,YAAM9uB,QAAQoxB,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAhE,QAAcsC,CAAd;AACA,YAAMuE,WAAWvE,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAnE,QAAiBsC,CAAjB;AACA,YAAMwF,qBAAqBxF,0DACzBlD,qDADF,MACEA,CADyBkD,CAA3B;AAGA,YAAMyE,oBAAoBzE,0DACxBtC,qDADF,MACEA,CADwBsC,CAA1B;;AAIA,YAAMzW,UAAU,CACdmU,OADc,iBAEd8H,mBAFc,WAGdf,kBAHF,SAAgB,CAAhB;;AAMA,YAAM5sB,sBACD6lB,OADC7lB,aAED2tB,mBAFC3tB,OAGD4sB,kBAHL,KAAM5sB,CAAN;;AAMA,YAAMgoB,oBACD2F,mBADC3F,MAED4E,kBAFL,IAAM5E,CAAN;;AAKA,YAAM9vB,SAAS,cAAc;AAAA,iBAAUA,cAAc2tB,OAAxB;AAA7B,SAAe,CAAf;;AAEA,YAAM+H,0BAA0B/H,iBAAhC;;AAEA,YAAMgI,eAAe1F,+DAAkBtC,OAAlBsC,wBAArB,KAAqBA,CAArB;;AAEA,eACE;AAAA;AAAA;AACE,eAAQnzB,CAAR,MAAQA,GAAK6wB,OADf;AAEE,qBAAWoC,kDAFb,OAEaA,CAFb;AAGE;AAEEwE,kBAAS11B,KAAT01B,GAFF;AAGE11B,mBAAOoxB,oDAHT,KAGSA,CAHT;AAIEuE,sBAAUvE,6DAJZ,GAHF;;AAAA;AAWG0F,uBACG,2FAEE;AACEhI,kBADF;AAEE3tB,kBAFF;AAGE0wB,oBAAU;AAAA,mBAAS,4BAAT,KAAS,CAAT;AAAA,WAHZ,EAFF;AAOEkF,qEARLD,MACG,CADHA,GAUG,IArBN,CADF;;AAlCF;;AA6DA,UAAME,cAAc,SAAdA,WAAc,GAAM;AACxB,YAAMC,mBAAmB7F,0DACvBpD,sDADF,MACEA,CADuBoD,CAAzB;AAGA,YAAM8F,qBAAqB9F,0DACzBnD,wDADF,MACEA,CADyBmD,CAA3B;AAGA,eACE;AAAA;AAAA;AACE,qBAAWF,8DAAuB+F,iBADpC,SACa/F,CADb;AAEE,8BACK+F,iBADL;AAEExH,sBAAasF,WAAbtF,OAFF,GAFF;;AAMMwH,yBANN;AAQE;AAAA;AAAA;AACE,qBAAWC,mBADb;AAEE,iBAAOA,mBAAmBvqB,KAF5B;AAGMuqB,2BAHN;AAKGrD,yCALH,CARF,CADF;;;AAPF;;AA2BA,UAAMsD,cAAc,SAAdA,WAAc,SAAuB;AAAA,YAAd1C,IAAc,uEAAP,EAAO;;AACzC,YAAM2C,UAAU;AACdC,oBAAUhL,IADI,WACJA,CADI;AAEdA,eAFc;AAGd5gB,iBAAO4gB,IAHO,QAGPA,CAHO;AAIdiL,qBAAYrC,YAJE;AAKdhC,oBALc;AAMdD,gBANc;AAOduE,iBAAO9C,KAPO;AAQd+C,uBAAa/C,YAAY,CARX,CAQW,CAAZA,CARC;AASdgD,sBAAYpL,IATE,aASFA,CATE;AAUdqL,0BAAgBrL,IAVF,iBAUEA,CAVF;AAWd6F,mBAAS7F,eAXK,EAAhB;;AAaA,YAAM2F,aAAaZ,6DAAgBgG,QAAnC,WAAmBhG,CAAnB;AACA,YAAMuG,eAAevJ,gDAArB,MAAqBA,CAArB;AACA,YAAMwJ,UAAUxG,0DAAa/C,2CAA7B,MAA6BA,CAAb+C,CAAhB;AACA,eACE;AAAA;AAAA,mBAAkB,KAAKgG,yBAAvB,GAAuBA,CAAvB;AACE;AAAA;AAAA;AACE,qBAAWlG,kDAAW0G,QAAX1G,WAA8B7E,+BAD3C,MACa6E,CADb;AAEE,iBAAO0G,QAAQjrB,KAFjB;AAGMirB,gBAHN;AAKG/D,8BAAsB,sBAAgB;AACrC,cAAMsC,aAAa,aAAa;AAAA,mBAAKj2B,SAAS4uB,OAAd;AAAb,gBAAnB;AACA,cAAMU,OAAO,OAAOV,OAAP,sBAAoCA,OAApC,IAAoCA,EAApC,GAAoDA,OAAjE;AACA,cAAM9uB,QAAQoxB,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAhE,QAAcsC,CAAd;AACA,cAAMuE,WAAWvE,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAnE,QAAiBsC,CAAjB;AACA,cAAMyG,UAAUzG,0DAAa9C,wCAA7B,MAA6BA,CAAb8C,CAAhB;AACA,cAAM0G,cAAc1G,0DAAatC,6CAAjC,MAAiCA,CAAbsC,CAApB;;AAEA,cAAMzW,UAAU,CAACkd,QAAD,WAAoB/I,OAApB,WAAsCgJ,YAAtD,SAAgB,CAAhB;;AAEA,cAAM7uB,sBACD4uB,QADC5uB,OAED6lB,OAFC7lB,OAGD6uB,YAHL,KAAM7uB,CAAN;;AAMA,cAAM;AAEJ+oB,wBAFI;AAGJlD,iCAHI,MAGJA,CAHI;AAIJliB,mBAAOwqB,YAAYtI,OAJf,EAIGsI,CAJH;AAKJW,qBAASjJ,OALL;AAMJkJ,sBAAUlJ,OANN;AAOJuE,qBAPI;AAQJ7D,kBARI;AASJxvB,mBATI;AAUJ21B,sBAVI;AAWJkC,qBAXI;AAYJC,yBAZI;AAaJnd,qBAbI;AAcJ1R,0BAdI,GAAN;;;AAiBA,cAAM2D,QAAQqrB,SAAd;;AAEA,cAAIC,0BAAJ;AACA,cAAIC,gBAAJ;AACA,cAAIC,iBAAJ;;AAEA,cAAMC,kBAAkB,SAAlBA,eAAkB,IAAK;AAC3B,gBAAIC,cAAclH,qDAAlB,QAAkBA,CAAlB;AACA,4BAAgB;AACdkH,4BAAclH,gEAAmB6G,SAAnB7G,aAAdkH,KAAclH,CAAdkH;AADF,mBAEO;AACLA,4BAAclH,gEAAmB6G,SAAnB7G,aAAdkH,EAAclH,CAAdkH;AACD;;AAED,mBAAO,wBACL;AACEnF,wBAAUmF,WADZ,EADK;AAIL;AAAA,qBACE1L,oBACAA,8BAA8BqL,SAA9BrL,gBAFF,QAEEA,CAFF;AAJF,aAAO,CAAP;AARF;;AAkBA;AACA,cAAI2L,eAAenH,kEAAqBtC,OAArBsC,gBAAnB,KAAmBA,CAAnB;;AAEA;AACA,cAAMoH,8BACJ1J,sBAAsB,CAACA,OAAD,kCAA0CA,OADlE,IACEA,CADF;AAEA,cAAM2J,4BAA4B3J,mBAAlC;AACA,cAAM4J,8BAA8B5J,qBAApC;AACA,cAAM6J,gCACJrG,kBACC;AAAA,mBACC;AAAA;AAAA;AACE,kGADF,KACE,CADF;AAEE,0GAFF,CADD;;AAFH;AAQA,cAAMsG,yBAAyB9J,gBAA/B;;AAEA;AACA,cAAImJ,oBAAoBA,SAAxB,UAA2C;AACzC;AACAA;AACAC;AACA;AACA;AACA,gBAAID,oBAAoB,CAACA,SAArBA,WAAyC,CAA7C,cAA4D;AAC1DA;AACD;AACF;;AAED,cAAIA,SAAJ,SAAsB;AACpB;AACAE,uBAAWf,4BAA4BtI,OAA5BsI,MAAyCa,SAApDE;AACA;AACAC,wBACEvL,gBAAgBiC,OAAhBjC,MAA6BA,gBAAgBuK,YAA7CvK,UAA6CuK,CAAhBvK,CAA7BA,IACAoL,SAFFG;AAGA;AACA,0BAAc;AACZ;AACAG,6BAAe;AAIX3rB,uBAAOyf,gBAJI;AAMbA,kBANFkM,WAMElM,CANa,CAAfkM;AAFF,mBAUO,eAAe;AACpB;AACAA,6BAAenH,yGAAfmH,KAAenH,CAAfmH;AAFK,mBAGA;AACLA;AACD;AAvBH,iBAwBO,IAAIN,SAAJ,YAAyB;AAC9BM,2BAAenH,yGAAfmH,KAAenH,CAAfmH;AACD;;AAED,cAAIN,SAAJ,UAAuB;AACrBM,2BAAenH,uGAGb/E,IAHFkM,WAGElM,CAHa+E,CAAfmH;AAKA,yBAAa;AACX,kBAAIN,SAAJ,gBAA6B;AAC3BM;AACD;AACD,kBAAI,CAACN,SAAD,WAAqB,CAAzB,cAAwC;AACtCM;AACD;AACF;AACF;;AAED,cAAMM,0BAA0BX,uCAAuC,YAAM,CAA7E;;AAEA;AACA;AACA;AACA,cAAMY,mBAAmB;AACvBC,qBAASF,uBADc,EAAzB;;;AAIA,cAAIhB,aAAJ,SAA0B;AACxBiB,uCAA2B,aAAK;AAC9BjB,sCAAwB;AAAA,uBAAMgB,wBAAN,CAAMA,CAAN;AAAxBhB;AADFiB;AAGD;;AAED,cAAIhB,iBAAJ,SAA8B;AAC5BgB,uCAA2B,aAAK;AAC9BhB,0CAA4B;AAAA,uBAAMe,wBAAN,CAAMA,CAAN;AAA5Bf;AADFgB;AAGD;;AAED;AACA,iBACE;AAAC;AACC;AADF;AAAA,qBAEE,KAAQE,EAAR,MAAQA,GAAMlK,OAFhB;AAGE,uBAAWoC,2DAET,CAAC+G,SAAD,cAAwB,CAAxB,QAFS/G,UAGT+G,uBAHS/G,iBAIT,CAACiH,YAAD,cAPJ,UAGajH,CAHb;AASE;AAEEwE,oBAAS11B,KAAT01B,GAFF;AAGE11B,qBAAOoxB,oDAHT,KAGSA,CAHT;AAIEuE,wBAAUvE,6DAJZ,GATF;;AAeMyG,kBAfN,MAgBMC,YAhBN;AAmBGS,sBAnBH,CADF;;AAzJD1E,UALH,CADF;;AAwLGuD,yCAEC,oBAAoB;AAAA,iBAAUD,kBAAkBC,QAA5B,WAAUD,CAAV;AA1LxB,SA0LI,CA1LJ;AA2LGxD,wBACC,CAACyD,QADFzD,yBAGC,sBAAsB,YAAM;AAC1B,cAAM2E,cAAclH,qDAApB,QAAoBA,CAApB;;AAEAA,0EAAmBgG,QAAnBhG;AAHF,UA9LJ,CADF;;AAjBF;;AAyNA,UAAM6H,gBAAgB,SAAhBA,aAAgB,YAAe;AACnC,YAAM9C,aAAa,aAAa;AAAA,iBAAKj2B,SAAS4uB,OAAd;AAAb,cAAnB;AACA,YAAMU,OAAO,OAAOV,OAAP,sBAAoCA,OAApC,IAAoCA,EAApC,GAAoDA,OAAjE;AACA,YAAM9uB,QAAQoxB,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAhE,QAAcsC,CAAd;AACA,YAAMsE,OAAN;AACA,YAAMC,WAAWvE,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAnE,QAAiBsC,CAAjB;AACA,YAAMyG,UAAUzG,0DAAa9C,0CAA7B,MAA6BA,CAAb8C,CAAhB;AACA,YAAM0G,cAAc1G,0DAAatC,+CAAjC,MAAiCA,CAAbsC,CAApB;;AAEA,YAAMzW,UAAU,CAACkd,QAAD,WAAoB/I,OAApB,WAAsCgJ,YAAtD,SAAgB,CAAhB;;AAEA,YAAM7uB,sBACD4uB,QADC5uB,OAED6lB,OAFC7lB,OAGD6uB,YAHL,KAAM7uB,CAAN;;AAMA,eACE;AAAA;AAAA;AACE,eAAQhL,CAAR,MAAQA,GAAK6wB,OADf;AAEE,qBAAWoC,2DAAoB,SAFjC,QAEaA,CAFb;AAGE;AAEEwE,kBAASA,IAATA,GAFF;AAGE11B,mBAAOoxB,oDAHT,KAGSA,CAHT;AAIEuE,sBAAUvE,6DAJZ,GAHF;;AASMyG,gBATN;AAWGzG,0FAXH,CADF;;AAjBF;;AAkCA,UAAM8H,aAAa,SAAbA,UAAa,SAAY;AAC7B,YAAMvB,eAAevJ,kDAArB,MAAqBA,CAArB;AACA,YAAMwJ,UAAUxG,0DAAa/C,6CAA7B,MAA6BA,CAAb+C,CAAhB;AACA,eACE;AAAA;AAAA,mBAAkB,cAAlB;AACE;AAAA;AAAA;AACE,qBAAWF,6DAET,CAACiD,kBAAD,mBAFSjD,QAGT0G,QAJJ,SACa1G,CADb;AAME,iBAAO0G,iBAAiB,EAN1B;;AAQG/D,4CARH,CADF,CADF;;;AAHF;;AAmBA,UAAMsF,mBAAmB,SAAnBA,gBAAmB,YAAe;AACtC,YAAMhD,aAAa,aAAa;AAAA,iBAAKj2B,SAAS4uB,OAAd;AAAb,cAAnB;AACA,YAAMU,OAAO,OAAOV,OAAP,sBAAoCA,OAApC,IAAoCA,EAApC,GAAoDA,OAAjE;AACA,YAAM9uB,QAAQoxB,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAhE,QAAcsC,CAAd;AACA,YAAMuE,WAAWvE,+DAAkB+E,WAAlB/E,OAAoCtC,OAApCsC,OAAkDtC,OAAnE,QAAiBsC,CAAjB;AACA,YAAMgI,eAAehI,0DAAa3C,+CAAlC,MAAkCA,CAAb2C,CAArB;AACA,YAAM0G,cAAc1G,0DAAatC,+CAAjC,MAAiCA,CAAbsC,CAApB;AACA,YAAMiI,oBAAoBjI,0DACxBtC,qDADF,MACEA,CADwBsC,CAA1B;;AAIA,YAAMzW,UAAU,CACdye,aADc,WAEdtK,OAFc,WAGdgJ,YAHc,WAIduB,kBAJF,SAAgB,CAAhB;;AAOA,YAAMpwB,sBACDmwB,aADCnwB,OAED6lB,OAFC7lB,OAGD6uB,YAHC7uB,OAIDowB,kBAJL,KAAMpwB,CAAN;;AAOA,eACE;AAAA;AAAA;AACE,eAAQhL,CAAR,MAAQA,GAAK6wB,OADf;AAEE,qBAAWoC,2DAAoB,SAFjC,QAEaA,CAFb;AAGE;AAEEwE,kBAAS11B,KAAT01B,GAFF;AAGE11B,mBAAOoxB,oDAHT,KAGSA,CAHT;AAIEuE,sBAAUvE,6DAJZ,GAHF;;AASM0G,oBATN,MAUMsB,aAVN,MAWMC,kBAXN;AAaGjI,0EAAqBtC,OAArBsC,QAAoC;AACnC7lB,gBADmC;AAEnCujB,wBAFmC,EAApCsC,CAbH,CADF;;;AAzBF;;AA+CA,UAAMkI,oBAAoB,SAApBA,iBAAoB,GAAM;AAC9B,YAAMC,aAAanI,0DAAa7C,gDAAhC,MAAgCA,CAAb6C,CAAnB;AACA,YAAMoI,eAAepI,0DAAa5C,kDAAlC,MAAkCA,CAAb4C,CAArB;AACA,eACE;AAAA;AAAA;AACE,qBAAWmI,WADb;AAEE,8BACKA,WADL;AAEE9J,sBAAasF,WAAbtF,OAFF,GAFF;;AAMM8J,mBANN;AAQE;AAAA;AAAA;AACE,qBAAWrI,kDAAWsI,aADxB,SACatI,CADb;AAEE,iBAAOsI,aAAa7sB,KAFtB;AAGM6sB,qBAHN;AAKG3F,+CALH,CARF,CADF;;;AAHF;;AAuBA,UAAM4F,iBAAiB,SAAjBA,cAAiB,QAAS;AAC9B,YAAMC,kBAAkBtI,0DACtB1C,qDADF,MACEA,CADsB0C,CAAxB;AAGA,eACE;AAEE,iBAFF;AAGE,uBAHF;AAIE,mBAJF;AAKE,wBAAc,OALhB;AAME,4BAAkB,OANpB;AAOE,qBAAWsI,gBAPb;AAQE,iBAAOA,gBART;AASE,iBAAOC,KATT;AAUMD,wBAXR,IACE,EADF;AAJF;;AAoBA,UAAME,YAAY,SAAZA,SAAY;AAAA,eAChB;AAAA;AAAA;AACE,qBAAW1I,2EAAoCgE,UADjD,SACahE,CADb;AAEE,qCAEKgE,UAFL,MAFF;AAMMA,kBANN;AAQGpK,8CACC;AAAA;AAAA,UAAK,WAAL;AAAiC2O,4BAAjC,CADD3O;AARH;AAWE;AAAA;AAAA;AACE,qBAAWoG,kDAAWiE,WAAXjE,WAAiCoC,oCAD9C,EACapC,CADb;AAEE,iBAAOiE,WAAWxoB,KAFpB;AAGMwoB,mBAHN;AAKGpB,0BAAkBgC,gBAAlBhC,KALH;AAMGyC,mBANH;AAOGjC,qBAAayC,WAAbzC,KAPH;AAQE;AAAA;AAAA;AACE,qBAAWrD,kDAAWkE,WADxB,SACalE,CADb;AAEE,8BACKkE,WADL;AAEE3F,sBAAasF,WAAbtF,OAFF,GAFF;;AAMM2F,mBANN;AAQGjB,qBAAa;AAAA,iBAAUgD,eAAV,CAAUA,CAAV;AARhB,SAQGhD,CARH;AASGE,+BATH,CARF;;AAmBGC,0BAAkBgF,iBAAlBhF,KAAwC,IAnB3C,CAXF;;AAgCGxJ,iDACC;AAAA;AAAA,UAAK,WAAL;AAAoC2O,6BAApC,CADD3O;AAhCH;AAmCG,SAACqJ,SAAD,UACC;AAAA;AAAA;AAAmC/C,qFAAnC,CApCJ;;AAsCE,gGAAkB,SAAlB,SAAoC,aAApC,6BAtCF,CADgB;;AAAlB;;AA2CA;AACA,aAAOjJ,WAAWA,gCAAXA,IAAWA,CAAXA,GAAmDyR,SAA1D;AACD,K;;;;EA11BqCC,yDAAQC,2DAARD,+CAAQC,CAARD,C;;AAAnB9G,U,CACZgH,SADYhH,GACAgH,kDADAhH;AAAAA,U,CAEZgE,YAFYhE,GAEGgE,qDAFHhE;AAAAA,yE;;;;;;;;;;;;;;;;;;;;;ACXN;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,kDAEkB;AAC3B,8BAAsB,kBAAkB,KAAlB,gBAAkB,EAAlB,EAAtB,IAAsB,CAAtB;AACD,OAJU;AAAA;AAAA;AAAA,0CAMU;AACnB;AACD,OARU;AAAA;AAAA;AAAA,6EAU6C;AACtD,YAAMiH,WAAW,KAAjB,gBAAiB,EAAjB;AACA,YAAMC,WAAW,iCAAjB,SAAiB,CAAjB;;AAEA;AACA;AACA,YAAMC,qBAAqB,kCAA3B,UAA2B,CAA3B;AACAA,mCAA2B,aAAK;AAC9B,cAAMC,2BAAwBj6B,4BAA4BA,QAA1D,CAA0DA,CAApDi6B,CAAN;AACA,cAAIpY,eAAeiY,SAAfjY,WAAeiY,CAAfjY,MAA0CA,eAAekY,SAA7D,WAA6DA,CAAflY,CAA9C,EAAqF;AACnFkY,0BAAcA,SAAdA,WAAcA,CAAdA;AACD;AAJHC;;AAOA;AACA;AACA;AACA;AACA,YAAME,oBAAoB,2BAA1B,WAA0B,CAA1B;AACAA,kCAA0B,aAAK;AAC7B,cAAIJ,gBAAgBC,SAApB,CAAoBA,CAApB,EAAiC;AAC/B,gBAAMI,WAAWn6B,kBAAjB,EAAiBA,CAAjB;AACA,gBAAMo6B,aAAgBD,QAAhBC,GAAN;AACA,gBAAMH,2BAAwBG,qCAAqCA,iBAAnE,CAAmEA,CAA7DH,CAAN;AACAF,mCAAuBA,SAAvBA,WAAuBA,CAAvBA;AACD;AANHG;;AASA;AACA,YACEJ,kBAAkBC,SAAlBD,QACAA,qBAAqBC,SADrBD,WAEAA,qBAAqBC,SAFrBD,WAGAA,oBAAoBC,SAHpBD,UAIAA,sBAAsBC,SALxB,UAME;AACA,gCAAsB,4BAA4BD,kBAAkBC,SAApE,IAAsB,CAAtB;AACD;AACF,OAhDU;AAAA;AAAA;AAAA,qDAkDqB;AAAA;;AAC9B,YAAMD,WAAW,KAAjB,gBAAiB,EAAjB;AACA,YAAMO,mBAAmB,0BAAzB,QAAyB,CAAzB;AAF8B,YAGtB9O,kBAHsB,GAGC8O,gBAHD;;AAK9B;;AACAA;;AAEA;AACA,gCAAwB;AACtB;AACA,cAAMx8B,OAAOT,YAAYi9B,iBAAzB,QAAaj9B,CAAb;AACA,eAAK,IAAIW,IAAT,GAAgBA,IAAIF,KAApB,QAAiCE,KAAjC,GAAyC;AACvC,gBAAIs8B,0BAA0Bx8B,KAA9B,CAA8BA,CAA1Bw8B,CAAJ,EAAwC;AACtCA;AACA;AACD;AACF;AACF;;AAED;AACA;AACA,YACGP,mBAAmB,CAACO,iBAArB,MAACP,IACDA,oBAAoBO,iBADpB,MAACP,IAEDA,sBAAsBO,iBAFtB,QAACP,IAGDA,yBAAyBO,iBAHzB,WAACP,IAIA,CAACO,iBAAD,UAA4BP,0BAA0BO,iBALzD,cAME;AACA;AACA,cACGP,oBAAoBO,iBAApBP,UAA+C,WAAhD,uBAACA,IACDA,sBAAsBO,iBADtB,QAACP,IAEDA,yBAAyBO,iBAFzB,WAACP,IAGAA,uBACC,CAACO,iBADFP,UAECA,0BAA0BO,iBAF3BP,gBAGC,WAPJ,sBAQE;AACAO;AACD;;AAEDj9B,0CAAgC,mBAAhCA,gBAAgC,CAAhCA;AACD;;AAED;AACA,YAAI08B,sBAAsBO,iBAA1B,UAAqD;AACnDA;AACD;;AAED;AACA,YAAIA,iBAAJ,YAAiC;AAC/BA,mCAAyBA,0BACrBA,iBADqBA,QAErBx4B,UAAUw4B,qCAAqCA,iBAFnDA,QAEIx4B,CAFJw4B;AAGAA,kCAAwBA,0BAA0BA,iBAA1BA,OAAkDx4B,SACxEw4B,yBAAyBA,iBAAzBA,QACIA,yBADJA,IAEIA,iBAHoEx4B,MAA1Ew4B,CAA0Ex4B,CAA1Ew4B;AAMD;;AAED,eAAO,gCAAgC,YAAM;AAC3C,kBAAQ;AACNC;AACD;AACD,cACER,kBAAkBO,iBAAlBP,QACAA,sBAAsBO,iBADtBP,YAEAA,oBAAoBO,iBAFpBP,UAGAA,sBAAsBO,iBAJxB,UAKE;AACA;AACD;AAXH,SAAO,CAAP;AAaD,OA9HU;;;AAAA;AAAA;AAAf,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEe;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,qDAEqB;AAC9B,YAAM/G,6BACDpC,6DAAgB,KADfoC,KACDpC,CADCoC,EAEDpC,6DAAgB,KAFfoC,KAEDpC,CAFCoC,EAGDpC,6DAHCoC,KAGDpC,CAHCoC,EAIDpC,6DAJL,KAIKA,CAJCoC,CAAN;AAMA;AACD,OAVU;AAAA;AAAA;AAAA,0DAY0B;AAAA;;AAAA,YAEjCiH,OAFiC,GAe/BR,QAf+B;AAAA,4BAe/BA,QAf+B;AAGjCpN,eAHiC;AAIjCthB,YAJiC,GAe/B0uB,QAf+B;AAKjCrP,mBALiC,GAe/BqP,QAf+B;AAMjClN,kBANiC,GAe/BkN,QAf+B;AAOjCnN,mBAPiC,GAe/BmN,QAf+B;AAQjCjN,kBARiC,GAe/BiN,QAf+B;AASjChN,qBATiC,GAe/BgN,QAf+B;AAUjC/M,uBAViC,GAe/B+M,QAf+B;AAWjC9M,mBAXiC,GAe/B8M,QAf+B;AAYjC7M,gBAZiC,GAe/B6M,QAf+B;AAajC5M,yBAbiC,GAe/B4M,QAf+B;AAcjCtG,oBAdiC,GAe/BsG,QAf+B;;AAiBnC;;AACA,YAAIlG,kBAAJ;AACA0G,wBAAgB,kBAAU;AACxB,cAAI3L,OAAJ,SAAoB;AAClBiF;AACD;AAHH0G;;AAMA,YAAIC,mDAAJ,OAAIA,EAAJ;;AAEA,YAAIC,iBAAiB,aACnB;AAAA,iBAAOlF,gBAAiBA,eAAe,iBAAiB;AAAA,mBAAQmF,KAAR;AAAxD,WAAuC,CAAvC;AADF,SAAqB,CAArB;AAGA;AACA,YAAID,kBAAkB,CAACA,eAAvB,UAAgD;AAC9CA,2BAAiB,4BAA4B;AAAA,mBAAOlF,IAAP;AAA7CkF,WAAiB,CAAjBA;AACD;;AAED;AACA,YAAIhH,gBAAgB,CAApB,gBAAqC;AACnCgH,2BAAiB,EAAE3C,UAAnB2C,IAAiB,EAAjBA;AACAD;AACD;;AAED,YAAMG,sBAAsB,SAAtBA,mBAAsB,uBAA0B;AACpD,cAAIC,YAAJ;AACA,cAAIhM,OAAJ,UAAqB;AACnBgM,gCACK,aADLA,QAEK,aAFLA;AADF,iBAMO;AACLA,gCACK,aADLA;AAID;;AAED;AACA,cAAIA,gBAAgBA,KAApB,UAAmC;AACjCA,4BAAgBA,KAAhBA;AACD;;AAED,4BAAkB;AAChBA;AACD;;AAED;AACA,cAAI,OAAOA,KAAP,aAAJ,UAAuC;AACrCA,sBAAUA,WAAWA,KAArBA;AACA,gBAAMC,iBAAiBD,KAAvB;AACAA,4BAAgB;AAAA,qBAAO1J,wDAAP,cAAOA,CAAP;AAAhB0J;AACA;AACD;;AAED;AACA,cAAIA,iBAAiB,CAACA,KAAtB,IAA+B;AAC7BxwB;AACA,kBAAM,UAAN,0EAAM,CAAN;AAGD;;AAED;AACA,cAAI,CAACwwB,KAAL,UAAoB;AAClBA,4BAAgB;AAAA;AAAhBA;AACD;;AAED;AA7CF;;AAgDA,YAAME,sBAAN;;AAEA;AACA,YAAMC,sBAAsB,SAAtBA,mBAAsB,uBAA0B;AACpD,cAAMC,kBAAkBL,4BAAxB,YAAwBA,CAAxB;AACAG;AACA;AAHF;;AAMA,YAAMG,mBAAmB,wBAAwB,kBAAU;AACzD,cAAIrM,OAAJ,SAAoB;AAClB;AAEE2L,uBAAS,mBAAmB;AAAA,uBAAKQ,uBAAL,MAAKA,CAAL;AAAnB,gBAFX;;AAID;AACD,iBAAOA,oBAAP,MAAOA,CAAP;AAPF,SAAyB,CAAzB;;AAUA;AACA,YAAIG,iBAAiBD,iBAArB,KAAqBA,EAArB;AACA,YAAItH,oBAAJ;;AAEAuH,yBAAiB,mBAAmB,kBAAU;AAC5C,cAAItM,OAAJ,SAAoB;AAClB,gBAAMuM,oBAAoB,sBAAsB;AAAA,qBAC9CxO,gBAAgBwF,EAAhBxF,MAAwB,CAAxBA,YAAqCuE,+DAAkBiB,EAAlBjB,MADS,IACTA,CADS;AAAhD,aAA0B,CAA1B;AAGA;AAEEqJ,uBAASY,iBAFX;;AAID;AACD;AAVFD,SAAiB,CAAjBA;;AAaAA,yBAAiB,sBAAsB;AAAA,iBACrCtM,iBACIA,eADJA,SAEIjC,gBAAgBiC,OAAhBjC,MAA6B,CAA7BA,YAEEuE,+DAAkBtC,OAAlBsC,MAL+B,IAK/BA,CAL+B;AAAvCgK,SAAiB,CAAjBA;;AAQA;AACA,YAAME,aAAa,yBAAyB;AAAA,iBAAO7F,IAAP;AAA5C,SAAmB,CAAnB;;AAEA;AACA,YAAI5I,QAAJ,QAAoB;AAClB;AACA,cAAM0O,eAAN;AACA1O,0BAAgB,mBAAW;AACzB,gBAAM2O,QAAQ,yBAAyB;AAAA,qBAAKnJ,SAAL;AAAvC,aAAc,CAAd;AACA,uBAAW;AACTkJ;AACD;AAJH1O;;AAOA,cAAM4O,oBAAoB,oBACxB;AAAA,mBAAmBC,QAAQA,SAASxiB,QAAjBwiB,gBAAyCxiB,QAA5D;AADwB,aAExBqiB,gBAFF,YAA0B,CAA1B;;AAKA,cAAII,mBAAmB5H,mBAAmB0H,kBAA1C;AACAE,6BAAmBA,oBAAqB;AAAA,mBAAM;AAAA;AAAA;AAAA,sBAAN;;AAAxCA;;AAEA,cAAIC,mBAAmB;AACrB5M,oBADqB;AAErByL,qBAAS,iBAAiB;AAAA,kCACrB,aADqB;AAGxB1C,yBAAS,IAHe;;AAAjB;;AAOX;AATuB,WAAvB,CAUA,IAAIuD,cAAJ,GAAqB;AACnBM,4CACKR,eADLQ,UACKR,CADLQ;AAIAR;AALF,iBAMO;AACLA;AACD;AACF;;AAED;AACA,YAAMtH,eAAN;AACA,YAAI+H,cAAJ;;AAEA;AACA,YAAMC,YAAY,SAAZA,SAAY,kBAAqB;AACrChI,yCACK,aADLA;AAGE2G,4BAHF3G;;AAKA+H;AANF;;AASA;AACAT,+BAAuB,kBAAU;AAC/B,cAAItM,OAAJ,SAAoB;AAClB+E,gCAAoBA,yBAAyB/E,OAA7C+E,OAAoBA,CAApBA;AACA,gBAAIgI,qBAAJ,GAA4B;AAC1BC;AACD;AACDA,sBAAUhN,OAAVgN;AACA;AACD;AACDjI;AACAgI;AAVFT;AAYA,YAAIrH,mBAAmB8H,qBAAvB,GAA+C;AAC7CC;AACD;;AAED;AACA,YAAMC,YAAY,SAAZA,SAAY,OAAqB;AAAA;;AAAA,cAAdxE,KAAc,uEAAN,CAAM;;AACrC,cAAMlL,+HAGUgG,EAHVhG,UAGUgG,CAHVhG,kDAAN,IAAMA,CAAN;AAMA2O,sCAA4B,kBAAU;AACpC,gBAAIlM,OAAJ,UAAqB;AACrBzC,gBAAIyC,OAAJzC,MAAiByC,gBAAjBzC,CAAiByC,CAAjBzC;AAFF2O;AAIA,cAAI3O,IAAJ,UAAIA,CAAJ,EAAqB;AACnBA,8BAAkB,oBAAoB;AAAA,qBAAU0P,gBAAgBxE,QAA1B,CAAUwE,CAAV;AAAtC1P,aAAkB,CAAlBA;AACD;AACD;AAdF;;AAiBA;AACA,YAAIuH,eAAe,KAAnB;AACA;AACA,YAAI,CAAC,KAAD,gBAAJ,aAAuC;AACrCA,yBAAehJ,YAAfgJ,IAAehJ,CAAfgJ;AACA;AACD;AACD;AACAA,uBAAe,iBAAiB;AAAA,iBAAUmI,aAAV,CAAUA,CAAV;AAAhCnI,SAAe,CAAfA;;AAEA;AACA,YAAMoI,qBAAqB,yBAAyB;AAAA,iBAAK,CAAC3J,EAAD,YAAeA,EAApB;AAApD,SAA2B,CAA3B;;AAEA;AACA,YAAM1C,YAAY,SAAZA,SAAY,OAAQ;AACxB,cAAMsM,oBAAN;AACAD,qCAA2B,kBAAU;AACnC,gBAAM9e,SAAS,SAAS;AAAA,qBAAKmV,EAAEvD,OAAP,EAAKuD,CAAL;AAAxB,aAAe,CAAf;AACA4J,8BAAkBnN,OAAlBmN,MAA+BnN,yBAA/BmN,IAA+BnN,CAA/BmN;AAFFD;AAIA;AANF;AAQA,YAAInP,QAAJ,QAAoB;AAClB,cAAMqP,mBAAmB,SAAnBA,gBAAmB,aAAuB;AAAA,gBAAVj+B,CAAU,uEAAN,CAAM;;AAC9C;AACA,gBAAIA,MAAMF,KAAV,QAAuB;AACrB;AACD;AACD;AACA,gBAAIo+B,cAAc,eAAe/K,6DAAgBrzB,KAA/B,CAA+BA,CAAhBqzB,CAAf,MAA6C;AAAA;;AAAA;AAAEpzB,iBAAF;AAAO4O,mBAAP;;AAAA,oEAC/C7O,KAD+C,CAC/CA,CAD+C,oEAG5DA,KAH4D,CAG5DA,CAH4D;AAA/D,aAAkB,CAAlB;AAQA;AACAo+B,0BAAc,gBAAgB,oBAAY;AAAA;;AACxC,kBAAMjK,UAAUgK,iBAAiBE,SAAjBF,UAAiBE,CAAjBF,QAA6Cj+B,IAA7D,CAAgBi+B,CAAhB;AACA,2KAIKvM,UAJL,OAIKA,CAJL;AAFFwM,aAAc,CAAdA;AASA;AAxBF;AA0BAvI,yBAAesI,+BAAftI,OAAesI,CAAftI;AACD;;AAED;AAEEA,wBAFF;AAGEC,6BAHF;AAIEC,wBAJF;AAKEkH,+BALF;AAMEjH,0CANF;;AAQD,OAzSU;AAAA;AAAA;AAAA,mDA2SmB;AAAA,YAE1BN,MAF0B,GAQxBD,aARwB;AAG1BN,cAH0B,GAQxBM,aARwB;AAI1BJ,gBAJ0B,GAQxBI,aARwB;AAK1BrH,2BAL0B,GAQxBqH,aARwB;AAM1BI,oBAN0B,GAQxBJ,aARwB;AAO1BwH,2BAP0B,GAQxBxH,aARwB;;;AAU5B,YAAM6I,wBAAN;;AAEArB,mCACU;AAAA,iBAAOvF,IAAP;AADVuF,mBAEW,eAAO;AACdqB,gCAAsB5G,IAAtB4G,MAAgC5G,IAAhC4G;AAHJrB;;AAMA;AACA,eAAO;AACLhH,sBAAYP,wBAER,cACA,6DADA,mBACA,CADA,gCAHC,EAAP;;AASD,OAvUU;AAAA;AAAA;AAAA,sCAyUM;AACf;AACA,YAAM,4BACD,KADC,gBACD,EADC;AAEJT,gBAAM,oBAFF,MAEE,CAFF;AAGJC,oBAAU,oBAHN,UAGM,CAHN;AAIJG,oBAAU,+BAJN,GAAN;;;AAOA;AACD,OAnVU;AAAA;AAAA;AAAA,0CAqVU;AACnB,eAAOhC,+DAAkB,WAAlBA,GAAkB,CAAlBA,EAAmC,WAA1C,GAA0C,CAAnCA,CAAP;AACD,OAvVU;AAAA;AAAA;AAAA,0CAyVU;AACnB,eAAOA,+DAAkB,WAAlBA,GAAkB,CAAlBA,EAAmC,WAA1C,GAA0C,CAAnCA,CAAP;AACD,OA3VU;AAAA;AAAA;AAAA,yFA6VyD;AAAA;;AAClE,YAAIkL,eAAJ;;AAEA,YAAIlJ,SAAJ,QAAqB;AACnBkJ,yBAAe,gBAAgB,qCAA+B;AAC5D,gBAAMxN,SAAS,uBAAuB;AAAA,qBAAK5uB,SAASq8B,WAAd;AAAtC,aAAe,CAAf;;AAEA;AACA,gBAAI,WAAWzN,sBAAf,OAA4C;AAC1C;AACD;;AAED,gBAAMoB,eAAepB,uBAArB;;AAEA;AACA,gBAAIA,OAAJ,WAAsB;AACpB,qBAAOoB,wCAAP,MAAOA,CAAP;AACD;AACD,mBAAO,qBAAqB;AAAA,qBAAOA,8BAAP,MAAOA,CAAP;AAA5B,aAAO,CAAP;AAda,aAAfoM,YAAe,CAAfA;;AAiBA;AACA;AACAA,yBAAe,iBACR,eAAO;AACV,gBAAI,CAACjQ,IAAI,aAAT,UAAKA,CAAL,EAAiC;AAC/B;AACD;AACD,yDAEG,aAFH,YAE2B,kBACvBA,IAAI,aADmB,UACvBA,CADuB,iCAF3B,iBAE2B,CAF3B;AALW,oBAeL,eAAO;AACb,gBAAI,CAACA,IAAI,aAAT,UAAKA,CAAL,EAAiC;AAC/B;AACD;AACD,mBAAOA,IAAI,aAAJA,qBAAP;AAnBJiQ,WAAe,CAAfA;AAqBD;;AAED;AACD,OA5YU;AAAA;AAAA;AAAA,6CA8YyC;AAAA;;AAAA,YAA5BD,qBAA4B,uEAAJ,EAAI;;AAClD,YAAI,CAACnJ,OAAL,QAAoB;AAClB;AACD;;AAED,YAAMc,aAAa,CAAC,4BAA4B5C,+CAA7B,eAEjB,WAAW,gBAAQ;AACjB;AACA,cAAIiL,sBAAsBplB,KAA1B,EAAIolB,CAAJ,EAAoC;AAClC,mBAAO;AAAA,qBAAUA,sBAAsBplB,KAAtBolB,IAA+BnlB,EAAED,KAAjColB,EAA+BnlB,CAA/BmlB,EAA2CllB,EAAEF,KAA7ColB,EAA2CllB,CAA3CklB,EAAuDplB,KAAjE,IAAUolB,CAAV;AAAP;AACD;AACD,iBAAO;AAAA,mBAAU,+BAA6BnlB,EAAED,KAA/B,EAA6BC,CAA7B,EAAyCC,EAAEF,KAA3C,EAAyCE,CAAzC,EAAqDF,KAA/D,IAAU,CAAV;AAAP;AAPe,SAEjB,CAFiB,EASjB,WAAW;AAAA,iBAAK,CAACob,EAAN;AATM,SASjB,CATiB,EAUjB,WAVF,QAAmB,CAAnB;;AAaA2B,2BAAmB,eAAO;AACxB,cAAI,CAAC3H,IAAI,aAAT,UAAKA,CAAL,EAAiC;AAC/B;AACD;AACDA,cAAI,aAAJA,cAA6B,gBAC3BA,IAAI,aADuB,UAC3BA,CAD2B,UAA7BA,qBAA6B,CAA7BA;AAJF2H;;AAWA;AACD,OA5aU;AAAA;AAAA;AAAA,mCA8aG;AACZ,eAAO5C,+DAAkB,WAAlBA,SAAsC,oBAA7C,UAA6C,CAAtCA,CAAP;AACD;;AAED;AAlbW;AAAA;AAAA;AAAA,yCAmbS;AAAA,qBAC6B,KAD7B;AACV7E,oBADU;AACIhB,4BADJ;;;AAGlB,YAAM0O,WAAW,EAAEjH,MAAnB,IAAiB,EAAjB;AACA,kCAA0B;AACxBiH;AACD;AACD,wCAAgC;AAAA,iBAAM1N,gBAAgBA,aAAtB,IAAsBA,CAAtB;AAAhC;AACD,OA3bU;AAAA;AAAA;AAAA,oDA6boB;AAAA,YACrBC,gBADqB,GACA,KADA,KACA,CADA;;AAAA,gCAEF,KAFE,gBAEF,EAFE;AAErByG,gBAFqB;AAEXD,YAFW;;AAI7B;;;AACA,YAAMwJ,aAAavJ,WAAnB;AACA,YAAMwJ,UAAU16B,WAAWy6B,aAA3B,WAAgBz6B,CAAhB;;AAEA,8BACE;AACEkxB,oBADF;AAEED,gBAAMyJ,OAFR,EADF;AAKE;AAAA,iBAAMjQ,oBAAoBA,8BAA1B,OAA0BA,CAA1B;AALF;AAOD,OA5cU;AAAA;AAAA;AAAA,mDA8cmB;AAAA,iCACsB,KADtB,gBACsB,EADtB;AACpB0G,cADoB;AACZK,oBADY;AACEzH,uBADF;;AAG5B,YAAM4Q,qBAAqBp/B,kEACvBwxB,OADuBxxB,kBAA3B;AAGA,YAAMq/B,sBAAsB,CAA5B;;AAEA;AACA;AACA;AACA;AACA,0BAAkB;AAChB,gCAAsB;AACpBpJ,0BAAc,KADM,EAAtB;;AAGA;AACD;;AAjB2B,YAmBpB9G,cAnBoB,GAmBD,KAnBC,KAmBD,CAnBC;;;AAqB5B,YAAImQ,YAAY,qDAAQ1J,UAAR,QAA0B,aAAK;AAC7Cb,mBAASjB,6DAATiB,CAASjB,CAATiB;AACA;AAFF,SAAgB,CAAhB;AAIA,YAAI,CAACjB,uDAAL,MAAKA,CAAL,EAAwB;AACtB;AACA,cAAMyL,gBAAgB,oBAAoB;AAAA,mBAAKxK,SAASvD,OAAd;AAA1C,WAAsB,CAAtB;AACA,cAAI+N,gBAAgB,CAApB,GAAwB;AACtB,gBAAM1jB,WAAWyjB,UAAjB,aAAiBA,CAAjB;AACA,gBAAIzjB,kBAAJ,qBAA2C;AACzC,4BAAc;AACZyjB;AADF,qBAEO;AACLzjB;AACAyjB,4BAAY,CAAZA,QAAY,CAAZA;AACD;AANH,mBAOO;AACLzjB;AACA,kBAAI,CAAJ,UAAe;AACbyjB,4BAAY,CAAZA,QAAY,CAAZA;AACD;AACF;AAdH,iBAeO,cAAc;AACnBA,2BAAe;AACbxQ,kBAAI0C,OADS;AAEbgO,oBAAMJ,kBAFO,EAAfE;;AADK,iBAKA;AACLA,wBAAY,CACV;AACExQ,kBAAI0C,OADN;AAEEgO,oBAAMJ,kBAFR,EADU,CAAZE;;AAMD;AA9BH,eA+BO;AACL;AACA,cAAMC,iBAAgB,oBAAoB;AAAA,mBAAKxK,SAASvD,UAAd;AAA1C,WAAsB,CAAtB;AACA;AACA,cAAI+N,iBAAgB,CAApB,GAAwB;AACtB,gBAAM1jB,YAAWyjB,UAAjB,cAAiBA,CAAjB;AACA,gBAAIzjB,mBAAJ,qBAA2C;AACzC,4BAAc;AACZyjB,iDAAgC9N,OAAhC8N;AADF,qBAEO;AACL9N,+BAAe,gBAAU;AACvB8N,4BAAUC,iBAAVD;AADF9N;AAGD;AAPH,mBAQO;AACLA,6BAAe,gBAAU;AACvB8N,0BAAUC,iBAAVD;AADF9N;AAGD;AACD,gBAAI,CAAJ,UAAe;AACb8N,0BAAYA,gCAA+B9N,OAA3C8N,MAAYA,CAAZA;AACD;AACD;AAlBF,iBAmBO,cAAc;AACnBA,wBAAY,iBACV,WAAW;AAAA,qBAAM;AACfxQ,oBAAIiG,EADW;AAEfyK,sBAAMJ,kBAFS,EAAN;;AADbE,aACE,CADU,CAAZA;AADK,iBAOA;AACLA,wBAAY,WAAW;AAAA,qBAAM;AAC3BxQ,oBAAIiG,EADuB;AAE3ByK,sBAAMJ,kBAFqB,EAAN;;AAAvBE,aAAY,CAAZA;AAID;AACF;;AAED,8BACE;AACE5J,gBAAO,CAACE,OAAD,UAAkB0J,UAAnB,MAAC,IAAuC,CAAxC,QAAC,GAAD,CAAC,GAAuD,WADhE;AAEE1J,kBAAQ0J,SAFV,EADF;AAKE;AAAA,iBAAMnQ,kBAAkBA,kCAAxB,QAAwBA,CAAxB;AALF;AAOD,OAnjBU;AAAA;AAAA;AAAA,kDAqjBkB;AAAA,iCACN,KADM,gBACN,EADM;AACnB2G,gBADmB;;AAAA,YAEnB1G,gBAFmB,GAEE,KAFF,KAEE,CAFF;;AAI3B;;AACA,YAAMqQ,eAAe,CAAC3J,YAAD,WAAwB;AAAA,iBAAKlzB,SAAS4uB,OAAd;AAA7C,SAAqB,CAArB;;AAEA,YAAIliB,UAAJ,IAAkB;AAChBmwB,4BAAkB;AAChB3Q,gBAAI0C,OADY;AAEhBliB,wBAFgB,EAAlBmwB;;AAID;;AAED,8BACE;AACE3J,oBAAU2J,YADZ,EADF;AAIE;AAAA,iBAAMrQ,oBAAoBA,uCAA1B,KAA0BA,CAA1B;AAJF;AAMD,OAzkBU;AAAA;AAAA;AAAA,gEA2kBgC;AAAA;;AACzCoF;AACA,YAAMkL,cAAclL,mDAApB;;AAEA,YAAImL,aAAJ;AACA,qBAAa;AACXA,kBAAQnL,wBAARmL;AADF,eAEO;AACLA,kBAAQnL,MAARmL;AACD;;AAED;AACA,8BACE;AACE3J,6BAAmB;AACjBlH,gBAAI0C,OADa;AAEjBoO,oBAFiB;AAGjBF,oCAHiB,EADrB,EADF;;AAQE,oBAAM;AACJ,uBAAa;AACXn5B,mDAAuC,OAAvCA;AACAA,qDAAyC,OAAzCA;AACAA,kDAAsC,OAAtCA;AAHF,iBAIO;AACLA,mDAAuC,OAAvCA;AACAA,iDAAqC,OAArCA;AACAA,oDAAwC,OAAxCA;AACD;AAjBL;AAoBD,OA3mBU;AAAA;AAAA;AAAA,gDA6mBgB;AACzBiuB;AADyB,sBAEW,KAFX;AAEjBnF,uBAFiB;AAEAmC,cAFA;;AAAA,iCAGuB,KAHvB,gBAGuB,EAHvB;AAGjBuE,eAHiB;AAGRC,yBAHQ;AAGWmH,eAHX;;AAIzB,YAAM0C,gBAAgB,aACpB;AAAA,iBAAKvkB,eAAe0a,kBAAf1a,MAAuCA,SAAS0a,kBAArD;AADF,SAAsB,CAAtB;AAGA,YAAM5D,iBACJyN,iBAAiBA,gCAAjBA,OACIA,cADJA,iBAEIrO,OAHN;;AAKA;AACA,YAAMsO,aAAa,eAAe;AAAA,iBAAKl9B,SAASozB,kBAAd;AAAlC,SAAmB,CAAnB;;AAEA,YAAI2J,aAAJ;;AAEA,YAAInL,eAAJ,aAAgC;AAC9BmL,kBAAQnL,wBAARmL;AADF,eAEO,IAAInL,eAAJ,aAAgC;AACrCmL,kBAAQnL,MAARmL;AACD;;AAED,YAAMI,WAAWt7B,SACfuxB,wCAAwCA,kBADzBvxB,QAAjB,cAAiBA,CAAjB;;AAKAq7B,wBAAgB;AACdhR,cAAIkH,kBADU;AAEd1mB,iBAAOywB,QAFO,EAAhBD;;;AAKA,8BACE;AACE/J,mBAAS+J,UADX,EADF;AAIE;AAAA,iBAAMzQ,mBAAmBA,4BAAzB,KAAyBA,CAAzB;AAJF;AAMD,OAppBU;AAAA;AAAA;AAAA,6CAspBa;AACtBmF;AACA,YAAMwL,UAAUxL,6BAA6BA,eAA7C;;AAEA,qBAAa;AACXjuB,oDAA0C,KAA1CA;AACAA,sDAA4C,KAA5CA;AACAA,mDAAyC,KAAzCA;AACD;;AAED;AACA;AACAA,kDAA0C,KAA1CA;AACAA,gDAAwC,KAAxCA;AACAA,mDAA2C,KAA3CA;;AAEA;AACA;AACA;AACA,YAAI,CAAJ,SAAc;AACZ,gCAAsB;AACpB0vB,0BADoB;AAEpBD,+BAAmB,KAFC,EAAtB;;AAID;AACF,OA/qBU;;;AAAA;AAAA;AAAf,G;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;;AAEA,IAAMiK,gBAAgB,SAAhBA,aAAgB;AAAA,SACpB;AAAA;AAAA,aAAQ,MAAR,qBAAiC,WAAjC;AACG5c,QAAMwH,QADT,CADoB;;AAAtB;;IAMqBqV,oB;;;AA4CnB,uCAAoB;AAAA;;AAAA;;AAGlB,wBAAmB,uBAAnB,KAAmB,CAAnB;AACA,uBAAkB,sBAAlB,KAAkB,CAAlB;AACA,sBAAiB,qBAAjB,KAAiB,CAAjB;;AAEA,kBAAa;AACXxK,YAAMrS,MAAMqS,IADD,EAAb;;AAPkB;AAUnB;;;;qDAEiCyK,S,EAAW;AAC3C,UAAI,oBAAoBA,UAAxB,MAAwC;AACtC,sBAAc,EAAEzK,MAAMyK,UAAtB,IAAc,EAAd;AACD;AACF,K;;;gCAEYzK,I,EAAM;AACjB,UAAI0K,aAAJ,IAAIA,CAAJ,EAAwB;AACtB1K,eAAO,WAAPA;AACD;AACD,aAAOjxB,SAASA,eAATA,CAASA,CAATA,EAA4B,mBAAnC,CAAOA,CAAP;AACD,K;;;+BAEWixB,I,EAAM;AAChBA,aAAO,iBAAPA,IAAO,CAAPA;AACA,oBAAc,EAAEA,MAAhB,IAAc,EAAd;AACA,UAAI,oBAAJ,MAA8B;AAC5B;AACD;AACF,K;;;8BAEU3P,C,EAAG;AACZ,aAAO;AACLA;AACD;AACD,UAAM2P,OAAO,WAAb;AACA,sBAAgBA,cAAc,WAAdA,OAAhB;AACD,K;;;4CAEwB;AAAA;;AACvB,aAAO;AACL2K,oBAAY,uBAAK;AACf,cAAIta,kBAAkBA,cAAtB,IAAwC;AACtC;AACD;AAJE;AAMLua,gBAAQ,KANH;AAOLhxB,eAAO,8BAA8B,kBAPhC;AAQLilB,kBAAU,qBAAK;AACb,cAAMrW,MAAM6H,SAAZ;AACA,cAAM2P,OAAOxX,MAAb;AACA,cAAIA,QAAJ,IAAgB;AACd,mBAAO,gBAAc,EAAEwX,MAAvB,GAAqB,EAAd,CAAP;AACD;AACD,0BAAc,EAAEA,MAAM,mBAAtB,IAAsB,CAAR,EAAd;AAdG;AAgBL6K,mBAAW,kCAhBN;AAiBL/M,sBAAc,WAAWA,YAjBpB,EAAP;;AAmBD,K;;;6BAES;AAAA;;AAAA,mBAoBJ,KApBI;AAGN4C,WAHM;AAKNV,UALM;AAMN/H,yBANM;AAONC,qBAPM;AAQN+H,cARM;AASN5H,kBATM;AAUNwJ,iBAVM;AAWNC,aAXM;AAYNtI,sBAZM;AAaNe,eAbM;AAcNiF,uBAdM;AAeNC,mBAfM;AAgBNqL,oBAhBM;AAiBNC,uBAjBM;AAkBNC,2BAlBM;AAmBNC,2BAnBM;;;AAsBR,aACE;AAAA;AAAA,QAAK,WAAW/M,6DAAhB,aAAgBA,CAAhB,EAAsD,OAAO,WAA7D;AACE;AAAA;AAAA,QAAK,WAAL;AACE;AAAA;AAAA;AACE,iBAAS,mBAAM;AACb,cAAI,CAAJ,aAAkB;AAClB,4BAAgB8B,OAAhB;AAHJ;AAKE,kBAAU,CAAC6B,WALb;;AAOG,iBAAWtE,YAPd,CADF,CADF;;;AAYE;AAAA;AAAA,QAAK,WAAL;AACE;AAAA;AAAA,QAAM,WAAN;AACG,iBADH;AAAA;AAEGlF,qBAAeyS,eAAe,KAA9BzS,qBAA8B,EAAfyS,CAAfzS,GAA8D0S,kBAFjE,IAEiEA,CAFjE;AAAA;AAGG,iBAHH;AAAA;AAGuBC,kCAHvB,CADF;;AAMG/S,6BACC,sBAAsB;AACpBgI,kBADoB;AAEpBlC,0BAAkB,WAFE;AAGpB7F,yBAHoB;AAIpBsB,0BAJoB;AAKpBqE,kBAAU,WAAWA,QALD,EAAtB,CAPJ,CAZF;;;AA2BE;AAAA;AAAA,QAAK,WAAL;AACE;AAAA;AAAA;AACE,iBAAS,mBAAM;AACb,cAAI,CAAJ,SAAc;AACd,4BAAgBmC,OAAhB;AAHJ;AAKE,kBAAU,CAAC8B,OALb;;AAOG,iBAAWtE,QAPd,CADF,CA3BF,CADF;;;;AAyCD,K;;;;EA1K+C0N,+C;;AAA7BV,oB,CACZzG,YADYyG,GACG;AACpBhL,qBADoB;AAEpBC,iBAFoB;AAGpBqL,kBAAgB;AAAA,QACdjM,QADc;AACJjlB,SADI;AACGgxB,UADH;AACWD,cADX;AACuBE,aADvB;AACkC/M,gBADlC;AAAA,WAGd;AAAA;AAAA,MAAK,WAAL;AACE;AACE,oBADF;AAEE,YAFF;AAGE,gBAHF;AAIE,aAJF;AAKE,cALF;AAME,kBAAY6M,UANd,GADF,CAHc;;;AAHI;AAiBpBI,qBAAmB;AAAA,WAAQ;AAAA;AAAA,MAAM,WAAN;AAAgC/K,WAAO,CAAvC,CAAR;;AAjBC;AAkBpBgL,yBAAuB;AAAA,WAAS;AAAA;AAAA,MAAM,WAAN;AAA+BtK,aAAS,CAAxC,CAAT;;AAlBH;AAmBpBuK,yBAAuB;AAAA,QACrBhL,QADqB;AAErB/H,mBAFqB;AAGrB6F,oBAHqB;AAIrBvE,oBAJqB;AAKrBqE,YALqB;AAAA,WAOrB;AAAA;AAAA,MAAM,WAAN;AACE;AAAA;AAAA;AACE,oBADF;AAEE,gBAAU;AAAA,eAAKrE,iBAAiBkR,OAAOra,SAA7B,KAAsBqa,CAAjBlR,CAAL;AAFZ;AAGE,aAAOyG,QAHT;;AAKG/H,wBAAoB;AAAA;AACnB;AACA;AAAA;AAAA,UAAQ,KAAR,GAAgB,OAAhB;AACMiT,cADN,MACMA,GAAUtN,QADhB,CAFmB;;;AAApB3F,MALH,CADF,CAPqB;;;AAAA,GAnBH,EADHsS;;AAAAA,mF;;;;;;;;;;;;ACTrB;AAAA;AAAA;AAAA;;AAEe;AACb;AACAjyB,QAAMyX,kDAFO;AAGb6H,WAAS7H,kDAHI;AAIb8H,kBAAgB9H,kDAJH;AAKb+H,qBAAmB/H,kDALN;AAMbgI,wBAAsBhI,kDANT;AAObiI,uBAAqBjI,kDAPR;AAQbkI,mBAAiBlI,kDARJ;AASboI,mBAAiBpI,kDATJ;AAUbqI,gBAAcrI,kDAVD;AAWbsI,2BAAyBtI,kDAXZ;AAYbuI,wBAAsBvI,kDAZT;AAabwI,wBAAsBxI,kDAbT;AAcbyI,sBAAoBzI,kDAdP;AAeb0I,YAAU1I,kDAfG;AAgBb4I,aAAW5I,kDAhBE;AAiBb6I,cAAY7I,kDAjBC;AAkBb8I,mBAAiB9I,kDAlBJ;AAmBb+I,iBAAe/I,kDAnBF;AAoBbgJ,mBAAiBhJ,kDApBJ;AAqBbiJ,kBAAgBjJ,kDArBH;AAsBbkJ,mBAAiBlJ,kDAtBJ;AAuBbmJ,uBAAqBnJ,kDAvBR;AAwBbsJ,qBAAmBtJ,kDAxBN;;AA0Bb;AACAuJ,gBAAcvJ,kDA3BD;AA4BbwJ,oBAAkBxJ,kDA5BL;AA6BbyJ,kBAAgBzJ,kDA7BH;AA8Bb0J,oBAAkB1J,kDA9BL;AA+Bb2J,mBAAiB3J,kDA/BJ;AAgCb4J,oBAAkB5J,kDAhCL;;AAkCb;AACA6J,WAAS7J,kDAnCI;;AAqCb;AACA8J,eAAa9J,kDAtCA;AAuCb+J,cAAY/J,kDAvCC;AAwCbgK,cAAYhK,kDAxCC;AAyCbiK,iBAAejK,kDAzCF;AA0CbkK,mBAAiBlK,kDA1CJ;AA2CbmK,eAAanK,kDA3CA;AA4CboK,YAAUpK,kDA5CG;AA6CbqK,qBAAmBrK,kDA7CN;;AA+Cb;AACAsK,eAAatK,kDAhDA;;AAkDb;AACAuK,aAAWvK,kDAnDE;AAoDbrW,SAAOqW,kDApDM;;AAsDb;AACAwK,YAAUxK,kDAvDG;AAwDbyK,iBAAezK,kDAxDF;AAyDb0K,sBAAoB1K,kDAzDP;AA0Db2K,wBAAsB3K,kDA1DT;AA2Db4K,wBAAsB5K,kDA3DT;AA4Db6K,iBAAe7K,kDA5DF;AA6Db8K,mBAAiB9K,kDA7DJ;AA8Db+K,mBAAiB/K,kDA9DJ;AA+DbgL,uBAAqBhL,kDA/DR;AAgEbiL,yBAAuBjL,kDAhEV;AAiEbkL,yBAAuBlL,kDAjEV;AAkEbmL,iBAAenL,kDAlEF;AAmEboL,mBAAiBpL,kDAnEJ;AAoEbqL,cAAYrL,kDApEC;AAqEbsL,cAAYtL,kDArEC;AAsEbuL,iBAAevL,kDAtEF;AAuEbwL,mBAAiBxL,kDAvEJ;AAwEbyL,mBAAiBzL,kDAxEJ;AAyEb0L,sBAAoB1L,kDAzEP;AA0Eb2L,mBAAiB3L,kDA1EJ;AA2Eb4L,kBAAgB5L,kDA3EH;AA4Eb6L,mBAAiB7L,kDA5EJ;;AA8Eb;AACAyX,WAAS,0DACP,wDAAgB;AACd;AACA1L,UAAM/L,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDAFlD,IAEY,CAApBA,CAFQ;AAGdgM,YAAQhM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDAHpD,IAGc,CAApBA,CAHM;AAIdiM,YAAQjM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDAJpD,IAIc,CAApBA,CAJM;AAKdkM,gBAAYlM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDALxD,IAKkB,CAApBA,CALE;AAMdmM,WAAOnM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDANnD,IAMa,CAApBA,CANO;AAOdoM,gBAAYpM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDAPxD,IAOkB,CAApBA,CAPE;AAQdqM,cAAUrM,4DAAoB,CAACA,kDAAD,SAAoBA,kDAApB,QAAsCA,kDARtD,IAQgB,CAApBA,CARI;AASdsM,YAAQtM,4DAAoB,CAACA,kDAAD,SAAoBA,kDATlC,IASc,CAApBA,CATM;;AAWd;AACA0I,cAAU1I,kDAZI,MAYY;AAC1B4I,eAAW5I,kDAbG,MAaa;AAC3B6I,gBAAY7I,kDAdE,MAcc;AAC5BwM,UAAMxM,kDAfQ;AAgBdyM,cAAUzM,kDAhBI;AAiBd0M,oBAAgB1M,kDAjBF;;AAmBd;AACAuK,eAAWvK,kDApBG;AAqBdrW,WAAOqW,kDArBO;AAsBdwK,cAAUxK,kDAtBI;;AAwBd;AACA2M,eAAW3M,kDAzBG;;AA2Bd;AACA4M,qBAAiB5M,kDA5BH;AA6Bd6M,iBAAa7M,kDA7BC;AA8Bd8M,oBAAgB9M,kDA9BF;;AAgCd;AACA+M,qBAAiB/M,kDAjCH;AAkCdgN,iBAAahN,kDAlCC;AAmCdiN,oBAAgBjN,kDAnCF;AAoCdkN,kBAAclN,kDApCA;AAqCdmN,eAAWnN,kDArCG;AAsCdoN,gBAAYpN,kDAAUtE,IAtCR,EAAhB,CADO,CA/EI;;;AA0Hb;AACA2R,oBAAkB,wDAAgB;AAChC3E,cAAU1I,kDADsB;AAEhC4I,eAAW5I,kDAFqB;AAGhC6I,gBAAY7I,kDAHoB;AAIhChjB,WAAOgjB,kDAAUrE,MAJe,EAAhB,CA3HL;;;AAkIb2R,iBAAetN,kDAlIF;;AAoIb;AACAuN,gBAAcvN,kDArID;AAsIbwN,YAAUxN,kDAtIG;AAuIbyN,eAAazN,kDAvIA;AAwIb0N,cAAY1N,kDAxIC;AAyIb2N,YAAU3N,kDAzIG;AA0Ib4N,UAAQ5N,kDA1IK;AA2Ib6N,YAAU7N,kDA3IG;AA4Ib8N,gBAAc9N,kDA5ID;AA6Ib+N,oBAAkB/N,kDA7IL;;AA+Ib;AACAgO,kBAAgBhO,kDAhJH;AAiJbmO,kBAAgBnO,kDAjJH;AAkJbqO,kBAAgBrO,kDAlJH;AAmJbsO,oBAAkBtO,kDAnJL;AAoJbuO,eAAavO,kDApJA;AAqJbwO,eAAaxO,kDArJA;AAsJb0O,eAAa1O,kDAtJA;AAuJb2O,kBAAgB3O,kDAvJH;AAwJb4O,mBAAiB5O,kDAxJJ;AAyJb+O,qBAAmB/O,kDAzJN;AA0JbiP,uBAAqBjP,kDA1JR;AA2JbmP,uBAAqBnP,kDA3JR;AA4Jb;AACAsP,kBAAgBtP,kDA7JH;AA8Jb;AACAuP,uBAAqBvP,kDA/JR;AAgKbwP,qBAAmBxP,kDAhKN;AAiKbyP,iBAAezP,kDAjKF;AAkKb0P,oBAAkB1P,kDAlKL;AAmKb2P,mBAAiB3P,kDAnKJ;AAoKb4P,oBAAkB5P,kDApKL;AAqKb6P,mBAAiB7P,kDAAU5D,WArKd,EAAf,E;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACe;AACb5L,OADa;AAEbL,OAFa;AAGbirB,aAHa;AAIbC,QAJa;AAKbC,WALa;AAMbC,SANa;AAObC,UAPa;AAQbC,SARa;AASbC,mBATa;AAUbC,OAVa;AAWbC,yBAXa;AAYbC,WAZa;AAabxkB,WAba;AAcbykB,cAda;AAebC,iBAfa;AAgBbC,iBAhBa;AAiBbC,sBAjBa;AAkBbC,YAlBa,EAAf;;;AAqBA,6BAA8B;AAC5B,MAAI,CAAJ,MAAW;AACT;AACD;AACD,MAAMC,UAAUC,cAAhB,IAAgBA,CAAhB;AACA,MAAI5jB,WAAJ;AACA,MAAI;AACFA,UAAM,eAAe;AAAA,aAAuBtC,QAAvB,QAAuBA,CAAvB;AAAf,OAANsC,GAAM,CAANA;AADF,IAEE,UAAU;AACV;AACD;AACD,SAAO,mCAAP;AACD;;AAED,eAAqC;AAAA,MAAvBsI,GAAuB,uEAAjB,EAAiB;AAAA,MAAb2Q,IAAa;AAAA,MAAP7nB,KAAO;;AACnC,MAAM7O,OAAOqhC,cAAb,IAAaA,CAAb;AACA,MAAIC,eAAJ;AACA,MAAIC,SAAJ;AACA,SAAO,CAACD,UAAUthC,KAAX,KAAWA,EAAX,KAA4BA,KAAnC,QAAgD;AAC9C,QAAI,CAACuhC,OAAL,OAAKA,CAAL,EAAsB;AACpBA;AACD;AACDA,aAASA,OAATA,OAASA,CAATA;AACD;AACDA;AACA;AACD;;AAED,2BAA4B;AAC1B,MAAMl5B,QAAQ4V,IAAInC,IAAJmC,aAAqBnC,aAAnC;AACA,SAAOA,UAAP,KAAOA,CAAP;AACD;;AAED,mBAAoB;AAClB,SAAOA,IAAIA,aAAX,CAAOA,CAAP;AACD;;AAED,kBAAmB;AACjB,MAAMA,MAAN;AACA,OAAK,IAAI5b,IAAT,GAAgBA,IAAhB,GAAuBA,KAAvB,GAA+B;AAC7B4b;AACD;AACD;AACD;;AAED,6CAA8C;AAC5C,SAAO,SAAS,sBAAgB;AAC9B,SAAK,IAAI5b,IAAT,GAAgBA,IAAIshC,MAApB,QAAkCthC,KAAlC,GAA0C;AACxC,UAAMuhC,OAAOD,MAAb,CAAaA,CAAb;AACA,UAAMzC,OAAO2C,qBAAqBA,YAAlC;AACA,UAAMC,UAAUF,WAAhB,IAAgBA,CAAhB;AACA,mBAAa;AACX,eAAO1C,OAAO,CAAPA,UAAP;AACD;AACF;AACD;AACA,WAAO2C,UAAUE,iBAAiBC,KAA3BH,QAA2BG,CAA3BH,GAA4CG,iBAAiBD,KAApE,QAAoEA,CAApE;AAVF,GAAO,CAAP;AAYD;;AAED,sBAAuB;AACrB,SAAO,SAAS,gBAAU;AACxB,QAAME,IAAI1oB,EAAV,CAAUA,CAAV;AACA,WAAO;AACLD;AACA;AACD;AACD;AANF,GAAO,CAAP;AAQD;;AAED,kBAAmB;AACjB,MAAI;AACF,WAAO,WACL,kBAAkB,sBAAgB;AAChC,UAAI,iBAAJ,YAAiC;AAC/B,eAAOtK,MAAP,QAAOA,EAAP;AACD;AACD;AALJ,KACE,CADK,CAAP;AADF,IASE,UAAU;AACV;AACD;AACF;;AAED,2BAAmC;AACjC,OAAK,IAAI3O,IAAT,GAAgBA,IAAI,UAApB,QAAiCA,KAAjC,GAAyC;AACvC,QAAI,8DAAJ,aAAoC;AAClC;AACD;AACF;AACF;;AAED,kBAAmB;AACjB,SAAO,WAAW;AAAA,WAAUiZ,IAAV;AAAX,KAAP,CAAO,CAAP;AACD;;AAED,uDAAwD;AACtD,MAAI,CAAJ,aAAkB;AAChB,UAAM,0DAAN,SAAM,CAAN;AACD;AACD,MAAM4oB,MAAM,SAANA,GAAM;AAAA,QAAG3X,QAAH;AAAaoF,aAAb;AAA2B0D,QAA3B;;AAAA,WACV;AAAA;AAAA,eAAK,WAAWC,6DAAhB,SAAgBA,CAAhB;AACG/I,YADH,CADU;;AAAZ;AAKA2X;AACA;AACD;;AAED,0BAA2B;AACzB,SAAO,UAAU,oBAAc;AAC7B,QAAMC,SAAS,4BAA4B/hC,OAA5B,CAA4BA,CAA5B,GAAwCkC,EAAvD,GAAuDA,CAAvD;AACA8/B,iBAAa3lB,QAAQ2lB,GAAR3lB,MAAQ2lB,CAAR3lB,IAAsB2lB,GAAtB3lB,MAAsB2lB,CAAtB3lB,GAAb2lB;AACAA;AACA;AAJK,KAAP,EAAO,CAAP;AAMD;;AAED,qBAAsB;AACpBpzB,UAAQ8wB,OAAR9wB,KAAQ8wB,CAAR9wB;AACA,SAAO8wB,6BAAgC9wB,KAAhC8wB,GAAP;AACD;;AAED,oBAAqB;AACnB,SAAO31B,cAAP,CAAOA,CAAP;AACD;;AAED;AACA;AACA;;AAEA,4BAA6B;AAC3B,SAAOk4B,wEAAP,GAAOA,CAAP;AAKD;;AAED,0BAAwC;AAAA,MAAbC,MAAa,uEAAJ,EAAI;;AACtC,MAAI,CAAC7lB,QAAL,GAAKA,CAAL,EAAmB;AACjB6lB;AADF,SAEO;AACL,SAAK,IAAIjiC,IAAT,GAAgBA,IAAI4b,IAApB,QAAgC5b,KAAhC,GAAwC;AACtCgiC,kBAAYpmB,IAAZomB,CAAYpmB,CAAZomB;AACD;AACF;AACD;AACD;;AAED,2BAAoD;AAAA,MAA7B1S,SAA6B,SAA7BA,SAA6B;AAAlB5gB,OAAkB,SAAlBA,KAAkB;AAARskB,MAAQ;;AAClD,SAAO;AACL1D,eADK;AAEL5gB,WAFK;AAGLskB,UAAMA,QAAQ,EAHT,EAAP;;AAKD;;AAED,4BAA6B;AAC3B,MAAMkP,SAAN;AACA,WAAS;AACP7iC,yBAAqB,eAAO;AAC1B,UACEA,kDACAwmB,aADAxmB,aAEA,OAAOwmB,IAAP,GAAOA,CAAP,KAHF,aAIE;AACAqc,sBAAcrc,IAAdqc,GAAcrc,CAAdqc;AACD;AACD;AARF7iC;AAUD;AACD;AACD;;AAED,0BAA2B;AACzB,SAAO,CAAC,EAAE+0B,qBAAqBA,WAArBA,QAAwCA,UAAlD,KAAQ,CAAR;AACD;;AAED,yCAA0D;AAAA,MAAjB+N,QAAiB,uEAANC,IAAM;;AACxD,SAAOC,yBAAyB,iEAAzBA,KAAyB,CAAzBA,GAA+C,6BAA6BD,KAA7B,KAA6BA,CAA7B,GAAtD;AACD;;AAED,qCAAqC;AACnC,SACE,mCACA,CAAC,CAAC/iC,iCAFJ;AAID;;AAED,wCAAwC;AACtC,SACE,mCACA8c,2BAFF,gBAEEA,CAFF;AAID;;AAED,qCAAqC;AACnC,SAAOmmB,+BAA+BC,oBAAtC,SAAsCA,CAAtC;AACD,C;;;;;;;;;;;;ACjOD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAIC,SAAS,GAAG,WAAhB;AACA,IAAIC,MAAM,GAAG,QAAb;AACA,IAAIC,QAAQ,GAAG,UAAf;AACA,IAAIC,OAAO,GAAG,SAAd;AACA,IAAIC,OAAO,GAAG,SAAd;AACP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA,IAAIC,UAAU;AACd;AACA,UAAUC,gBAAV,EAA4B;AAC1B7jC,0FAAc,CAAC4jC,UAAD,EAAaC,gBAAb,CAAd;;AAEA,WAASD,UAAT,CAAoBngB,KAApB,EAA2BqgB,OAA3B,EAAoC;AAClC,QAAIC,KAAJ;;AAEAA,SAAK,GAAGF,gBAAgB,CAAC/lB,IAAjB,CAAsB,IAAtB,EAA4B2F,KAA5B,EAAmCqgB,OAAnC,KAA+C,IAAvD;AACA,QAAIE,WAAW,GAAGF,OAAlB,CAJkC,CAIP;;AAE3B,QAAIG,MAAM,GAAGD,WAAW,IAAI,CAACA,WAAW,CAACE,UAA5B,GAAyCzgB,KAAK,CAAC0gB,KAA/C,GAAuD1gB,KAAK,CAACwgB,MAA1E;AACA,QAAIG,aAAJ;AACAL,SAAK,CAACM,YAAN,GAAqB,IAArB;;AAEA,QAAI5gB,KAAK,MAAT,EAAc;AACZ,UAAIwgB,MAAJ,EAAY;AACVG,qBAAa,GAAGZ,MAAhB;AACAO,aAAK,CAACM,YAAN,GAAqBZ,QAArB;AACD,OAHD,MAGO;AACLW,qBAAa,GAAGV,OAAhB;AACD;AACF,KAPD,MAOO;AACL,UAAIjgB,KAAK,CAAC6gB,aAAN,IAAuB7gB,KAAK,CAAC8gB,YAAjC,EAA+C;AAC7CH,qBAAa,GAAGb,SAAhB;AACD,OAFD,MAEO;AACLa,qBAAa,GAAGZ,MAAhB;AACD;AACF;;AAEDO,SAAK,CAACt4B,KAAN,GAAc;AACZ+4B,YAAM,EAAEJ,aADI,EAAd;;AAGAL,SAAK,CAACU,YAAN,GAAqB,IAArB;AACA,WAAOV,KAAP;AACD;;AAEDH,YAAU,CAACc,wBAAX,GAAsC,SAASA,wBAAT,CAAkC73B,IAAlC,EAAwC83B,SAAxC,EAAmD;AACvF,QAAIC,MAAM,GAAG/3B,IAAI,MAAjB;;AAEA,QAAI+3B,MAAM,IAAID,SAAS,CAACH,MAAV,KAAqBjB,SAAnC,EAA8C;AAC5C,aAAO;AACLiB,cAAM,EAAEhB,MADH,EAAP;;AAGD;;AAED,WAAO,IAAP;AACD,GAVD,CAnC0B,CA6CvB;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,MAAIqB,MAAM,GAAGjB,UAAU,CAACzjC,SAAxB;;AAEA0kC,QAAM,CAACC,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,SAAKC,YAAL,CAAkB,IAAlB,EAAwB,KAAKV,YAA7B;AACD,GAFD;;AAIAQ,QAAM,CAACG,kBAAP,GAA4B,SAASA,kBAAT,CAA4BC,SAA5B,EAAuC;AACjE,QAAIC,UAAU,GAAG,IAAjB;;AAEA,QAAID,SAAS,KAAK,KAAKxhB,KAAvB,EAA8B;AAC5B,UAAI+gB,MAAM,GAAG,KAAK/4B,KAAL,CAAW+4B,MAAxB;;AAEA,UAAI,KAAK/gB,KAAL,MAAJ,EAAmB;AACjB,YAAI+gB,MAAM,KAAKf,QAAX,IAAuBe,MAAM,KAAKd,OAAtC,EAA+C;AAC7CwB,oBAAU,GAAGzB,QAAb;AACD;AACF,OAJD,MAIO;AACL,YAAIe,MAAM,KAAKf,QAAX,IAAuBe,MAAM,KAAKd,OAAtC,EAA+C;AAC7CwB,oBAAU,GAAGvB,OAAb;AACD;AACF;AACF;;AAED,SAAKoB,YAAL,CAAkB,KAAlB,EAAyBG,UAAzB;AACD,GAlBD;;AAoBAL,QAAM,CAACM,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,SAAKC,kBAAL;AACD,GAFD;;AAIAP,QAAM,CAACQ,WAAP,GAAqB,SAASA,WAAT,GAAuB;AAC1C,QAAIC,OAAO,GAAG,KAAK7hB,KAAL,CAAW6hB,OAAzB;AACA,QAAIC,IAAJ,EAAUpB,KAAV,EAAiBF,MAAjB;AACAsB,QAAI,GAAGpB,KAAK,GAAGF,MAAM,GAAGqB,OAAxB;;AAEA,QAAIA,OAAO,IAAI,IAAX,IAAmB,OAAOA,OAAP,KAAmB,QAA1C,EAAoD;AAClDC,UAAI,GAAGD,OAAO,CAACC,IAAf;AACApB,WAAK,GAAGmB,OAAO,CAACnB,KAAhB,CAFkD,CAE3B;;AAEvBF,YAAM,GAAGqB,OAAO,CAACrB,MAAR,KAAmB1pB,SAAnB,GAA+B+qB,OAAO,CAACrB,MAAvC,GAAgDE,KAAzD;AACD;;AAED,WAAO;AACLoB,UAAI,EAAEA,IADD;AAELpB,WAAK,EAAEA,KAFF;AAGLF,YAAM,EAAEA,MAHH,EAAP;;AAKD,GAjBD;;AAmBAY,QAAM,CAACE,YAAP,GAAsB,SAASA,YAAT,CAAsBS,QAAtB,EAAgCN,UAAhC,EAA4C;AAChE,QAAIM,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AACvBA,cAAQ,GAAG,KAAX;AACD;;AAED,QAAIN,UAAU,KAAK,IAAnB,EAAyB;AACvB;AACA,WAAKE,kBAAL;AACA,UAAI/9B,IAAI,GAAGo+B,gDAAQ,CAACC,WAAT,CAAqB,IAArB,CAAX;;AAEA,UAAIR,UAAU,KAAKzB,QAAnB,EAA6B;AAC3B,aAAKkC,YAAL,CAAkBt+B,IAAlB,EAAwBm+B,QAAxB;AACD,OAFD,MAEO;AACL,aAAKI,WAAL,CAAiBv+B,IAAjB;AACD;AACF,KAVD,MAUO,IAAI,KAAKoc,KAAL,CAAW6gB,aAAX,IAA4B,KAAK74B,KAAL,CAAW+4B,MAAX,KAAsBhB,MAAtD,EAA8D;AACnE,WAAKzW,QAAL,CAAc;AACZyX,cAAM,EAAEjB,SADI,EAAd;;AAGD;AACF,GApBD;;AAsBAsB,QAAM,CAACc,YAAP,GAAsB,SAASA,YAAT,CAAsBt+B,IAAtB,EAA4Bm+B,QAA5B,EAAsC;AAC1D,QAAIK,MAAM,GAAG,IAAb;;AAEA,QAAI1B,KAAK,GAAG,KAAK1gB,KAAL,CAAW0gB,KAAvB;AACA,QAAI2B,SAAS,GAAG,KAAKhC,OAAL,GAAe,KAAKA,OAAL,CAAaI,UAA5B,GAAyCsB,QAAzD;AACA,QAAIO,QAAQ,GAAG,KAAKV,WAAL,EAAf;AACA,QAAIW,YAAY,GAAGF,SAAS,GAAGC,QAAQ,CAAC9B,MAAZ,GAAqB8B,QAAQ,CAAC5B,KAA1D,CAN0D,CAMO;AACjE;;AAEA,QAAI,CAACqB,QAAD,IAAa,CAACrB,KAAd,IAAuB8B,+CAAM,CAACC,QAAlC,EAA4C;AAC1C,WAAKC,YAAL,CAAkB;AAChB3B,cAAM,EAAEd,OADQ,EAAlB;AAEG,kBAAY;AACbmC,cAAM,CAACpiB,KAAP,CAAa2iB,SAAb,CAAuB/+B,IAAvB;AACD,OAJD;AAKA;AACD;;AAED,SAAKoc,KAAL,CAAW4iB,OAAX,CAAmBh/B,IAAnB,EAAyBy+B,SAAzB;AACA,SAAKK,YAAL,CAAkB;AAChB3B,YAAM,EAAEf,QADQ,EAAlB;AAEG,gBAAY;AACboC,YAAM,CAACpiB,KAAP,CAAa6iB,UAAb,CAAwBj/B,IAAxB,EAA8By+B,SAA9B;;AAEAD,YAAM,CAACU,eAAP,CAAuBl/B,IAAvB,EAA6B2+B,YAA7B,EAA2C,YAAY;AACrDH,cAAM,CAACM,YAAP,CAAoB;AAClB3B,gBAAM,EAAEd,OADU,EAApB;AAEG,oBAAY;AACbmC,gBAAM,CAACpiB,KAAP,CAAa2iB,SAAb,CAAuB/+B,IAAvB,EAA6By+B,SAA7B;AACD,SAJD;AAKD,OAND;AAOD,KAZD;AAaD,GAhCD;;AAkCAjB,QAAM,CAACe,WAAP,GAAqB,SAASA,WAAT,CAAqBv+B,IAArB,EAA2B;AAC9C,QAAIm/B,MAAM,GAAG,IAAb;;AAEA,QAAIjB,IAAI,GAAG,KAAK9hB,KAAL,CAAW8hB,IAAtB;AACA,QAAIQ,QAAQ,GAAG,KAAKV,WAAL,EAAf,CAJ8C,CAIX;;AAEnC,QAAI,CAACE,IAAD,IAASU,+CAAM,CAACC,QAApB,EAA8B;AAC5B,WAAKC,YAAL,CAAkB;AAChB3B,cAAM,EAAEhB,MADQ,EAAlB;AAEG,kBAAY;AACbgD,cAAM,CAAC/iB,KAAP,CAAagjB,QAAb,CAAsBp/B,IAAtB;AACD,OAJD;AAKA;AACD;;AAED,SAAKoc,KAAL,CAAWijB,MAAX,CAAkBr/B,IAAlB;AACA,SAAK8+B,YAAL,CAAkB;AAChB3B,YAAM,EAAEb,OADQ,EAAlB;AAEG,gBAAY;AACb6C,YAAM,CAAC/iB,KAAP,CAAakjB,SAAb,CAAuBt/B,IAAvB;;AAEAm/B,YAAM,CAACD,eAAP,CAAuBl/B,IAAvB,EAA6B0+B,QAAQ,CAACR,IAAtC,EAA4C,YAAY;AACtDiB,cAAM,CAACL,YAAP,CAAoB;AAClB3B,gBAAM,EAAEhB,MADU,EAApB;AAEG,oBAAY;AACbgD,gBAAM,CAAC/iB,KAAP,CAAagjB,QAAb,CAAsBp/B,IAAtB;AACD,SAJD;AAKD,OAND;AAOD,KAZD;AAaD,GA7BD;;AA+BAw9B,QAAM,CAACO,kBAAP,GAA4B,SAASA,kBAAT,GAA8B;AACxD,QAAI,KAAKX,YAAL,KAAsB,IAA1B,EAAgC;AAC9B,WAAKA,YAAL,CAAkBmC,MAAlB;AACA,WAAKnC,YAAL,GAAoB,IAApB;AACD;AACF,GALD;;AAOAI,QAAM,CAACsB,YAAP,GAAsB,SAASA,YAAT,CAAsBU,SAAtB,EAAiCC,QAAjC,EAA2C;AAC/D;AACA;AACA;AACAA,YAAQ,GAAG,KAAKC,eAAL,CAAqBD,QAArB,CAAX;AACA,SAAK/Z,QAAL,CAAc8Z,SAAd,EAAyBC,QAAzB;AACD,GAND;;AAQAjC,QAAM,CAACkC,eAAP,GAAyB,SAASA,eAAT,CAAyBD,QAAzB,EAAmC;AAC1D,QAAIE,MAAM,GAAG,IAAb;;AAEA,QAAIC,MAAM,GAAG,IAAb;;AAEA,SAAKxC,YAAL,GAAoB,UAAU7P,KAAV,EAAiB;AACnC,UAAIqS,MAAJ,EAAY;AACVA,cAAM,GAAG,KAAT;AACAD,cAAM,CAACvC,YAAP,GAAsB,IAAtB;AACAqC,gBAAQ,CAAClS,KAAD,CAAR;AACD;AACF,KAND;;AAQA,SAAK6P,YAAL,CAAkBmC,MAAlB,GAA2B,YAAY;AACrCK,YAAM,GAAG,KAAT;AACD,KAFD;;AAIA,WAAO,KAAKxC,YAAZ;AACD,GAlBD;;AAoBAI,QAAM,CAAC0B,eAAP,GAAyB,SAASA,eAAT,CAAyBl/B,IAAzB,EAA+Bi+B,OAA/B,EAAwC4B,OAAxC,EAAiD;AACxE,SAAKH,eAAL,CAAqBG,OAArB;AACA,QAAIC,4BAA4B,GAAG7B,OAAO,IAAI,IAAX,IAAmB,CAAC,KAAK7hB,KAAL,CAAW2jB,cAAlE;;AAEA,QAAI,CAAC//B,IAAD,IAAS8/B,4BAAb,EAA2C;AACzCE,gBAAU,CAAC,KAAK5C,YAAN,EAAoB,CAApB,CAAV;AACA;AACD;;AAED,QAAI,KAAKhhB,KAAL,CAAW2jB,cAAf,EAA+B;AAC7B,WAAK3jB,KAAL,CAAW2jB,cAAX,CAA0B//B,IAA1B,EAAgC,KAAKo9B,YAArC;AACD;;AAED,QAAIa,OAAO,IAAI,IAAf,EAAqB;AACnB+B,gBAAU,CAAC,KAAK5C,YAAN,EAAoBa,OAApB,CAAV;AACD;AACF,GAhBD;;AAkBAT,QAAM,CAACyC,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI9C,MAAM,GAAG,KAAK/4B,KAAL,CAAW+4B,MAAxB;;AAEA,QAAIA,MAAM,KAAKjB,SAAf,EAA0B;AACxB,aAAO,IAAP;AACD;;AAED,QAAIgE,WAAW,GAAG,KAAK9jB,KAAvB;AACIwH,YAAQ,GAAGsc,WAAW,CAACtc,QAD3B;AAEIuc,cAAU,GAAGhnC,uGAA6B,CAAC+mC,WAAD,EAAc,CAAC,UAAD,CAAd,CAF9C,CAPgC,CAS2C;;;AAG3E,WAAOC,UAAU,MAAjB;AACA,WAAOA,UAAU,CAACjD,YAAlB;AACA,WAAOiD,UAAU,CAAClD,aAAlB;AACA,WAAOkD,UAAU,CAACvD,MAAlB;AACA,WAAOuD,UAAU,CAACrD,KAAlB;AACA,WAAOqD,UAAU,CAACjC,IAAlB;AACA,WAAOiC,UAAU,CAAClC,OAAlB;AACA,WAAOkC,UAAU,CAACJ,cAAlB;AACA,WAAOI,UAAU,CAACnB,OAAlB;AACA,WAAOmB,UAAU,CAAClB,UAAlB;AACA,WAAOkB,UAAU,CAACpB,SAAlB;AACA,WAAOoB,UAAU,CAACd,MAAlB;AACA,WAAOc,UAAU,CAACb,SAAlB;AACA,WAAOa,UAAU,CAACf,QAAlB;;AAEA,QAAI,OAAOxb,QAAP,KAAoB,UAAxB,EAAoC;AAClC;AACA,aAAOH,4CAAK,CAAC0C,aAAN,CAAoBia,+DAAsB,CAACpc,QAA3C,EAAqD;AAC1D3b,aAAK,EAAE,IADmD,EAArD;AAEJub,cAAQ,CAACuZ,MAAD,EAASgD,UAAT,CAFJ,CAAP;AAGD;;AAED,QAAIpmC,KAAK,GAAG0pB,4CAAK,CAAC4c,QAAN,CAAeC,IAAf,CAAoB1c,QAApB,CAAZ;AACA,WAAQ;AACNH,kDAAK,CAAC0C,aAAN,CAAoBia,+DAAsB,CAACpc,QAA3C,EAAqD;AACnD3b,aAAK,EAAE,IAD4C,EAArD;AAEGob,kDAAK,CAAC8c,YAAN,CAAmBxmC,KAAnB,EAA0BomC,UAA1B,CAFH,CADF;;AAKD,GAxCD;;AA0CA,SAAO5D,UAAP;AACD,CAvSD,CAuSE9Y,4CAAK,CAACkW,SAvSR,CAFA;;AA2SA4C,UAAU,CAACiE,WAAX,GAAyBJ,+DAAzB;AACA7D,UAAU,CAAC/G,SAAX,GAAuBlwB,KAAA,GAAwC;AAC7D;;;;;;;;;;;;;;AAcAse,UAAQ,EAAEnF,iDAAS,CAACnD,SAAV,CAAoB,CAACmD,iDAAS,CAACtE,IAAV,CAAegC,UAAhB,EAA4BsC,iDAAS,CAAC9jB,OAAV,CAAkBwhB,UAA9C,CAApB,EAA+EA,UAf5B;;AAiB7D;;;AAGA,QAAIsC,iDAAS,CAACvE,IApB+C;;AAsB7D;;;;;;AAMAgjB,cAAY,EAAEze,iDAAS,CAACvE,IA5BqC;;AA8B7D;;;;AAIA+iB,eAAa,EAAExe,iDAAS,CAACvE,IAlCoC;;AAoC7D;;;;;;;;;;;;AAYA0iB,QAAM,EAAEne,iDAAS,CAACvE,IAhD2C;;AAkD7D;;;AAGA4iB,OAAK,EAAEre,iDAAS,CAACvE,IArD4C;;AAuD7D;;;AAGAgkB,MAAI,EAAEzf,iDAAS,CAACvE,IA1D6C;;AA4D7D;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA+jB,SAAO,EAAE,SAASA,OAAT,CAAiB7hB,KAAjB,EAAwB;AAC/B,QAAIqkB,EAAE,GAAGC,8DAAT;AACA,QAAI,CAACtkB,KAAK,CAAC2jB,cAAX,EAA2BU,EAAE,GAAGA,EAAE,CAACtkB,UAAR;;AAE3B,SAAK,IAAI9Y,IAAI,GAAGC,SAAS,CAAC3J,MAArB,EAA6B4J,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAI,GAAG,CAAP,GAAWA,IAAI,GAAG,CAAlB,GAAsB,CAAhC,CAApC,EAAwEI,IAAI,GAAG,CAApF,EAAuFA,IAAI,GAAGJ,IAA9F,EAAoGI,IAAI,EAAxG,EAA4G;AAC1GF,UAAI,CAACE,IAAI,GAAG,CAAR,CAAJ,GAAiBH,SAAS,CAACG,IAAD,CAA1B;AACD;;AAED,WAAOg9B,EAAE,CAACjqB,KAAH,CAAS,KAAK,CAAd,EAAiB,CAAC4F,KAAD,EAAQnf,MAAR,CAAesG,IAAf,CAAjB,CAAP;AACD,GA/F4D;;AAiG7D;;;;;;;;;;;;AAYAw8B,gBAAc,EAAEthB,iDAAS,CAACtE,IA7GmC;;AA+G7D;;;;;;AAMA6kB,SAAO,EAAEvgB,iDAAS,CAACtE,IArH0C;;AAuH7D;;;;;;AAMA8kB,YAAU,EAAExgB,iDAAS,CAACtE,IA7HuC;;AA+H7D;;;;;;AAMA4kB,WAAS,EAAEtgB,iDAAS,CAACtE,IArIwC;;AAuI7D;;;;;AAKAklB,QAAM,EAAE5gB,iDAAS,CAACtE,IA5I2C;;AA8I7D;;;;;AAKAmlB,WAAS,EAAE7gB,iDAAS,CAACtE,IAnJwC;;AAqJ7D;;;;;AAKAilB,UAAQ,EAAE3gB,iDAAS,CAACtE,IA1JyC,CA0JpC;AA1JoC,CAAxC;AA4JnB,SA5JJ;;AA8JA,SAASwmB,IAAT,GAAgB,CAAE;;AAElBpE,UAAU,CAAC/J,YAAX,GAA0B;AACxB,QAAI,KADoB;AAExB0K,cAAY,EAAE,KAFU;AAGxBD,eAAa,EAAE,KAHS;AAIxBL,QAAM,EAAE,KAJgB;AAKxBE,OAAK,EAAE,IALiB;AAMxBoB,MAAI,EAAE,IANkB;AAOxBc,SAAO,EAAE2B,IAPe;AAQxB1B,YAAU,EAAE0B,IARY;AASxB5B,WAAS,EAAE4B,IATa;AAUxBtB,QAAM,EAAEsB,IAVgB;AAWxBrB,WAAS,EAAEqB,IAXa;AAYxBvB,UAAQ,EAAEuB,IAZc,EAA1B;;AAcApE,UAAU,CAACL,SAAX,GAAuB,CAAvB;AACAK,UAAU,CAACJ,MAAX,GAAoB,CAApB;AACAI,UAAU,CAACH,QAAX,GAAsB,CAAtB;AACAG,UAAU,CAACF,OAAX,GAAqB,CAArB;AACAE,UAAU,CAACD,OAAX,GAAqB,CAArB;AACeC,yEAAf,E;;;;;;;;;;;;ACxkBA;AAAA;AAAA;AAAA;AACe9Y,2GAAK,CAACmd,aAAN,CAAoB,IAApB,CAAf,E;;;;;;;;;;;;ACDA;AAAe;AACb/B,UAAQ,EAAE,KADG,EAAf,E;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,IAAI6B,aAAa,GAAGp7B,KAAA,GAAwCmZ,iDAAS,CAACnD,SAAV,CAAoB,CAACmD,iDAAS,CAACrE,MAAX,EAAmBqE,iDAAS,CAACjD,KAAV,CAAgB;AACxHshB,OAAK,EAAEre,iDAAS,CAACrE,MADuG;AAExH8jB,MAAI,EAAEzf,iDAAS,CAACrE,MAFwG;AAGxHwiB,QAAM,EAAEne,iDAAS,CAACrE,MAHsG,EAAhB;AAIvG+B,UAJoF,CAApB,CAAxC,GAIT,SAJX;AAKA,IAAI0kB,eAAe,GAAGv7B,KAAA,GAAwCmZ,iDAAS,CAACnD,SAAV,CAAoB,CAACmD,iDAAS,CAACnE,MAAX,EAAmBmE,iDAAS,CAACjD,KAAV,CAAgB;AAC1HshB,OAAK,EAAEre,iDAAS,CAACnE,MADyG;AAE1H4jB,MAAI,EAAEzf,iDAAS,CAACnE,MAF0G;AAG1HslB,QAAM,EAAEnhB,iDAAS,CAACnE,MAHwG,EAAhB,CAAnB;AAIrFmE,iDAAS,CAACjD,KAAV,CAAgB;AAClBshB,OAAK,EAAEre,iDAAS,CAACnE,MADC;AAElBwmB,WAAS,EAAEriB,iDAAS,CAACnE,MAFH;AAGlBymB,aAAW,EAAEtiB,iDAAS,CAACnE,MAHL;AAIlB4jB,MAAI,EAAEzf,iDAAS,CAACnE,MAJE;AAKlB0mB,UAAQ,EAAEviB,iDAAS,CAACnE,MALF;AAMlB2mB,YAAU,EAAExiB,iDAAS,CAACnE,MANJ,EAAhB,CAJqF,CAApB,CAAxC;AAWtB,SAXA,C;;;;;;;;;;;;ACNM;;AAEb;;;;;;;;;AASA5D,MAAM,CAACC,OAAP,GAAiB,SAASuqB,QAAT,CAAkBC,IAAlB,EAAwBC,QAAxB,EAAkC;AACjDA,UAAQ,GAAGA,QAAQ,CAAC7sB,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAX;AACA4sB,MAAI,GAAG,CAACA,IAAR;;AAEA,MAAI,CAACA,IAAL,EAAW,OAAO,KAAP;;AAEX,UAAQC,QAAR;AACE,SAAK,MAAL;AACA,SAAK,IAAL;AACA,aAAOD,IAAI,KAAK,EAAhB;;AAEA,SAAK,OAAL;AACA,SAAK,KAAL;AACA,aAAOA,IAAI,KAAK,GAAhB;;AAEA,SAAK,KAAL;AACA,aAAOA,IAAI,KAAK,EAAhB;;AAEA,SAAK,QAAL;AACA,aAAOA,IAAI,KAAK,EAAhB;;AAEA,SAAK,MAAL;AACA,aAAO,KAAP,CAhBF;;;AAmBA,SAAOA,IAAI,KAAK,CAAhB;AACD,CA1BD,C;;;;;;;;;;;;;;ACTA,IAAID,QAAQ,GAAGhpB,mBAAO,CAAC,6DAAD,CAAtB;AACImpB,EAAE,GAAGnpB,mBAAO,CAAC,+DAAD,CADhB;AAEIopB,OAAO,GAAG,+BAFd;AAGIC,UAAU,GAAG,kDAHjB;AAIIC,kBAAkB,GAAG,YAJzB;AAKIC,UAAU,GAAG,4KALjB;AAMIpmC,IAAI,GAAG,IAAIkjB,MAAJ,CAAW,MAAKkjB,UAAL,GAAiB,GAA5B,CANX;;AAQA;;;;;;AAMA,SAASC,QAAT,CAAkBvtB,GAAlB,EAAuB;AACrB,SAAO,CAACA,GAAG,GAAGA,GAAH,GAAS,EAAb,EAAiBvT,QAAjB,GAA4B0T,OAA5B,CAAoCjZ,IAApC,EAA0C,EAA1C,CAAP;AACD;;AAED;;;;;;;;;;;;AAYA,IAAIsmC,KAAK,GAAG;AACV,CAAC,GAAD,EAAM,MAAN,CADU,EAC4B;AACtC,CAAC,GAAD,EAAM,OAAN,CAFU,EAE4B;AACtC,SAASC,QAAT,CAAkBC,OAAlB,EAA2BC,GAA3B,EAAgC,CAAM;AACpC,SAAOC,SAAS,CAACD,GAAG,CAACV,QAAL,CAAT,GAA0BS,OAAO,CAACvtB,OAAR,CAAgB,KAAhB,EAAuB,GAAvB,CAA1B,GAAwDutB,OAA/D;AACD,CALS;AAMV,CAAC,GAAD,EAAM,UAAN,CANU,EAM4B;AACtC,CAAC,GAAD,EAAM,MAAN,EAAc,CAAd,CAPU,EAO4B;AACtC,CAACG,GAAD,EAAM,MAAN,EAAc9uB,SAAd,EAAyB,CAAzB,EAA4B,CAA5B,CARU,EAQ4B;AACtC,CAAC,SAAD,EAAY,MAAZ,EAAoBA,SAApB,EAA+B,CAA/B,CATU,EAS4B;AACtC,CAAC8uB,GAAD,EAAM,UAAN,EAAkB9uB,SAAlB,EAA6B,CAA7B,EAAgC,CAAhC,CAVU,CAU4B;AAV5B,CAAZ;;AAaA;;;;;;;;AAQA,IAAI+uB,MAAM,GAAG,EAAEztB,IAAI,EAAE,CAAR,EAAW0K,KAAK,EAAE,CAAlB,EAAb;;AAEA;;;;;;;;;;;;AAYA,SAASgjB,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,MAAIC,SAAJ;;AAEA,MAAI,OAAOliC,MAAP,KAAkB,WAAtB,EAAmCkiC,SAAS,GAAGliC,MAAZ,CAAnC;AACK,MAAI,OAAOmiC,MAAP,KAAkB,WAAtB,EAAmCD,SAAS,GAAGC,MAAZ,CAAnC;AACA,MAAI,OAAOC,IAAP,KAAgB,WAApB,EAAiCF,SAAS,GAAGE,IAAZ,CAAjC;AACAF,WAAS,GAAG,EAAZ;;AAEL,MAAIxpB,QAAQ,GAAGwpB,SAAS,CAACxpB,QAAV,IAAsB,EAArC;AACAupB,KAAG,GAAGA,GAAG,IAAIvpB,QAAb;;AAEA,MAAI2pB,gBAAgB,GAAG,EAAvB;AACI5kB,MAAI,WAAUwkB,GAAV,CADR;AAEI1oC,KAFJ;;AAIA,MAAI,YAAY0oC,GAAG,CAACf,QAApB,EAA8B;AAC5BmB,oBAAgB,GAAG,IAAIC,GAAJ,CAAQC,QAAQ,CAACN,GAAG,CAACO,QAAL,CAAhB,EAAgC,EAAhC,CAAnB;AACD,GAFD,MAEO,IAAI,aAAa/kB,IAAjB,EAAuB;AAC5B4kB,oBAAgB,GAAG,IAAIC,GAAJ,CAAQL,GAAR,EAAa,EAAb,CAAnB;AACA,SAAK1oC,GAAL,IAAYwoC,MAAZ,GAAoB,OAAOM,gBAAgB,CAAC9oC,GAAD,CAAvB,CAApB;AACD,GAHM,MAGA,IAAI,aAAakkB,IAAjB,EAAuB;AAC5B,SAAKlkB,GAAL,IAAY0oC,GAAZ,EAAiB;AACf,UAAI1oC,GAAG,IAAIwoC,MAAX,EAAmB;AACnBM,sBAAgB,CAAC9oC,GAAD,CAAhB,GAAwB0oC,GAAG,CAAC1oC,GAAD,CAA3B;AACD;;AAED,QAAI8oC,gBAAgB,CAACjB,OAAjB,KAA6BpuB,SAAjC,EAA4C;AAC1CqvB,sBAAgB,CAACjB,OAAjB,GAA2BA,OAAO,CAAC7gC,IAAR,CAAa0hC,GAAG,CAACQ,IAAjB,CAA3B;AACD;AACF;;AAED,SAAOJ,gBAAP;AACD;;AAED;;;;;;;AAOA,SAASR,SAAT,CAAmBa,MAAnB,EAA2B;AACzB;AACEA,UAAM,KAAK,OAAX;AACAA,UAAM,KAAK,MADX;AAEAA,UAAM,KAAK,OAFX;AAGAA,UAAM,KAAK,QAHX;AAIAA,UAAM,KAAK,KAJX;AAKAA,UAAM,KAAK,MANb;;AAQD;;AAED;;;;;;;;AAQA;;;;;;;;AAQA,SAASC,eAAT,CAAyBhB,OAAzB,EAAkCjpB,QAAlC,EAA4C;AAC1CipB,SAAO,GAAGH,QAAQ,CAACG,OAAD,CAAlB;AACAjpB,UAAQ,GAAGA,QAAQ,IAAI,EAAvB;;AAEA,MAAI6H,KAAK,GAAG8gB,UAAU,CAACliB,IAAX,CAAgBwiB,OAAhB,CAAZ;AACA,MAAIT,QAAQ,GAAG3gB,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAL,CAAS1gB,WAAT,EAAX,GAAoC,EAAnD;AACA,MAAI+iC,cAAc,GAAG,CAAC,CAACriB,KAAK,CAAC,CAAD,CAA5B;AACA,MAAIsiB,YAAY,GAAG,CAAC,CAACtiB,KAAK,CAAC,CAAD,CAA1B;AACA,MAAIuiB,YAAY,GAAG,CAAnB;AACA,MAAItW,IAAJ;;AAEA,MAAIoW,cAAJ,EAAoB;AAClB,QAAIC,YAAJ,EAAkB;AAChBrW,UAAI,GAAGjM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAhB,GAAsBA,KAAK,CAAC,CAAD,CAAlC;AACAuiB,kBAAY,GAAGviB,KAAK,CAAC,CAAD,CAAL,CAAS9mB,MAAT,GAAkB8mB,KAAK,CAAC,CAAD,CAAL,CAAS9mB,MAA1C;AACD,KAHD,MAGO;AACL+yB,UAAI,GAAGjM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAvB;AACAuiB,kBAAY,GAAGviB,KAAK,CAAC,CAAD,CAAL,CAAS9mB,MAAxB;AACD;AACF,GARD,MAQO;AACL,QAAIopC,YAAJ,EAAkB;AAChBrW,UAAI,GAAGjM,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAvB;AACAuiB,kBAAY,GAAGviB,KAAK,CAAC,CAAD,CAAL,CAAS9mB,MAAxB;AACD,KAHD,MAGO;AACL+yB,UAAI,GAAGjM,KAAK,CAAC,CAAD,CAAZ;AACD;AACF;;AAED,MAAI2gB,QAAQ,KAAK,OAAjB,EAA0B;AACxB,QAAI4B,YAAY,IAAI,CAApB,EAAuB;AACrBtW,UAAI,GAAGA,IAAI,CAACxd,KAAL,CAAW,CAAX,CAAP;AACD;AACF,GAJD,MAIO,IAAI6yB,SAAS,CAACX,QAAD,CAAb,EAAyB;AAC9B1U,QAAI,GAAGjM,KAAK,CAAC,CAAD,CAAZ;AACD,GAFM,MAEA,IAAI2gB,QAAJ,EAAc;AACnB,QAAI0B,cAAJ,EAAoB;AAClBpW,UAAI,GAAGA,IAAI,CAACxd,KAAL,CAAW,CAAX,CAAP;AACD;AACF,GAJM,MAIA,IAAI8zB,YAAY,IAAI,CAAhB,IAAqBjB,SAAS,CAACnpB,QAAQ,CAACwoB,QAAV,CAAlC,EAAuD;AAC5D1U,QAAI,GAAGjM,KAAK,CAAC,CAAD,CAAZ;AACD;;AAED,SAAO;AACL2gB,YAAQ,EAAEA,QADL;AAELE,WAAO,EAAEwB,cAAc,IAAIf,SAAS,CAACX,QAAD,CAF/B;AAGL4B,gBAAY,EAAEA,YAHT;AAILtW,QAAI,EAAEA,IAJD,EAAP;;AAMD;;AAED;;;;;;;;AAQA,SAASjlB,OAAT,CAAiBw7B,QAAjB,EAA2BC,IAA3B,EAAiC;AAC/B,MAAID,QAAQ,KAAK,EAAjB,EAAqB,OAAOC,IAAP;;AAErB,MAAIhT,IAAI,GAAG,CAACgT,IAAI,IAAI,GAAT,EAAc3uB,KAAd,CAAoB,GAApB,EAAyBrF,KAAzB,CAA+B,CAA/B,EAAkC,CAAC,CAAnC,EAAsCjS,MAAtC,CAA6CgmC,QAAQ,CAAC1uB,KAAT,CAAe,GAAf,CAA7C,CAAX;AACI7a,GAAC,GAAGw2B,IAAI,CAACv2B,MADb;AAEImgC,MAAI,GAAG5J,IAAI,CAACx2B,CAAC,GAAG,CAAL,CAFf;AAGIypC,SAAO,GAAG,KAHd;AAIIC,IAAE,GAAG,CAJT;;AAMA,SAAO1pC,CAAC,EAAR,EAAY;AACV,QAAIw2B,IAAI,CAACx2B,CAAD,CAAJ,KAAY,GAAhB,EAAqB;AACnBw2B,UAAI,CAACmT,MAAL,CAAY3pC,CAAZ,EAAe,CAAf;AACD,KAFD,MAEO,IAAIw2B,IAAI,CAACx2B,CAAD,CAAJ,KAAY,IAAhB,EAAsB;AAC3Bw2B,UAAI,CAACmT,MAAL,CAAY3pC,CAAZ,EAAe,CAAf;AACA0pC,QAAE;AACH,KAHM,MAGA,IAAIA,EAAJ,EAAQ;AACb,UAAI1pC,CAAC,KAAK,CAAV,EAAaypC,OAAO,GAAG,IAAV;AACbjT,UAAI,CAACmT,MAAL,CAAY3pC,CAAZ,EAAe,CAAf;AACA0pC,QAAE;AACH;AACF;;AAED,MAAID,OAAJ,EAAajT,IAAI,CAACiT,OAAL,CAAa,EAAb;AACb,MAAIrJ,IAAI,KAAK,GAAT,IAAgBA,IAAI,KAAK,IAA7B,EAAmC5J,IAAI,CAAChoB,IAAL,CAAU,EAAV;;AAEnC,SAAOgoB,IAAI,CAACjqB,IAAL,CAAU,GAAV,CAAP;AACD;;AAED;;;;;;;;;;;;;;AAcA,SAASu8B,GAAT,CAAaX,OAAb,EAAsBjpB,QAAtB,EAAgCuG,MAAhC,EAAwC;AACtC0iB,SAAO,GAAGH,QAAQ,CAACG,OAAD,CAAlB;;AAEA,MAAI,EAAE,gBAAgBW,GAAlB,CAAJ,EAA4B;AAC1B,WAAO,IAAIA,GAAJ,CAAQX,OAAR,EAAiBjpB,QAAjB,EAA2BuG,MAA3B,CAAP;AACD;;AAED,MAAI8jB,QAAJ,CAAcK,SAAd,CAAyB3jB,KAAzB,CAAgC4jB,WAAhC,CAA6Cr8B,KAA7C,CAAoDzN,GAApD;AACI+pC,cAAY,GAAG7B,KAAK,CAACzyB,KAAN,EADnB;AAEIyO,MAAI,WAAU/E,QAAV,CAFR;AAGIkpB,KAAG,GAAG,IAHV;AAIIpoC,GAAC,GAAG,CAJR;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAI,aAAaikB,IAAb,IAAqB,aAAaA,IAAtC,EAA4C;AAC1CwB,UAAM,GAAGvG,QAAT;AACAA,YAAQ,GAAG,IAAX;AACD;;AAED,MAAIuG,MAAM,IAAI,eAAe,OAAOA,MAApC,EAA4CA,MAAM,GAAGkiB,EAAE,CAAC1hB,KAAZ;;AAE5C/G,UAAQ,GAAGspB,SAAS,CAACtpB,QAAD,CAApB;;AAEA;AACA;AACA;AACA0qB,WAAS,GAAGT,eAAe,CAAChB,OAAO,IAAI,EAAZ,EAAgBjpB,QAAhB,CAA3B;AACAqqB,UAAQ,GAAG,CAACK,SAAS,CAAClC,QAAX,IAAuB,CAACkC,SAAS,CAAChC,OAA7C;AACAQ,KAAG,CAACR,OAAJ,GAAcgC,SAAS,CAAChC,OAAV,IAAqB2B,QAAQ,IAAIrqB,QAAQ,CAAC0oB,OAAxD;AACAQ,KAAG,CAACV,QAAJ,GAAekC,SAAS,CAAClC,QAAV,IAAsBxoB,QAAQ,CAACwoB,QAA/B,IAA2C,EAA1D;AACAS,SAAO,GAAGyB,SAAS,CAAC5W,IAApB;;AAEA;AACA;AACA;AACA;AACA;AACE4W,WAAS,CAAClC,QAAV,KAAuB,OAAvB;AACEkC,WAAS,CAACN,YAAV,KAA2B,CAA3B,IAAgCxB,kBAAkB,CAAC/gC,IAAnB,CAAwBohC,OAAxB,CADlC;AAEC,GAACyB,SAAS,CAAChC,OAAX;AACEgC,WAAS,CAAClC,QAAV;AACCkC,WAAS,CAACN,YAAV,GAAyB,CAD1B;AAEC,GAACjB,SAAS,CAACD,GAAG,CAACV,QAAL,CAHb,CAHH;AAOE;AACAoC,gBAAY,CAAC,CAAD,CAAZ,GAAkB,CAAC,MAAD,EAAS,UAAT,CAAlB;AACD;;AAED,SAAO9pC,CAAC,GAAG8pC,YAAY,CAAC7pC,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACnC6pC,eAAW,GAAGC,YAAY,CAAC9pC,CAAD,CAA1B;;AAEA,QAAI,OAAO6pC,WAAP,KAAuB,UAA3B,EAAuC;AACrC1B,aAAO,GAAG0B,WAAW,CAAC1B,OAAD,EAAUC,GAAV,CAArB;AACA;AACD;;AAEDniB,SAAK,GAAG4jB,WAAW,CAAC,CAAD,CAAnB;AACA9pC,OAAG,GAAG8pC,WAAW,CAAC,CAAD,CAAjB;;AAEA,QAAI5jB,KAAK,KAAKA,KAAd,EAAqB;AACnBmiB,SAAG,CAACroC,GAAD,CAAH,GAAWooC,OAAX;AACD,KAFD,MAEO,IAAI,aAAa,OAAOliB,KAAxB,EAA+B;AACpC,UAAI,EAAEzY,KAAK,GAAG26B,OAAO,CAACjoC,OAAR,CAAgB+lB,KAAhB,CAAV,CAAJ,EAAuC;AACrC,YAAI,aAAa,OAAO4jB,WAAW,CAAC,CAAD,CAAnC,EAAwC;AACtCzB,aAAG,CAACroC,GAAD,CAAH,GAAWooC,OAAO,CAAC3yB,KAAR,CAAc,CAAd,EAAiBhI,KAAjB,CAAX;AACA26B,iBAAO,GAAGA,OAAO,CAAC3yB,KAAR,CAAchI,KAAK,GAAGq8B,WAAW,CAAC,CAAD,CAAjC,CAAV;AACD,SAHD,MAGO;AACLzB,aAAG,CAACroC,GAAD,CAAH,GAAWooC,OAAO,CAAC3yB,KAAR,CAAchI,KAAd,CAAX;AACA26B,iBAAO,GAAGA,OAAO,CAAC3yB,KAAR,CAAc,CAAd,EAAiBhI,KAAjB,CAAV;AACD;AACF;AACF,KAVM,MAUA,IAAKA,KAAK,GAAGyY,KAAK,CAACN,IAAN,CAAWwiB,OAAX,CAAb,EAAmC;AACxCC,SAAG,CAACroC,GAAD,CAAH,GAAWyN,KAAK,CAAC,CAAD,CAAhB;AACA26B,aAAO,GAAGA,OAAO,CAAC3yB,KAAR,CAAc,CAAd,EAAiBhI,KAAK,CAACA,KAAvB,CAAV;AACD;;AAED46B,OAAG,CAACroC,GAAD,CAAH,GAAWqoC,GAAG,CAACroC,GAAD,CAAH;AACTwpC,YAAQ,IAAIM,WAAW,CAAC,CAAD,CAAvB,GAA6B3qB,QAAQ,CAACnf,GAAD,CAAR,IAAiB,EAA9C,GAAmD,EAD1C,CAAX;;;AAIA;AACA;AACA;AACA;AACA,QAAI8pC,WAAW,CAAC,CAAD,CAAf,EAAoBzB,GAAG,CAACroC,GAAD,CAAH,GAAWqoC,GAAG,CAACroC,GAAD,CAAH,CAASsG,WAAT,EAAX;AACrB;;AAED;AACA;AACA;AACA;AACA;AACA,MAAIof,MAAJ,EAAY2iB,GAAG,CAAC5iB,KAAJ,GAAYC,MAAM,CAAC2iB,GAAG,CAAC5iB,KAAL,CAAlB;;AAEZ;AACA;AACA;AACA;AACI+jB,UAAQ;AACPrqB,UAAQ,CAAC0oB,OADV;AAECQ,KAAG,CAACY,QAAJ,CAAae,MAAb,CAAoB,CAApB,MAA2B,GAF5B;AAGE3B,KAAG,CAACY,QAAJ,KAAiB,EAAjB,IAAuB9pB,QAAQ,CAAC8pB,QAAT,KAAsB,EAH/C,CADJ;AAKE;AACAZ,OAAG,CAACY,QAAJ,GAAej7B,OAAO,CAACq6B,GAAG,CAACY,QAAL,EAAe9pB,QAAQ,CAAC8pB,QAAxB,CAAtB;AACD;;AAED;AACA;AACA;AACA;AACA,MAAIZ,GAAG,CAACY,QAAJ,CAAae,MAAb,CAAoB,CAApB,MAA2B,GAA3B,IAAkC1B,SAAS,CAACD,GAAG,CAACV,QAAL,CAA/C,EAA+D;AAC7DU,OAAG,CAACY,QAAJ,GAAe,MAAMZ,GAAG,CAACY,QAAzB;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,MAAI,CAACxB,QAAQ,CAACY,GAAG,CAACX,IAAL,EAAWW,GAAG,CAACV,QAAf,CAAb,EAAuC;AACrCU,OAAG,CAAC3nC,IAAJ,GAAW2nC,GAAG,CAAC4B,QAAf;AACA5B,OAAG,CAACX,IAAJ,GAAW,EAAX;AACD;;AAED;AACA;AACA;AACAW,KAAG,CAAC6B,QAAJ,GAAe7B,GAAG,CAAC8B,QAAJ,GAAe,EAA9B;AACA,MAAI9B,GAAG,CAAC+B,IAAR,EAAc;AACZN,eAAW,GAAGzB,GAAG,CAAC+B,IAAJ,CAAStvB,KAAT,CAAe,GAAf,CAAd;AACAutB,OAAG,CAAC6B,QAAJ,GAAeJ,WAAW,CAAC,CAAD,CAA1B;AACAzB,OAAG,CAAC8B,QAAJ,GAAeL,WAAW,CAAC,CAAD,CAAX,IAAkB,EAAjC;AACD;;AAEDzB,KAAG,CAACgC,MAAJ,GAAahC,GAAG,CAACV,QAAJ,KAAiB,OAAjB,IAA4BW,SAAS,CAACD,GAAG,CAACV,QAAL,CAArC,IAAuDU,GAAG,CAAC3nC,IAA3D;AACT2nC,KAAG,CAACV,QAAJ,GAAc,IAAd,GAAoBU,GAAG,CAAC3nC,IADf;AAET,QAFJ;;AAIA;AACA;AACA;AACA2nC,KAAG,CAACa,IAAJ,GAAWb,GAAG,CAAClhC,QAAJ,EAAX;AACD;;AAED;;;;;;;;;;;;;AAaA,SAASgO,GAAT,CAAawQ,IAAb,EAAmB/W,KAAnB,EAA0BjB,EAA1B,EAA8B;AAC5B,MAAI06B,GAAG,GAAG,IAAV;;AAEA,UAAQ1iB,IAAR;AACE,SAAK,OAAL;AACE,UAAI,aAAa,OAAO/W,KAApB,IAA6BA,KAAK,CAAC1O,MAAvC,EAA+C;AAC7C0O,aAAK,GAAG,CAACjB,EAAE,IAAIi6B,EAAE,CAAC1hB,KAAV,EAAiBtX,KAAjB,CAAR;AACD;;AAEDy5B,SAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAZ;AACA;;AAEF,SAAK,MAAL;AACEy5B,SAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAZ;;AAEA,UAAI,CAAC64B,QAAQ,CAAC74B,KAAD,EAAQy5B,GAAG,CAACV,QAAZ,CAAb,EAAoC;AAClCU,WAAG,CAAC3nC,IAAJ,GAAW2nC,GAAG,CAAC4B,QAAf;AACA5B,WAAG,CAAC1iB,IAAD,CAAH,GAAY,EAAZ;AACD,OAHD,MAGO,IAAI/W,KAAJ,EAAW;AAChBy5B,WAAG,CAAC3nC,IAAJ,GAAW2nC,GAAG,CAAC4B,QAAJ,GAAc,GAAd,GAAmBr7B,KAA9B;AACD;;AAED;;AAEF,SAAK,UAAL;AACEy5B,SAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAZ;;AAEA,UAAIy5B,GAAG,CAACX,IAAR,EAAc94B,KAAK,IAAI,MAAKy5B,GAAG,CAACX,IAAlB;AACdW,SAAG,CAAC3nC,IAAJ,GAAWkO,KAAX;AACA;;AAEF,SAAK,MAAL;AACEy5B,SAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAZ;;AAEA,UAAI,QAAQ5H,IAAR,CAAa4H,KAAb,CAAJ,EAAyB;AACvBA,aAAK,GAAGA,KAAK,CAACkM,KAAN,CAAY,GAAZ,CAAR;AACAutB,WAAG,CAACX,IAAJ,GAAW94B,KAAK,CAAC07B,GAAN,EAAX;AACAjC,WAAG,CAAC4B,QAAJ,GAAer7B,KAAK,CAACpC,IAAN,CAAW,GAAX,CAAf;AACD,OAJD,MAIO;AACL67B,WAAG,CAAC4B,QAAJ,GAAer7B,KAAf;AACAy5B,WAAG,CAACX,IAAJ,GAAW,EAAX;AACD;;AAED;;AAEF,SAAK,UAAL;AACEW,SAAG,CAACV,QAAJ,GAAe/4B,KAAK,CAACtI,WAAN,EAAf;AACA+hC,SAAG,CAACR,OAAJ,GAAc,CAACl6B,EAAf;AACA;;AAEF,SAAK,UAAL;AACA,SAAK,MAAL;AACE,UAAIiB,KAAJ,EAAW;AACT,YAAI27B,KAAI,GAAG5kB,IAAI,KAAK,UAAT,GAAsB,GAAtB,GAA4B,GAAvC;AACA0iB,WAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAK,CAACo7B,MAAN,CAAa,CAAb,MAAoBO,KAApB,GAA2BA,KAAI,GAAG37B,KAAlC,GAA0CA,KAAtD;AACD,OAHD,MAGO;AACLy5B,WAAG,CAAC1iB,IAAD,CAAH,GAAY/W,KAAZ;AACD;AACD;;AAEF,SAAK,UAAL;AACA,SAAK,UAAL;AACEy5B,SAAG,CAAC1iB,IAAD,CAAH,GAAYJ,kBAAkB,CAAC3W,KAAD,CAA9B;AACA;;AAEF,SAAK,MAAL;AACE,UAAI47B,MAAM,GAAG57B,KAAK,CAACkM,KAAN,CAAY,GAAZ,CAAb;AACAutB,SAAG,CAAC6B,QAAJ,GAAeM,MAAM,CAAC,CAAD,CAArB;AACAnC,SAAG,CAAC8B,QAAJ,GAAeK,MAAM,CAACtqC,MAAP,KAAkB,CAAlB,GAAsBsqC,MAAM,CAAC,CAAD,CAA5B,GAAkC,EAAjD,CAjEJ;;;AAoEA,OAAK,IAAIvqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGioC,KAAK,CAAChoC,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAIwqC,GAAG,GAAGvC,KAAK,CAACjoC,CAAD,CAAf;;AAEA,QAAIwqC,GAAG,CAAC,CAAD,CAAP,EAAYpC,GAAG,CAACoC,GAAG,CAAC,CAAD,CAAJ,CAAH,GAAcpC,GAAG,CAACoC,GAAG,CAAC,CAAD,CAAJ,CAAH,CAAYnkC,WAAZ,EAAd;AACb;;AAED+hC,KAAG,CAAC+B,IAAJ,GAAW/B,GAAG,CAAC8B,QAAJ,GAAe9B,GAAG,CAAC6B,QAAJ,GAAc,GAAd,GAAmB7B,GAAG,CAAC8B,QAAtC,GAAiD9B,GAAG,CAAC6B,QAAhE;;AAEA7B,KAAG,CAACgC,MAAJ,GAAahC,GAAG,CAACV,QAAJ,KAAiB,OAAjB,IAA4BW,SAAS,CAACD,GAAG,CAACV,QAAL,CAArC,IAAuDU,GAAG,CAAC3nC,IAA3D;AACT2nC,KAAG,CAACV,QAAJ,GAAc,IAAd,GAAoBU,GAAG,CAAC3nC,IADf;AAET,QAFJ;;AAIA2nC,KAAG,CAACa,IAAJ,GAAWb,GAAG,CAAClhC,QAAJ,EAAX;;AAEA,SAAOkhC,GAAP;AACD;;AAED;;;;;;;AAOA,SAASlhC,QAAT,CAAkB6c,SAAlB,EAA6B;AAC3B,MAAI,CAACA,SAAD,IAAc,eAAe,OAAOA,SAAxC,EAAmDA,SAAS,GAAG4jB,EAAE,CAAC5jB,SAAf;;AAEnD,MAAIyB,KAAJ;AACI4iB,KAAG,GAAG,IADV;AAEIV,UAAQ,GAAGU,GAAG,CAACV,QAFnB;;AAIA,MAAIA,QAAQ,IAAIA,QAAQ,CAACqC,MAAT,CAAgBrC,QAAQ,CAACznC,MAAT,GAAkB,CAAlC,MAAyC,GAAzD,EAA8DynC,QAAQ,IAAI,GAAZ;;AAE9D,MAAInsB,MAAM;AACRmsB,UAAQ;AACNU,KAAG,CAACV,QAAJ,IAAgBU,GAAG,CAACR,OAArB,IAAiCS,SAAS,CAACD,GAAG,CAACV,QAAL,CAA1C,GAA2D,IAA3D,GAAkE,EAD3D,CADV;;AAIA,MAAIU,GAAG,CAAC6B,QAAR,EAAkB;AAChB1uB,UAAM,IAAI6sB,GAAG,CAAC6B,QAAd;AACA,QAAI7B,GAAG,CAAC8B,QAAR,EAAkB3uB,MAAM,IAAI,MAAK6sB,GAAG,CAAC8B,QAAnB;AAClB3uB,UAAM,IAAI,GAAV;AACD,GAJD,MAIO,IAAI6sB,GAAG,CAAC8B,QAAR,EAAkB;AACvB3uB,UAAM,IAAI,MAAK6sB,GAAG,CAAC8B,QAAnB;AACA3uB,UAAM,IAAI,GAAV;AACD;;AAEDA,QAAM,IAAI6sB,GAAG,CAAC3nC,IAAJ,GAAW2nC,GAAG,CAACY,QAAzB;;AAEAxjB,OAAK,GAAG,qBAAoB4iB,GAAG,CAAC5iB,KAAxB,IAAgCzB,SAAS,CAACqkB,GAAG,CAAC5iB,KAAL,CAAzC,GAAuD4iB,GAAG,CAAC5iB,KAAnE;AACA,MAAIA,KAAJ,EAAWjK,MAAM,IAAI,QAAQiK,KAAK,CAACukB,MAAN,CAAa,CAAb,CAAR,GAA0B,MAAKvkB,KAA/B,GAAuCA,KAAjD;;AAEX,MAAI4iB,GAAG,CAACttB,IAAR,EAAcS,MAAM,IAAI6sB,GAAG,CAACttB,IAAd;;AAEd,SAAOS,MAAP;AACD;;AAEDutB,GAAG,CAAC1pC,SAAJ,GAAgB,EAAE8V,GAAG,EAAEA,GAAP,EAAYhO,QAAQ,EAAEA,QAAtB,EAAhB;;AAEA;AACA;AACA;AACA;AACA4hC,GAAG,CAACK,eAAJ,GAAsBA,eAAtB;AACAL,GAAG,CAAC5pB,QAAJ,GAAespB,SAAf;AACAM,GAAG,CAACd,QAAJ,GAAeA,QAAf;AACAc,GAAG,CAACnB,EAAJ,GAASA,EAAT;;AAEA3qB,MAAM,CAACC,OAAP,GAAiB6rB,GAAjB,C;;;;;;;;;;;;AC3hBA;;;;;;;AAOa;;AAEb;;;;;;;AAOA,IAAI2B,OAAO,GAAG7+B,aAAA,KAAyB,YAAvC;;AAEA,IAAIigB,OAAO,GAAG,mBAAW,CAAE,CAA3B;;AAEA,IAAI4e,OAAJ,EAAa;AACX,MAAInsB,YAAY,GAAG,SAASA,YAAT,CAAsB9D,MAAtB,EAA8B3Q,IAA9B,EAAoC;AACrD,QAAIgG,GAAG,GAAGjG,SAAS,CAAC3J,MAApB;AACA4J,QAAI,GAAG,IAAIC,KAAJ,CAAU+F,GAAG,GAAG,CAAN,GAAUA,GAAG,GAAG,CAAhB,GAAoB,CAA9B,CAAP;AACA,SAAK,IAAI9P,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG8P,GAAxB,EAA6B9P,GAAG,EAAhC,EAAoC;AAClC8J,UAAI,CAAC9J,GAAG,GAAG,CAAP,CAAJ,GAAgB6J,SAAS,CAAC7J,GAAD,CAAzB;AACD;AACD,QAAI2qC,QAAQ,GAAG,CAAf;AACA,QAAI7rB,OAAO,GAAG;AACZrE,UAAM,CAACI,OAAP,CAAe,KAAf,EAAsB,YAAW;AAC/B,aAAO/Q,IAAI,CAAC6gC,QAAQ,EAAT,CAAX;AACD,KAFD,CADF;AAIA,QAAI,OAAOr+B,OAAP,KAAmB,WAAvB,EAAoC;AAClCA,aAAO,CAACC,KAAR,CAAcuS,OAAd;AACD;AACD,QAAI;AACF;AACA;AACA;AACA,YAAM,IAAIC,KAAJ,CAAUD,OAAV,CAAN;AACD,KALD,CAKE,OAAO5c,CAAP,EAAU,CAAE;AACf,GApBD;;AAsBA4pB,SAAO,GAAG,iBAAS8e,SAAT,EAAoBnwB,MAApB,EAA4B3Q,IAA5B,EAAkC;AAC1C,QAAIgG,GAAG,GAAGjG,SAAS,CAAC3J,MAApB;AACA4J,QAAI,GAAG,IAAIC,KAAJ,CAAU+F,GAAG,GAAG,CAAN,GAAUA,GAAG,GAAG,CAAhB,GAAoB,CAA9B,CAAP;AACA,SAAK,IAAI9P,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG8P,GAAxB,EAA6B9P,GAAG,EAAhC,EAAoC;AAClC8J,UAAI,CAAC9J,GAAG,GAAG,CAAP,CAAJ,GAAgB6J,SAAS,CAAC7J,GAAD,CAAzB;AACD;AACD,QAAIya,MAAM,KAAKhB,SAAf,EAA0B;AACxB,YAAM,IAAIsF,KAAJ;AACF;AACA,wBAFE,CAAN;;AAID;AACD,QAAI,CAAC6rB,SAAL,EAAgB;AACdrsB,kBAAY,CAACxB,KAAb,CAAmB,IAAnB,EAAyB,CAACtC,MAAD,EAASjX,MAAT,CAAgBsG,IAAhB,CAAzB;AACD;AACF,GAfD;AAgBD;;AAEDmT,MAAM,CAACC,OAAP,GAAiB4O,OAAjB,C;;;;;;;;;;;AC7DA;AACA;;;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAkC;AAC0B;AAOrD,IAAM,SAAS,GAAc,UAAC,EAAsB;QAApB,SAAS,iBAAE,OAAO;IACvD,OAAO,CACL,2DAAC,uEAAY,IAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAC,WAAW,EAAC,OAAO,EAAC,qBAAqB,EAAC,OAAO,EAAE,OAAO,GAAI,CACxG,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZgC;AACA;AACoB;AACS;AACrB;AACG;AAUtC,IAAM,YAAY,GAAc,UAAC,EAAsD;QAApD,IAAI,YAAE,KAAK,aAAE,OAAO,eAAE,SAAS,iBAAE,QAAQ,gBAAE,OAAO;IAC1F,IAAM,KAAK,GAAG,4DAAQ,EAAE,CAAC;IACzB,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;IAChC,IAAM,WAAW,GAAG,kDAAE,CACpB,KAAK,EACL,MAAM,CAAC,MAAM,EACb,mDAAG,4FAAU,EAAU,KAAK,KAAf,KAAK,IAAI,CAAC,GACvB,SAAS,CACV,CAAC;IAEF,IAAI,MAAM,GAAG,CACX,uEAAQ,SAAS,EAAE,WAAW,EAAE,OAAO,EAAE,OAAO;QAC7C,IAAI,IAAI,2DAAC,qDAAM,IAAC,IAAI,EAAE,IAAI,EAAE,WAAW,EAAE,MAAM,CAAC,IAAI,GAAI;QACxD,QAAQ,CACF,CACV,CAAC;IAEF,IAAI,OAAO,EAAE;QACX,MAAM,GAAG,CACP,2DAAC,wDAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,OAAO,IACzC,MAAM,CACC,CACX,CAAC;KACH;IAED,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAEF,IAAM,SAAS,GAAG,iEAAa,CAAC,UAAC,KAAmB;IAClD,IAAM,UAAU,GAAG,KAAK,CAAC,IAAI,KAAK,8DAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;IACjF,IAAM,SAAS,GAAG,KAAK,CAAC,IAAI,KAAK,8DAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;IAEhF,OAAO;QACL,MAAM,EAAE,mDAAG,gbAGW,EAAU,6BACV,EAAmB,6CAE9B,EAAiB,yGAOJ,EAAS,kBAEhC,KAZqB,UAAU,EACV,KAAK,CAAC,OAAO,CAAC,KAAK,EAE9B,KAAK,CAAC,MAAM,CAAC,IAAI,EAOJ,SAAS,CAEhC;QACD,IAAI,EAAE,mDAAG,mJAEI,EAAiB,kBAE7B,KAFY,KAAK,CAAC,MAAM,CAAC,IAAI,CAE7B;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEuB;AACmC;AACR;AACJ;AAE1C,IAAM,aAAa,GAAG,4CAAK,CAAC,aAAa,CAAoB,uDAAM,CAAC,CAAC;AACrE,IAAM,cAAc,GAAG,aAAa,CAAC,QAAQ,CAAC;AAE9C,IAAM,aAAa,GAAG,UAAC,SAAmC;IAC/D,IAAM,cAAc,GAAG,UAAC,KAAU,IAAK,QACrC,2DAAC,aAAa,CAAC,QAAQ,IAAC,KAAK,EAAE,uDAAM,IAAG,4CAAK,CAAC,aAAa,CAAC,SAAS,eAAO,KAAK,EAAG,CAA0B,CAC/G,EAFsC,CAEtC,CAAC;IAEF,OAAO,cAAc,CAAC;AACxB,CAAC,CAAC;AAEK,IAAM,mBAAmB,GAAG;IACjC,8DAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,8DAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,8DAAgB,CAAC,IAAI;AAAhF,CAAgF,CAAC;AAE5E,IAAM,eAAe,GAAG,cAAM,mEAAQ,CAAC,mBAAmB,EAAE,CAAC,EAA/B,CAA+B,CAAC;AAE9D,IAAM,aAAa,GAAG,UAAC,EAA2C;QAAzC,QAAQ;IACtC,OAAO,CACL,2DAAC,cAAc,QACZ,gBAAM;QACL,OAAO,2DAAC,wDAAY,CAAC,QAAQ,IAAC,KAAK,EAAE,eAAe,EAAE,IAAG,QAAQ,CAAyB,CAAC;IAC7F,CAAC,CACc,CAClB,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,SAAmC;IAC9D,OAAO,aAAa,CAAC,UAAC,KAAU,IAAK,kEAAC,aAAa,QAAE,4CAAK,CAAC,aAAa,CAAC,SAAS,eAAO,KAAK,EAAG,CAAiB,EAA7E,CAA6E,CAAC,CAAC;AACtH,CAAC,CAAC;;;;;;;;;;;;;ACjCF;AAAA;AAAA;AAAA;AAAA;AAAkC;AAC0B;AAOrD,IAAM,gBAAgB,GAAc,UAAC,EAAsB;QAApB,SAAS,iBAAE,OAAO;IAC9D,OAAO,CACL,2DAAC,uEAAY,IAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAC,UAAU,EAAC,OAAO,EAAC,gBAAgB,EAAC,OAAO,EAAE,OAAO,GAAI,CAClG,CAAC;AACJ,CAAC,CAAC;;;;;;;;;;;;;ACZF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACgB;AAC4B;AACvB;AACQ;AAEH;AAOrD,IAAM,aAAa,GAAc,UAAC,EAAoB;QAAlB,OAAO,eAAE,OAAO;IACzD,OAAO,CACL,2DAAC,uEAAY,IAAC,IAAI,EAAC,SAAS,EAAC,KAAK,EAAE,CAAC,EAAE,OAAO,EAAE,cAAM,oBAAa,CAAC,OAAO,EAAE,OAAO,CAAC,EAA/B,CAA+B,cAEtE,CAChB,CAAC;AACJ,CAAC,CAAC;AAEF,IAAM,aAAa,GAAG,UAAC,OAAmB,EAAE,OAAe;;IACzD,IAAI,KAAK,GAAQ,EAAE,CAAC;IAEpB,IAAI,cAAO,CAAC,KAAK,0CAAE,MAAM,MAAK,CAAC,IAAI,cAAO,CAAC,KAAK,0CAAE,MAAM,MAAK,CAAC,EAAE;QAC9D,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAM,QAAQ,GAAG,+EAAc,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACtD,KAAK,GAAG;YACN,SAAS,EAAE,yEAAY;YACvB,KAAK,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE;YACzB,WAAW,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;YAC3B,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE;YAC3B,IAAI,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;SAC3B,CAAC;KACH;SAAM;QACL,IAAM,OAAO,SAAG,OAAO,CAAC,KAAK,0CAAE,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,MAAM,EAAR,CAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5D,KAAK,GAAG;YACN,SAAS,EAAE,wEAAW;YACtB,OAAO,EAAE,OAAO;SACjB,CAAC;KACH;IAED,IAAM,KAAK,GAAQ;QACjB,UAAU,EAAE,OAAO,CAAC,UAAU;QAC9B,OAAO,EAAE,SAAS;QAClB,aAAa,EAAE,OAAO;QACtB,OAAO,EAAE,CAAC,KAAK,CAAC;KACjB,CAAC;IAEF,IAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC3C,IAAM,GAAG,GAAG,uEAAS,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;IAC1D,uEAAc,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;AACpD,CAAC,CAAC;;;;;;;;;;;;;ACrDF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACL;AAOtB,IAAM,MAAM,GAAc,UAAC,EAAqB;QAAnB,IAAI,YAAE,WAAW;IACnD,IAAM,YAAY,GAAG,kDAAE,CAAC,WAAW,EAAE,mBAAmB,CAAC,CAAC;IAE1D,OAAO,CACL,qEAAM,SAAS,EAAE,YAAY;QAC3B,kEAAG,SAAS,EAAE,WAAS,IAAM,GAAM,CAC9B,CACR,CAAC;AACJ,CAAC,CAAC;AAEa,qEAAM,EAAC;;;;;;;;;;;;;AClBtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkC;AACL;AAOtB,IAAM,WAAW,GAAc,UAAC,EAAqB;QAAnB,MAAM,cAAE,SAAS;IACxD,IAAM,SAAS,GAAG,kDAAE,CAClB,SAAS,EACT,SAAS,EACT,EAAE,kBAAkB,EAAE,MAAM,KAAK,UAAU,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,SAAS,EAAC,EAC5F,EAAE,gBAAgB,EAAE,MAAM,KAAK,QAAQ,IAAI,MAAM,KAAK,IAAI,EAAE,CAC7D,CAAC;IAEF,OAAO,CACL,kEAAG,SAAS,EAAE,SAAS,GAAM,CAC9B,CAAC;AACJ,CAAC,CAAC;AAEa,0EAAW,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBO;AACD;AAC+B;AAkBhE;IAAqC,mCAA6B;IAIhE,yBAAY,KAAY;QAAxB,YACE,kBAAM,KAAK,CAAC,SAKb;QATD,eAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC1B,eAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAU1C,eAAS,GAAG,UAAC,SAAmC,EAAE,KAAU;YAC1D,KAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS;gBACT,KAAK;aACN,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,eAAS,GAAG;YACV,KAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;YAC3C,KAAI,CAAC,QAAQ,CAAC;gBACZ,SAAS,EAAE,IAAI;gBACf,KAAK,EAAE,EAAE;aACV,CAAC,CAAC;QACL,CAAC,CAAC;QAnBA,KAAI,CAAC,KAAK,GAAG;YACX,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,EAAE;SACV,CAAC;;IACJ,CAAC;IAiBD,qCAAW,GAAX;QACQ,SAAuB,IAAI,CAAC,KAAK,EAA/B,SAAS,iBAAE,KAAK,WAAe,CAAC;QACxC,IAAI,CAAC,SAAS,EAAE;YACd,OAAO,IAAI,CAAC;SACb;QAED,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAM,KAAK,GAAG,4CAAK,CAAC,aAAa,CAAC,mFAAY,CAAC,SAAS,CAAC,EAAE,KAAK,CAAC,CAAC;QAClE,OAAO,gDAAQ,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IACtD,CAAC;IAED,gCAAM,GAAN;QACU,YAAQ,GAAK,IAAI,CAAC,KAAK,SAAf,CAAgB;QAChC,IAAM,iBAAiB,GAAG,QAAQ,CAAC;QAEnC,OAAO,CACL;YACE,2DAAC,iBAAiB,IAAC,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,GAAI;YAC1E,IAAI,CAAC,WAAW,EAAE,CAClB,CACJ,CAAC;IACJ,CAAC;IACH,sBAAC;AAAD,CAAC,CAjDoC,4CAAK,CAAC,SAAS,GAiDnD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrEiC;AACA;AACuC;AACd;AACf;AACV;AAElC,IAAM,SAAS,GAAG,iEAAa,CAAC,cAAM,QAAC;IACrC,uBAAuB,EAAE,mDAAG,+LAG3B;IACD,cAAc,EAAE,mDAAG,+IAElB;CACF,CAAC,EARoC,CAQpC,CAAC,CAAC;AAEJ,IAAM,gBAAgB,GAAG;IACvB,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE;IACtB,QAAQ,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE;IACxB,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE;IACvB,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE;CACxB,CAAC;AAWF,IAAM,MAAM,GAAc,UAAC,EAAoF;QAAlF,IAAI,YAAE,SAAS,iBAAE,eAAe,uBAAE,YAAY,oBAAE,OAAO,eAAE,QAAQ,gBAAE,aAAa;IAC3G,IAAM,QAAQ,GAAG,kDAAE,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;IAChD,IAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,IAAM,WAAW,GAAG,kDAAE,CAAC,QAAQ,EAAE,eAAe,EAAE,MAAM,CAAC,uBAAuB,CAAC,CAAC;IAElF,OAAO,CACL,2DAAC,oDAAO;QACN,2DAAC,sDAAS,QACP,UAAC,EAAO;gBAAL,GAAG;YAAO,QACZ,oEAAK,SAAS,EAAE,QAAQ,EAAE,GAAG,EAAE,GAAG,IAC/B,QAAQ,CACL,CACP;QAJa,CAIb,CACS;QACZ,2DAAC,yEAAU,IAAC,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,IACxE,yBAAe,IAAI,QAClB,2DAAC,+CAAU;YACT,2DAAC,mDAAW,IAAC,SAAS,EAAE,SAAS,IAC9B,UAAC,EAAqC;oBAAnC,GAAG,WAAE,KAAK,aAAE,SAAS,iBAAE,UAAU;gBACnC,OAAO,CACL,oEACE,GAAG,EAAE,GAAG,EACR,KAAK,wBACA,KAAK,GACL,gBAAgB,CAAC,eAAe,CAAC,qBAEtB,SAAS,EACzB,SAAS,EAAE,WAAW;oBAEtB,oEAAK,SAAS,EAAC,oBAAoB;wBACjC,oEAAK,SAAS,EAAE,MAAM,CAAC,cAAc,IAClC,aAAa,CAAC,OAAO,CAAC,CACnB;wBACN,oEAAK,GAAG,EAAE,UAAU,CAAC,GAAG,oBAAkB,SAAS,EAAE,SAAS,EAAC,eAAe,GAAG,CAC7E,CACF,CACP,CAAC;YACJ,CAAC,CACW,CACH,CACd,EAzBmB,CAyBnB,CACU,CACL,CACX,CAAC;AACJ,CAAC,CAAC;AAEa,qEAAM,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EgB;AACL;AAOjC;IAAwC,8BAAoB;IAI1D,oBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAab;QAZO,SAGF,KAAI,CAAC,KAAK,EAFZ,SAAS,iBACT,YAAoB,EAApB,IAAI,mBAAG,QAAQ,CAAC,IAAI,KACR,CAAC;QAEf,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,SAAS,EAAE;YACb,KAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACpC;QAED,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC;;IACzC,CAAC;IAED,yCAAoB,GAApB;QACE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,2BAAM,GAAN;QACE,OAAO,gDAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/D,CAAC;IACH,iBAAC;AAAD,CAAC,CA3BuC,mDAAa,GA2BpD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCiC;AACJ;AAC8B;AAE5D,IAAM,cAAc,GAAyB,UAAC,EAA6D;IAA3D,cAAU,kBAAE,UAAU,kBAAE,SAAS,iBAAE,QAAQ,gBAAK,SAAS,cAA3D,qDAA6D,CAAF;IACvG,OAAO,CACL,oEAAK,SAAS,EAAE,qBAAmB,SAAW,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,UAAU;QAChG,2DAAC,+CAAM,eAAK,SAAS,GAAG,QAAQ,CAAU,CACtC,CACP,CAAC;AACJ,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,2DAAU,CAAC,cAAc,CAAC,CAAC;AAEnC,sEAAO,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdG;AA0BnB,IAAM,UAAU,GAAG,UAAC,gBAAgB;;IACzC;YAAqB,2BAA6B;YAKhD,iBAAY,KAAK;gBAAjB,YACE,kBAAM,KAAK,CAAC,SAIb;gBAED,gBAAU,GAAG;oBACX,KAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;gBAChC,CAAC,CAAC;gBAEF,gBAAU,GAAG;oBACX,KAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;gBACjC,CAAC,CAAC;gBAXA,KAAI,CAAC,KAAK,GAAG;oBACX,IAAI,EAAE,KAAK;iBACZ,CAAC;;YACJ,CAAC;YAUD,+BAAa,GAAb,UAAc,OAAO;gBACnB,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;oBACjC,sDAAsD;oBACtD,IAAM,cAAc,GAAG,OAAO,CAAC;oBAC/B,OAAO,2DAAC,cAAc,OAAG,CAAC;iBAC3B;gBACD,OAAO,OAAO,CAAC;YACjB,CAAC;YAED,wBAAM,GAAN;gBACU,QAAI,GAAK,IAAI,CAAC,KAAK,KAAf,CAAgB;gBACtB,SAA2B,IAAI,CAAC,KAAK,EAAnC,SAAS,iBAAE,SAAS,eAAe,CAAC;gBAE5C,OAAO,CACL,2DAAC,gBAAgB,eACX,IAAI,CAAC,KAAK,IACd,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,UAAU,EAAE,IAAI,CAAC,UAAU,EAC3B,aAAa,EAAE,IAAI,CAAC,aAAa,EACjC,SAAS,EAAE,SAAS,EACpB,SAAS,EAAE,SAAS,EACpB,IAAI,EAAE,IAAI,IACV,CACH,CAAC;YACJ,CAAC;YACH,cAAC;QAAD,CAAC,CA7CoB,4CAAK,CAAC,SAAS;QAC3B,eAAY,GAAmB;YACpC,SAAS,EAAE,MAAM;SACjB;WA0CF;AACJ,CAAC,CAAC;AAEa,yEAAU,EAAC;;;;;;;;;;;;;AC3E1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwD;AACf;AACS;AACY;AACS;AAC3B;AACc;;;;;;;;;;;;;ACN1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAa;AACN,IAAM,wBAAwB,GAAG,6BAA6B,CAAC;AAC/D,IAAM,YAAY,GAAG,yBAAyB,CAAC;AAEtD,aAAa;AACN,IAAM,eAAe,GAAG,CAAC,CAAC;AAC1B,IAAM,YAAY,GAAG,CAAC,CAAC;AAE9B,eAAe;AACR,IAAM,YAAY,GAAG,CAAC,CAAC;AACvB,IAAM,cAAc,GAAG,CAAC,CAAC;AACzB,IAAM,SAAS,GAAG,CAAC,CAAC;AACpB,IAAM,WAAW,GAAG,CAAC,CAAC;AACtB,IAAM,aAAa,GAAG,CAAC,CAAC;AACxB,IAAM,aAAa,GAAG,CAAC,CAAC;AAE/B,oBAAoB;AACb,IAAM,kBAAkB,GAAG,CAAC,CAAC;AAC7B,IAAM,eAAe,GAAG,CAAC,CAAC;AAC1B,IAAM,WAAW,GAAG,CAAC,CAAC;AACtB,IAAM,WAAW,GAAG,CAAC,CAAC;AACtB,IAAM,QAAQ,GAAG,CAAC,CAAC;AACnB,IAAM,YAAY,GAAG,CAAC,CAAC;AAEvB,IAAM,iBAAiB,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjC,IAAM,eAAe,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/B,IAAM,cAAc,GAAG,CAAC,CAAC;AAEhC,cAAc;AACP,IAAM,mBAAmB,GAAG,CAAC,CAAC;AAC9B,IAAM,oBAAoB,GAAG,CAAC,CAAC;AAC/B,IAAM,kBAAkB,GAAG,CAAC,CAAC;AAC7B,IAAM,0BAA0B,GAAG,CAAC,CAAC;AACrC,IAAM,8BAA8B,GAAG,CAAC,CAAC;AAEzC,IAAM,gBAAgB,GAAG;IAC9B,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,gBAAgB,EAAC;IAChC,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,aAAa,EAAC;IAC7B,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAC;IACzB,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,SAAS,EAAC;IACzB,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAC;IACtB,EAAC,GAAG,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,EAAC;CAC3B,CAAC;AAEF,kDAAkD;AAC3C,IAAM,gBAAgB,GAAG,IAAI,CAAC;AAE9B,IAAM,oBAAoB,GAAG,cAAc,CAAC;AAE5C,IAAM,6BAA6B,GAAG,IAAI,CAAC;;;;;;;;;;;;;ACyGlD;AAAA;AAAA;AAAA,IAAY,kBAMX;AAND,WAAY,kBAAkB;IAC5B,qCAAe;IACf,mCAAa;IACb,iDAA2B;IAC3B,mCAAa;IACb,+CAAyB;AAC3B,CAAC,EANW,kBAAkB,KAAlB,kBAAkB,QAM7B;AAED,IAAY,gBAIX;AAJD,WAAY,gBAAgB;IAC1B,yCAAqB;IACrB,qCAAiB;IACjB,uCAAmB;AACrB,CAAC,EAJW,gBAAgB,KAAhB,gBAAgB,QAI3B;;;;;;;;;;;;;ACtKD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuB;AACK;AACK;AAC2B;AACgD;AAE5G;;;;;GAKG;AACI,IAAM,aAAa,GAAG,8EAA8E,CAAC;AAE5G;;;;;;GAMG;AACI,SAAS,cAAc,CAAC,IAAY,EAAE,GAAW;IAEtD,2BAA2B;IAC3B,6DAA6D;IAC7D,IAAM,cAAc,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;IACjF,IAAM,UAAU,GAAG,cAAc,CAAC,cAAc,CAAC,CAAC;IAElD,0BAA0B;IAC1B,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC3C,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,EAAE,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACjD;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,SAAS,WAAW,CAAC,KAAK;IAC/B,6CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,cAAI;QACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,OAAO,IAAI,CAAC;IACd,CAAC,CAAC,CAAC;IACH,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,cAAc,CAAC,QAAQ;IAC9B,IAAM,MAAM,GAAG,EAAE,CAAC;IAClB,IAAI,MAAM,GAAG,KAAK,CAAC;IACnB,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAM,YAAY,GAAG,GAAG,CAAC;IACzB,IAAI,KAAK,GAAG,EAAE,CAAC;IAEf,6CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,gBAAM;QACxB,IAAI,MAAM,KAAK,GAAG,IAAI,QAAQ,EAAE;YAC9B,KAAK,IAAI,MAAM,CAAC;SACjB;aAAM,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,EAAE;YACnC,MAAM,GAAG,KAAK,CAAC;SAChB;aAAM,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;YACpC,MAAM,GAAG,IAAI,CAAC;SACf;aAAM,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;YACpC,QAAQ,GAAI,IAAI,CAAC;SAClB;aAAM,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;YACpC,QAAQ,GAAG,KAAK,CAAC;SAClB;aAAM,IAAI,MAAM,KAAK,YAAY,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ,EAAE;YAC1D,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnB,KAAK,GAAG,EAAE,CAAC;SACZ;aAAM;YACL,KAAK,IAAI,MAAM,CAAC;SACjB;IACH,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACnB,OAAO,MAAM,CAAC;AAChB,CAAC;AAED,IAAM,aAAa,GAAG,mBAAmB,CAAC;AAEnC,SAAS,aAAa,CAAC,QAAQ;IACpC,OAAO,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtC,CAAC;AAEM,SAAS,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE,aAAc,EAAE,WAAY;IACrE,IAAI,QAAQ,GAAG,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IACpD,IAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;IAClD,6CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,eAAK;QAC1B,IAAM,WAAW,GAAG,6CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,WAAC;YACpC,IAAI,CAAC,CAAC,MAAM,EAAE;gBACZ,IAAI,aAAa,EAAE;oBACjB,uCAAuC;oBACvC,mDAAmD;oBACnD,IAAI,aAAW,GAAG,KAAK,CAAC;oBACxB,6CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,WAAC;wBACrB,+CAA+C;wBAC/C,IAAM,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,eAAK,IAAI,YAAK,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,EAAzB,CAAyB,CAAC,IAAI,EAAE,CAAC;wBAC9E,IAAM,eAAe,GAAG,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,UAAU,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,KAAK,EAAvC,CAAuC,CAAC,GAAG,CAAC,CAAC,CAAC;wBACnH,gEAAgE;wBAChE,IAAM,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,gBAAM,IAAI,aAAM,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,KAAK,CAAC,CAAC,KAAK,EAAtE,CAAsE,CAAC,GAAG,CAAC,CAAC,CAAC;wBAC7H,sEAAsE;wBACtE,IAAI,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,YAAY,CAAC,EAAE;4BAC5E,aAAW,GAAG,IAAI,CAAC;yBACpB;oBACH,CAAC,CAAC,CAAC;oBACH,OAAO,aAAW,CAAC;iBACpB;qBAAM;oBACL,0CAA0C;oBAC1C,OAAO,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,CAAC;iBACjC;aACF;iBAAM;gBACL,oBAAoB;gBACpB,OAAO,IAAI,CAAC;aACb;QACH,CAAC,CAAC,CAAC;QAEH,IAAM,SAAS,GAAG,6CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QACxD,IAAI,SAAS,IAAI,SAAS,CAAC,KAAK,EAAE;YAChC,IAAM,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC;YACpC,IAAM,WAAW,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;YACnD,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;SACvD;IACH,CAAC,CAAC,CAAC;IAEH,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,SAAS,WAAW,CAAC,KAAK;IACxB,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACpC,OAAO,KAAK,CAAC;AACf,CAAC;AAEM,SAAS,wBAAwB,CAAC,KAAa;IACpD,IAAI,SAA6B,CAAC;IAClC,IAAM,KAAK,GAAG,EAAE,CAAC;IAEjB,oDAAoD;IACpD,6CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAAE,cAAI;QACpC,4BAA4B;QAC5B,IAAI,IAAI,KAAK,GAAG,EAAE;YAChB,IAAI,GAAG,MAAM,CAAC;SACf;QACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IACH,IAAM,QAAQ,GAAG,6CAAC,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,CAAC;IAEtE,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,QAAQ,CAAC,GAAG,KAAK,MAAM,EAAE;QACjD,gEAAgE;QAChE,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC;KACnB;IAED,QAAQ,KAAK,CAAC,MAAM,EAAE;QACpB,KAAK,CAAC;YACJ,SAAS,GAAG,yDAAkB,CAAC,KAAK,CAAC;YACrC,MAAM;QACR,KAAK,CAAC;YACJ,SAAS,GAAG,yDAAkB,CAAC,IAAI,CAAC;YACpC,MAAM;QACR,KAAK,CAAC;YACJ,SAAS,GAAG,yDAAkB,CAAC,WAAW,CAAC;YAC3C,MAAM;QACR,KAAK,CAAC;YACJ,SAAS,GAAG,yDAAkB,CAAC,IAAI,CAAC;YACpC,MAAM;KACT;IAED,IAAM,aAAa,GAAkB;QACnC,SAAS;QACT,KAAK,EAAE,QAAQ,CAAC,KAAK,IAAI,EAAE;QAC3B,IAAI,EAAE,QAAQ,CAAC,IAAI,IAAI,EAAE;QACzB,WAAW,EAAE,QAAQ,CAAC,GAAG,IAAI,EAAE;QAC/B,IAAI,EAAE,QAAQ,CAAC,IAAI,IAAI,EAAE;KAC1B,CAAC;IAEF,OAAO,aAAa,CAAC;AACvB,CAAC;AAED;;;;GAIG;AACI,SAAS,kBAAkB,CAAC,KAAK;IACtC,IAAM,YAAY,GAAG,0BAA0B,CAAC;IAChD,IAAI,KAAK,CAAC;IAEV,IAAI,gBAAgB,CAAC,KAAK,CAAC,EAAE;QAC3B,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACzC,KAAK,GAAG,6CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,cAAI;YACxB,OAAO,6CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC1B;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,gBAAgB,CAAC,KAAK;IAC7B,IAAM,aAAa,GAAG,UAAU,CAAC;IACjC,OAAO,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnC,CAAC;AAED,4BAA4B;AACrB,IAAM,YAAY,GAAG,qBAAqB,CAAC;AAE3C,SAAS,OAAO,CAAC,GAAG;IACzB,OAAO,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAChC,CAAC;AAEM,SAAS,kBAAkB,CAAC,GAAG,EAAE,iBAAiB;IACvD,IAAM,eAAe,GAAG,QAAQ,CAAC;IACjC,IAAI,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QAC7B,IAAM,SAAS,GAAG,6CAAC,CAAC,GAAG,CAAC,iBAAiB,EAAE,kBAAQ;YACjD,OAAO,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,OAAO,6CAAC,CAAC,QAAQ,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;KACnC;SAAM;QACL,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAEM,SAAS,kBAAkB,CAAC,KAAK;IACtC,IAAM,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;IAC1C,IAAM,YAAY,GAAG,uDAAS,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC;IAC5D,OAAO;QACL,UAAU,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE;QAC7C,SAAS,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE;QAC1C,OAAO,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY,EAAE;QACpD,cAAc,EAAE,EAAC,IAAI,EAAE,+DAAsB,EAAE,KAAK,EAAE,+DAAsB,EAAC;KAC9E,CAAC;AACJ,CAAC;AAEM,SAAS,UAAU,CAAC,GAAG;IAC5B,IAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;IACxC,IAAM,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;IAC3B,IAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACzD,OAAO,IAAI,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACpC,CAAC;AAED,sCAAsC;AACtC,gCAAgC;AACzB,SAAS,WAAW,CAAC,KAAK;IAC/B,OAAO,KAAK,CAAC,OAAO,CAAC,uBAAuB,EAAE,MAAM,CAAC,CAAC;AACxD,CAAC;AAED;;GAEG;AACI,SAAS,iBAAiB,CAAC,QAAgB;IAChD,IAAM,kBAAkB,GAAG,uBAAuB,CAAC,QAAQ,CAAC,CAAC;IAC7D,IAAI,kBAAkB,EAAE;QACtB,OAAO,aAAa,CAAC,kBAAkB,CAAC,CAAC;KAC1C;IACD,OAAO,CAAC,CAAC;AACX,CAAC;AAEM,SAAS,uBAAuB,CAAC,QAAgB;IACtD,IAAM,eAAe,GAAG,2BAA2B,CAAC;IACpD,IAAM,cAAc,GAAG,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACtD,IAAI,CAAC,cAAc,IAAI,CAAC,QAAQ,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE;QACrF,OAAO,EAAE,CAAC;KACX;IACD,OAAO,cAAc,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACnF,CAAC;AAEM,SAAS,aAAa,CAAC,QAAgB;IAC5C,IAAM,eAAe,GAAG,0BAA0B,CAAC;IACnD,IAAM,cAAc,GAAU,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7D,IAAM,QAAQ,GAAG,6CAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/E,OAAQ,QAAQ,CAAC,OAAO,EAAa,CAAC;AACxC,CAAC;AAEM,SAAS,sBAAsB,CAAC,QAAQ;IAC7C,IAAM,eAAe,GAAG,mCAAmC,CAAC;IAC5D,IAAM,cAAc,GAAU,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7D,IAAI,QAAQ,GAAQ,CAAC,CAAC;IAEtB,IAAI,cAAc,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAC7B,QAAQ,GAAG,CAAC,GAAI,6CAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAU,CAAC;KACjG;SAAM;QACL,QAAQ,GAAG,6CAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;KACpF;IAED,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED;;;;;GAKG;AACI,SAAS,kBAAkB,CAAC,YAAY;IAC7C,IAAI,YAAY,CAAC,MAAM,EAAE;QACvB,IAAI,wBAAsB,GAAG,0DAA0D;cACnF,mDAAmD,CAAC;QACxD,6CAAC,CAAC,IAAI,CAAC,6CAAC,CAAC,GAAG,CAAC,YAAY,EAAE,aAAG;YAC5B,IAAM,SAAS,GAAG,6CAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACzC,OAAO,aAAa,GAAG,SAAS,CAAC,MAAM,CAAC,sBAAsB,CAAC,GAAG,eAAe,GAAG,GAAG,CAAC,KAAK;kBACzF,IAAI,GAAG,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,GAAG,GAAG,GAAG,WAAW,GAAG,GAAG,CAAC,OAAO,GAAG,YAAY,CAAC;QAC3F,CAAC,CAAC,EAAE,aAAG;YACL,wBAAsB,GAAG,wBAAsB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QACH,wBAAsB,GAAG,wBAAsB,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QACnE,OAAO,wBAAsB,CAAC;KAC/B;SAAM;QACL,OAAO,EAAE,CAAC;KACX;AACH,CAAC;AAEM,SAAS,qBAAqB,CAAC,GAAG;IACvC,IAAM,mBAAmB,GAAG,oBAAoB,CAAC;IACjD,IAAM,gBAAgB,GAAG,aAAa,CAAC;IACvC,IAAI,GAAG,CAAC,KAAK,CAAC,mBAAmB,CAAC,EAAE;QAClC,OAAO,GAAG,CAAC;KACZ;SAAM;QACL,OAAO,GAAG,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;KAC5C;AACH,CAAC;AAED;;;GAGG;AACI,SAAS,QAAQ,CAAC,IAAI,EAAE,aAAa;IAC1C,OAAO;QACL,IAAI,CAAC,aAAa,EAAE;YAClB,aAAa,GAAG,OAAO,CAAC,OAAO,CAC7B,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC;iBAC1B,IAAI,CAAC,gBAAM;gBACV,aAAa,GAAG,IAAI,CAAC;gBACrB,OAAO,MAAM,CAAC;YAChB,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gBACV,aAAa,GAAG,IAAI,CAAC;gBACrB,MAAM,GAAG,CAAC;YACZ,CAAC,CAAC,CACH,CAAC;SACH;QACD,OAAO,aAAa,CAAC;IACvB,CAAC,CAAC;AACJ,CAAC;AAED;;;GAGG;AACI,SAAS,QAAQ,CAAC,UAAU;IACjC,OAAO,UAAS,MAAM;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC1C,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC3C;QACD,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC;AACJ,CAAC;AAED,IAAM,cAAc,GAAG,sDAAsD,CAAC;AAEvE,SAAS,cAAc,CAAC,OAAO;IACpC,OAAO,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACtC,CAAC;AAEM,SAAS,YAAY,CAAC,OAAe;IAC1C,IAAM,KAAK,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3C,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,IAAI,CAAC;KACb;IACD,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IACpC,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IACpC,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACtB,OAAO,EAAE,KAAK,SAAE,KAAK,SAAE,KAAK,SAAE,IAAI,QAAE,CAAC;AACvC,CAAC;AAED;;GAEG;AACI,SAAS,YAAY,CAAC,KAAK;IAChC,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;AAC3C,CAAC;AAEM,SAAS,aAAa,CAAC,CAAC,EAAE,KAAS;IAAT,iCAAS;IACxC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;QAClB,OAAO,CAAC,CAAC;KACV;IACD,IAAM,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,IAAI,6CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACnB,OAAO,aAAa,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;KACvC;IACD,OAAO,KAAK,GAAG,CAAC,CAAC;AACnB,CAAC;AAED;;GAEG;AACI,SAAS,SAAS,CAAC,CAAM;IAC9B,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC;AAED;;GAEG;AACI,SAAS,SAAS,CAAC,MAAc;IACtC,IAAI,CAAC,MAAM,EAAE;QACX,OAAO,EAAE,CAAC;KACX;IAED,IAAI,IAAI,GAAU,6CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,UAAC,GAAG,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAChE,IAAI,GAAG,6CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,UAAC,GAAG;QACrB,IAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAChC,OAAO,EAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAC,CAAC;IAC9D,CAAC,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,SAAS,SAAS,CAAC,MAAW;IACnC,OAAO,MAAM,IAAI,EAAE,CAAC;AACtB,CAAC;AAED,IAAM,WAAW,GAAG,cAAM,QAAC;IACzB,GAAG,EAAE,SAAS;IACd,GAAG,EAAE,SAAS;IACd,KAAK,EAAE,KAAK;IACZ,GAAG,EAAE,OAAO;IACZ,KAAK,EAAE,QAAQ;IACf,kCAAkC;IAClC,QAAQ,EAAE,QAAQ;IAClB,KAAK,EAAE,KAAK;IACZ,MAAM,EAAE,MAAM;IACd,IAAI,EAAE,OAAO;IACb,GAAG,EAAE,MAAM;IACX,GAAG,EAAE,SAAS;IACd,KAAK,EAAE,QAAQ;IACf,KAAK,EAAE,KAAK;CACb,CAAC,EAfwB,CAexB,CAAC;AAEH,IAAM,oBAAoB,GAAG;IAC3B,IAAM,KAAK,GAAG,EAAE,CAAC;IACjB,IAAM,UAAU,GAAG,qEAAe,EAAE,CAAC;IACrC,KAAuB,UAAU,EAAV,yBAAU,EAAV,wBAAU,EAAV,IAAU,EAAE;QAA9B,IAAM,QAAQ;QACjB,KAAuB,UAAgB,EAAhB,aAAQ,CAAC,OAAO,EAAhB,cAAgB,EAAhB,IAAgB,EAAE;YAApC,IAAM,QAAQ;YACjB,IAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC;YAC5B,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;SACpB;KACF;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,IAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;AAC/B,IAAM,iBAAiB,GAAG,oBAAoB,EAAE,CAAC;AAE1C,SAAS,iBAAiB,CAAC,UAAkB;IAClD,IAAI,IAAI,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;IAChC,IAAI,CAAC,IAAI,EAAE;QACT,IAAI,GAAG,iBAAiB,CAAC,UAAU,CAAC,CAAC;KACtC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAEM,SAAS,eAAe,CAAC,IAAI,EAAE,aAAoB;IAChD,cAAU,GAAK,IAAI,WAAT,CAAU;IAC5B,IAAM,OAAO,GAAG,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,UAAU,KAAK,UAAU,EAA3B,CAA2B,CAAC,CAAC;IACtE,IAAI,CAAC,OAAO,EAAE;QACZ,OAAO,IAAI,CAAC;KACb;IAED,OAAQ,OAAO,CAAC,QAAkB,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC;QAC1C,IAAM,YAAY,GAAiB;YACjC,EAAE,EAAE,CAAC;YACL,IAAI,EAAE,yDAAW,CAAC,WAAW;YAC7B,KAAK,EAAE,CAAC,CAAC,KAAK;YACd,IAAI,EAAE,CAAC,CAAC,QAAQ;SACjB,CAAC;QACF,OAAO,YAAY,CAAC;IACtB,CAAC,CAAC,CAAC;AACL,CAAC;AAEM,SAAS,mBAAmB,CAAC,IAAe;IACjD,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,uDAAS,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,UAAU,CAAC;AAC9H,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5d4C;AACX;AACuH;AACH;AAC5G;AACkB;AAG5D,IAAM,kBAAkB,GAAG,EAAE,CAAC;AAC9B,IAAM,mBAAmB,GAAG,EAAE,CAAC;AA+B/B,IAAM,eAAe,GAAG;IACtB,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,gBAAgB,EAAC;IACnC,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,aAAa,EAAC;IAChC,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAC;IAC5B,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,EAAC;IAC5B,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,EAAC;IACzB,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,UAAU,EAAC;CAC9B,CAAC;AAEF;IAAsC,oCAA2B;IAK/D,0BAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAYb;QAED,kBAAY,GAAG,UAAC,KAA6C;YAC3D,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7D,CAAC;QAED,oBAAc,GAAG,UAAC,KAA+C;YAC/D,IAAI,KAAK,CAAC,KAAK,KAAK,kBAAkB,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,EAAE;gBAC/D,iBAAiB;aAClB;iBAAM,IAAI,KAAK,CAAC,KAAK,KAAK,mBAAmB,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;gBACxE,KAAI,CAAC,OAAO,EAAE,CAAC;aAChB;QACH,CAAC;QAED,yBAAmB,GAAG;YACpB,KAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QAED,yBAAmB,GAAG;YACpB,KAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QACxE,CAAC;QAED,4BAAsB,GAAG;YACvB,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QAC9E,CAAC;QAED,0BAAoB,GAAG;YACrB,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,CAAC,KAAI,CAAC,KAAK,CAAC,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QAC1E,CAAC;QAED,8BAAwB,GAAG,WAAC;YAC1B,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,CAAC,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC;QAEF,aAAO,GAAG;YACR,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YAC3F,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC;QAED,YAAM,GAAG;YACD,SAAgD,KAAI,CAAC,KAAK,EAAxD,WAAW,mBAAE,cAAc,sBAAE,YAAY,kBAAe,CAAC;YAEjE,IAAM,cAAc,GAAG,WAAW,IAAI,cAAc,IAAI,YAAY,CAAC;YACrE,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,cAAc,EAAE;gBACxC,OAAO,KAAI,CAAC,QAAQ,CAAC;oBACnB,KAAK,EAAE,IAAI;oBACX,YAAY,EAAE,wCAAwC;iBACvD,CAAC,CAAC;aACJ;YAED,KAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;YAE/C,IAAM,OAAO,GAAmB;gBAC9B,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK;aAC1B,CAAC;YAEF,IAAI,MAAM,GAAG,uFAA0B,CAAC;YACxC,IAAI,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gBAC1B,MAAM,IAAI,+EAAkB,CAAC;aAC9B;YACD,IAAI,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE;gBAC7B,MAAM,IAAI,2FAA8B,CAAC;gBACzC,OAAO,CAAC,QAAQ,GAAG,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;aAChD;YACD,IAAI,KAAI,CAAC,KAAK,CAAC,YAAY,EAAE;gBAC3B,MAAM,IAAI,iFAAoB,CAAC;aAChC;YACD,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;YAExB,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;gBAChC,KAAI,CAAC,OAAO,EAAE,CAAC;YACjB,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;;gBACV,IAAM,YAAY,GAAG,UAAG,CAAC,IAAI,0CAAE,OAAO,YAAI,GAAG,CAAC,IAAI,0CAAE,KAAK,KAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,UAAU,IAAI,EAAE,CAAC;gBAC9F,KAAI,CAAC,QAAQ,CAAC;oBACZ,QAAQ,EAAE,YAAY;oBACtB,OAAO,EAAE,KAAK;iBACf,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAzFC,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,EAAE;YACT,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,EAAE;YACZ,WAAW,EAAE,KAAK;YAClB,YAAY,EAAE,KAAK;YACnB,cAAc,EAAE,KAAK;YACrB,gBAAgB,EAAE,KAAK,CAAC,QAAQ,IAAI,CAAC;YACrC,OAAO,EAAE,KAAK;SACf,CAAC;;IACJ,CAAC;IAgFD,wCAAa,GAAb;QACQ,SAAsB,IAAI,CAAC,KAAK,EAA9B,QAAQ,gBAAE,KAAK,WAAe,CAAC;QAEvC,IAAM,OAAO,GAAG;YACd,2DAAC,oDAAQ,IAAC,GAAG,EAAC,KAAK,EAAC,KAAK,EAAE,KAAK,CAAC,WAAW,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,QAAQ,EAAE,IAAI,CAAC,mBAAmB,GAAI;YACnH,2DAAC,oDAAQ,IACP,GAAG,EAAC,iBAAiB,EACrB,KAAK,EAAE,KAAK,CAAC,cAAc,EAC3B,WAAW,EAAC,EAAE,EACd,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,EAChC,QAAQ,EAAE,IAAI,CAAC,sBAAsB,GACrC;YACF,IAAI,CAAC,KAAK,CAAC,cAAc;gBACvB,2DAAC,4DAAgB,IACf,GAAG,EAAC,UAAU,EACd,IAAI,EAAC,IAAI,EACT,OAAO,EAAE,+EAAkB,CAAC,KAAK,CAAC,EAClC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAClC,QAAQ,EAAE,IAAI,CAAC,wBAAwB,GACvC;YACJ,QAAQ;gBACN,2DAAC,oDAAQ,IAAC,GAAG,EAAC,OAAO,EAAC,KAAK,EAAE,KAAK,CAAC,YAAY,EAAE,QAAQ,EAAE,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,oBAAoB,GAAI;SAChJ,CAAC;QAEF,+EAA+E;QAC/E,OAAO,OAAO,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,EAAD,CAAC,CAAC,CAAC;IAChC,CAAC;IAED,iCAAM,GAAN;QACQ,SAAmB,IAAI,CAAC,KAAK,EAA3B,KAAK,aAAE,KAAK,WAAe,CAAC;QAEpC,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;QAChC,IAAM,UAAU,GAAG,kDAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACpC,IAAM,eAAe,GAAG,kDAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QACpD,IAAM,eAAe,GAAG,kDAAE,CAAC,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;QACzD,IAAM,UAAU,GAAG,kDAAE,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;QACxD,IAAM,cAAc,GAAG,kDAAE,CAAC,mBAAmB,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QACjE,IAAM,eAAe,GAAG,kDAAE,CAAC,mBAAmB,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;QAEnE,OAAO,CACL,2DAAC,iDAAK,IACJ,MAAM,EAAE,IAAI,EACZ,SAAS,EAAE,IAAI,CAAC,OAAO,EACvB,SAAS,EAAE,UAAU,EACrB,KAAK,EACH,oEAAK,SAAS,EAAE,eAAe;gBAC5B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,2DAAC,mDAAO,IAAC,IAAI,EAAE,EAAE,GAAI,CAAC,CAAC,CAAC,2DAAC,kDAAM,IAAC,IAAI,EAAC,WAAW,GAAG;gBACzE,qEAAM,SAAS,EAAC,OAAO,IAAE,KAAK,CAAC,kBAAkB,CAAQ,CACrD;YAGR,oEAAK,SAAS,EAAE,eAAe;gBAC7B,sEAAO,SAAS,EAAC,cAAc;oBAC7B,2DAAC,oDAAQ,IAAC,SAAS,EAAE,UAAU,EAC7B,IAAI,EAAC,MAAM,EACX,IAAI,EAAC,SAAS,EACd,WAAW,EAAE,KAAK,CAAC,OAAO,EAC1B,YAAY,EAAC,KAAK,EAClB,SAAS,EAAE,IAAI,EACf,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EACvB,QAAQ,EAAE,IAAI,CAAC,YAAY,EAC3B,SAAS,EAAE,IAAI,CAAC,cAAc,GACrB;oBACX,sEAAO,SAAS,EAAE,cAAc,IAAG,KAAK,CAAC,kBAAkB,CAAS;oBACnE,IAAI,CAAC,KAAK,CAAC,KAAK;wBACf,sEAAO,SAAS,EAAE,eAAe,IAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAS,CAEhE,CACJ;YAEN,oEAAK,SAAS,EAAC,SAAS;gBACtB,2DAAC,yDAAa,QACX,IAAI,CAAC,aAAa,EAAE,CACP,CACZ;YAEL,IAAI,CAAC,KAAK,CAAC,QAAQ;gBAClB,oEAAK,SAAS,EAAC,2BAA2B;oBACxC,qEAAM,SAAS,EAAE,MAAM,CAAC,QAAQ,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAQ,CAC1D;YAGR,oEAAK,SAAS,EAAC,gCAAgC;gBAC7C,2DAAC,kDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM,IAAG,KAAK,CAAC,MAAM,CAAU;gBACvE,2DAAC,kDAAM,IAAC,OAAO,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAG,KAAK,CAAC,MAAM,CAAU,CACtE,CACA,CACT,CAAC;IACJ,CAAC;IAzLM,6BAAY,GAAmB;QACpC,YAAY,EAAE,IAAI;KACnB,CAAC;IAwLJ,uBAAC;CAAA,CA3LqC,mDAAa,GA2LlD;AA3L4B;AA6L7B,IAAM,SAAS,GAAG,iEAAa,CAAC,UAAC,KAAmB;IAClD,IAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;IAC9B,OAAO;QACL,KAAK,EAAE,mDAAG,6HAET;QACD,gBAAgB,EAAE,mDAAG,+LACN,EAA2B,wBACzB,EAAgB,qBACnB,EAAgB,+BAE7B,KAJc,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,EACzB,KAAK,CAAC,OAAO,CAAC,EAAE,EACnB,KAAK,CAAC,OAAO,CAAC,EAAE,CAE7B;QACD,UAAU,EAAE,mDAAG,2IAEd;QACD,KAAK,EAAE,mDAAG,0OACQ,EAAG,wFAGK,EAAgB,gBAAiB,EAAG,SAC7D,KAJiB,GAAG,EAGK,KAAK,CAAC,MAAM,CAAC,GAAG,EAAiB,GAAG,CAC7D;QACD,SAAS,EAAE,mDAAG,4MAGH,EAAqB,SAC/B,KADU,KAAK,CAAC,MAAM,CAAC,QAAQ,CAC/B;QACD,UAAU,EAAE,mDAAG,wJAEJ,EAAG,SACb,KADU,GAAG,CACb;QACD,QAAQ,EAAE,mDAAG,gHACF,EAAG,SACb,KADU,GAAG,CACb;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEI,IAAM,QAAQ,GAAG,6DAAS,CAAC,gBAAgB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClRP;AAS7C;IAA+C,qCAAqC;IAApF;QAAA,qEAwCC;QAvCC,iBAAW,GAAG,UAAC,KAAK;YAClB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;;IAqCH,CAAC;IAnCC,kCAAM,GAAN;QACQ,SAAqB,IAAI,CAAC,KAAK,EAA7B,OAAO,eAAE,KAAK,WAAe,CAAC;QACtC,IAAM,OAAO,GAAG,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,aAAG;YAClE,OAAO,CACL,mEAAI,GAAG,EAAE,GAAG,CAAC,aAAa;gBACxB,uEAAK,GAAG,CAAC,IAAI,CAAM;gBACnB,uEAAK,GAAG,CAAC,IAAI,CAAM;gBACnB,uEAAK,GAAG,CAAC,OAAO,CAAM,CACnB,CACN,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,OAAO,CACL,oEAAK,SAAS,EAAC,aAAa;YAC1B,sEAAO,SAAS,EAAC,OAAO;gBACtB;oBACE;wBACE,mEAAI,SAAS,EAAC,UAAU,IAAE,KAAK,CAAC,IAAI,CAAM;wBAC1C,mEAAI,SAAS,EAAC,UAAU,IAAE,KAAK,CAAC,IAAI,CAAM;wBAC1C,mEAAI,SAAS,EAAC,cAAc,IAAE,KAAK,CAAC,QAAQ,CAAM,CAC/C,CACC;gBACR,0EACG,OAAO,CACF,CACF;YACP,OAAO,CAAC,aAAa;gBACpB,oEAAK,SAAS,EAAC,gBAAgB;oBAC7B,uEAAQ,EAAE,EAAC,qBAAqB,EAAC,SAAS,EAAC,yCAAyC,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW;wBAC5G,kEAAG,SAAS,EAAC,YAAY,GAAK,CACvB,CACL,CAEJ,CACP,CAAC;IACJ,CAAC;IACH,wBAAC;AAAD,CAAC,CAxC8C,mDAAa,GAwC3D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjD2D;AACxB;AACb;AACK;AACiC;AAEN;AACpB;AACiB;AAChB;AAE2B;AACrB;AACM;AAChD,IAAM,GAAG,GAAG,mBAAO,CAAC,qDAAW,CAAC,CAAC;AAUjC;IAAuC,6BAA6B;IAApE;QAAA,qEAwLC;QAtLC,oBAAc,GAAG,UAAC,GAAW,EAAE,OAAiB,EAAE,QAAkB;YAClE,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC9E;QACH,CAAC;QAED,gBAAU,GAAG,UAAC,IAAoB;YAChC,IAAM,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACnC,OAAO,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChD,CAAC;QAED,sBAAgB,GAAG,UAAC,SAAc,EAAE,SAAc,EAAE,QAAgB,EAAE,SAAiB,EAAE,GAAW;YAC5F,SAAqB,KAAI,CAAC,KAAK,EAA7B,KAAK,aAAE,OAAO,aAAe,CAAC;YACtC,SAAS,CAAC,uDAAU,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,WAAE,KAAK,SAAE,QAAQ,YAAE,SAAS,aAAE,GAAG,OAAE,CAAC;QAChH,CAAC;QAED,qBAAe,GAAG,UAAC,KAAU,EAAE,GAAW;YACxC,KAAK,CAAC,eAAe,EAAE,CAAC;YACxB,0EAA0E;YAC1E,IAAM,MAAM,GAAG,IAAI,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YAClC,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;YACnC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC/C,CAAC;QAED,wBAAkB,GAAG,UAAC,OAAO;YACnB,SAAK,GAAK,KAAI,CAAC,KAAK,MAAf,CAAgB;YAC7B,mFAAmF;YACnF,IAAM,IAAI,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YACxC,IAAM,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,OAAO,CAAC,GAAG,IAAI,CACjB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ;gBAC3D,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS;gBACrB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK;gBACjB,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS;gBAC7C,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,CACtC,EAAE;gBACD,OAAO,CACL,2DAAC,mDAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,KAAK,CAAC,OAAO;oBAChD,kEAAG,OAAO,EAAE,UAAC,KAAK,IAAK,YAAI,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,EAAxC,CAAwC;wBAAE,kEAAG,SAAS,EAAC,qBAAqB,GAAK,CAAI,CACpG,CACX,CAAC;aACH;YACD,OAAO,IAAI,CAAC;QACd,CAAC;;IA2IH,CAAC;IAzIC,0BAAM,GAAN;QAAA,iBAwIC;QAvIO,SAAmC,IAAI,CAAC,KAAK,EAA3C,OAAO,eAAE,YAAY,oBAAE,KAAK,WAAe,CAAC;QACpD,+BAA+B;QAC/B,IAAM,kBAAkB,GAAG,KAAK,CAAC,CAAC,2DAA2D;QAC7F,IAAM,WAAW,GAAG,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,6CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,iBAAO,IAAI,cAAO,CAAC,GAAG,KAAK,MAAM,EAAtB,CAAsB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC9G,IAAM,SAAS,GAAG,iDAAU,CAAC,iBAAiB,EAAE,kBAAkB,EAChE,EAAE,yBAAyB,EAAE,YAAY,CAAC,mBAAmB,EAAE,4BAA4B,EAAE,WAAW,EAAE,CAC3G,CAAC;QACF,IAAM,gBAAgB,GAAG,iDAAU,CAAC,uBAAuB,EAAE,EAAE,0BAA0B,EAAE,YAAY,CAAC,oBAAoB,EAAE,CAAC,CAAC;QAEhI,IAAM,eAAe,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACjD,IAAI,YAA6B,CAAC;QAClC,YAAY,GAAG,6CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,WAAC,IAAI,QAAC,CAAC,QAAQ,KAAK,eAAe,EAA9B,CAA8B,CAAC,CAAC;QACzF,IAAI,OAAO,CAAC,QAAQ,EAAE;YACpB,YAAY,GAAG,6CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,WAAC,IAAI,QAAC,CAAC,QAAQ,KAAK,eAAe,EAA9B,CAA8B,CAAC,CAAC;SAC1F;QAED,IAAM,UAAU,GAAG,+DAAgB,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC,sBAAsB,IAAI,YAAY,CAAC,gBAAgB,CAAC,CAAC;QAC7H,IAAM,cAAc,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC;QACtE,IAAM,GAAG,GAAG,6CAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAChF,IAAM,SAAS,GAAG,6CAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAC;QAE/E,IAAI,UAAU,GAAG,KAAK,CAAC;QACvB,IAAI,YAAY,CAAC,kBAAkB,EAAE;YACnC,UAAU,GAAG,2DAAY,CAAC,OAAO,EAAE,YAAY,CAAC,kBAAkB,CAAC,CAAC;SACrE;QACD,IAAM,KAAK,GAAG,YAAY,CAAC,kBAAkB,IAAI,UAAU,CAAC;QAE5D,IAAI,YAAoB,CAAC;QACzB,IAAI,OAAO,CAAC,KAAK,KAAK,GAAG,EAAE;YACzB,YAAY,GAAG,YAAY,CAAC,YAAY,CAAC;SAC1C;aAAM,IAAI,YAAY,CAAC,aAAa,IAAI,OAAO,CAAC,YAAY,KAAK,GAAG,EAAE;YACrE,YAAY,GAAG,YAAY,CAAC,aAAa,CAAC;SAC3C;aAAM;YACL,YAAY,GAAG,YAAY,CAAC,KAAK,CAAC;SACnC;QAED,IAAM,SAAS,GAAkB,EAAE,CAAC;QACpC,IAAI,YAAY,CAAC,mBAAmB,EAAE;YACpC,SAAS,CAAC,eAAe,GAAG,YAAY,CAAC;SAC1C;QAED,OAAO,CACL,2DAAC,2DAAe,QACb,UAAC,EAAwB;gBAAtB,SAAS,iBAAE,SAAS;YAAO,QAC7B,mEAAI,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,cAAM,YAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,EAAE,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,GAAG,CAAC,EAAlF,CAAkF;gBAC3I,2DAAC,kDAAS,IAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,YAAY,EAAE,mBAAmB,EAAE,YAAY,CAAC,mBAAmB,EAAE,KAAK,EAAE,KAAK,GAAI;gBACzH,2DAAC,yDAAe,IAAC,OAAO,EAAE,OAAO,GAAI;gBACrC,oEAAK,SAAS,EAAC,uBAAuB;oBACpC,oEAAK,SAAS,EAAC,yBAAyB;wBACtC,oEAAK,SAAS,EAAC,uBAAuB;4BACpC,qEAAM,SAAS,EAAC,qBAAqB,IAAE,OAAO,CAAC,WAAW,CAAQ;4BACjE,CAAC,YAAY,CAAC,SAAS,IAAI,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAC7D,2DAAC,SAAS,IAAC,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,GAAI,CAC5D;4BACA,YAAY,CAAC,UAAU,IAAI,2DAAC,UAAU,IAAC,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,GAAI;4BAEvF,YAAY,CAAC,QAAQ,IAAI,CACxB,qEAAM,SAAS,EAAC,kBAAkB,IAC/B,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG;gCACnC,kEAAC,iDAAQ,IACP,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,EACxB,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,GAAG,CAAC,GAAG,KAAK,OAAO,CAAC,eAAe,EAC9C,OAAO,EAAE,KAAI,CAAC,cAAc,GAC5B;4BALF,CAKE,CACH,CACI,CACR,CACG;wBAEN,oEAAK,SAAS,EAAE,gBAAgB;4BAC7B,YAAY,CAAC,WAAW,IAAI,2DAAC,WAAW,IAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,GAAI;4BAC3E,YAAY,CAAC,aAAa,IAAI,CAC7B,2DAAC,aAAa,IAAC,YAAY,EAAE,YAAY,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,EACvG,mBAAmB,EAAE,YAAY,CAAC,mBAAmB,GAAI,CAC5D;4BACD,qEAAM,SAAS,EAAC,uBAAuB,IACpC,YAAY,CAAC,QAAQ,IAAI,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,GAAG,CAChD;4BACN,YAAY,CAAC,gBAAgB,IAAI,CAAC,YAAY,CAAC,oBAAoB,IAAI,CACtE,qEAAM,SAAS,EAAC,iBAAiB,EAAC,uBAAuB,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,GAAI,CAC5F,CACG;wBAEL,YAAY,CAAC,gBAAgB,IAAI,YAAY,CAAC,oBAAoB,IAAI,CACrE,oEAAK,SAAS,EAAC,gDAAgD;4BAC7D,qEACE,SAAS,EAAC,uCAAuC,EACjD,uBAAuB,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,GACrD,CACE,CACP,CAEG,CACF;gBAEL,kBAAkB,IAAI,CACrB,oEAAK,SAAS,EAAC,6CAA6C;oBAC1D;wBACE,kEAAG,SAAS,EAAC,gBAAgB,GAAK;wBACjC,OAAO,CAAC,UAAU,CACd,CACH,CACP;gBAED,oEAAK,SAAS,EAAC,8CAA8C;oBAC3D,yEAAO,SAAS,IAAI,qBAAqB,CAAQ;oBACjD,oEAAK,SAAS,EAAC,qCAAqC;wBACjD,KAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC;wBAChC,OAAO,CAAC,KAAK,KAAK,GAAG,IAAI,CACxB,2DAAC,mDAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,OAAO,CAAC,KAAK;4BAChD;gCAAM,kEAAG,SAAS,EAAC,uBAAuB,GAAK,CAAO,CAC9C,CACX;wBACA,OAAO,CAAC,OAAO,IAAI,CAClB,2DAAC,uBAAuB,IACtB,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,UAAC,KAAK;gCACb,KAAK,CAAC,eAAe,EAAE,CAAC;gCACxB,SAAS,CAAC,kDAAQ,EAAE;oCAClB,QAAQ,EAAE,OAAO,CAAC,YAAY,KAAK,GAAG;oCACtC,QAAQ,EAAE,eAAe;oCACzB,QAAQ,EAAE,KAAI,CAAC,UAAU;oCACzB,SAAS,EAAE,SAAS;oCACpB,KAAK,EAAE,KAAK;iCACb,CAAC,CAAC;4BACL,CAAC,EACD,KAAK,EAAE,KAAK,GACZ,CACH,CACG,CACF,CACL,CAAC;QAzFyB,CAyFzB,CACU,CACnB,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,CAxLsC,mDAAa,GAwLnD;;AAOD,SAAS,SAAS,CAAC,KAAqB;IACtC,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IAC9B,IAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;IACjC,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,iBAAiB,EAAE;QAC9C,IAAI,GAAM,OAAO,CAAC,IAAI,UAAK,OAAO,CAAC,YAAY,MAAG,CAAC;KACpD;SAAM,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,iBAAiB,EAAE;QACrD,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC;KAC9D;IACD,IAAI,KAAK,CAAC,SAAS,IAAI,OAAO,CAAC,KAAK,EAAE;QACpC,IAAI,GAAM,OAAO,CAAC,KAAK,UAAK,IAAM,CAAC;KACpC;IAED,OAAO,CACL,qEAAM,SAAS,EAAC,iBAAiB;QAC9B,OAAO,CAAC,WAAW,IAAI,kEAAG,SAAS,EAAC,mCAAmC,GAAK;QAC5E,IAAI,CACA,CACR,CAAC;AACJ,CAAC;AAOD,SAAS,UAAU,CAAC,KAAsB;IACxC,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IAC9B,IAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;IACjC,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,IAAI,KAAK,CAAC,UAAU,EAAE;QACpB,IAAM,MAAM,GAAG,6CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACxD,UAAU,IAAI,OAAK,MAAM,OAAI,CAAC;KAC/B;IAED,OAAO,CACL,qEAAM,SAAS,EAAC,iBAAiB,IAAE,UAAU,CAAQ,CACtD,CAAC;AACJ,CAAC;AAED,IAAM,gBAAgB,GAAG,mBAAmB,CAAC;AAC7C,IAAM,qBAAqB,GAAG,gBAAgB,CAAC;AAE/C,SAAS,WAAW,CAAC,KAAK;IAChB,WAAO,GAAmC,KAAK,QAAxC,EAAE,OAAO,GAA0B,KAAK,QAA/B,EAAE,YAAY,GAAY,KAAK,aAAjB,EAAE,KAAK,GAAK,KAAK,MAAV,CAAW;IACxD,IAAM,MAAM,GAAG,OAAO,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9D,IAAM,KAAK,GAAG,OAAO,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,IAAI,gBAAgB,CAAC,CAAC,CAAC,YAAY,IAAI,qBAAqB,CAAC;IAC1G,IAAM,SAAS,GAAG,iDAAU,CAC1B,mBAAmB,EACnB,EAAE,sBAAsB,EAAE,OAAO,CAAC,KAAK,KAAK,GAAG,EAAE,EACjD,EAAE,gBAAgB,EAAE,OAAO,CAAC,KAAK,KAAK,GAAG,EAAE,EAC3C,EAAE,yBAAyB,EAAE,KAAK,EAAE,CACrC,CAAC;IACF,OAAO,CACL,qEAAM,SAAS,EAAE,SAAS,IACvB,MAAM,CACF,CACR,CAAC;AACJ,CAAC;AAED,SAAS,aAAa,CAAC,KAAK;IAClB,gBAAY,GAA4C,KAAK,aAAjD,EAAE,mBAAmB,GAAuB,KAAK,oBAA5B,EAAE,KAAK,GAAgB,KAAK,MAArB,EAAE,SAAS,GAAK,KAAK,UAAV,CAAW;IACtE,IAAM,SAAS,GAAG,iDAAU,CAAC,sBAAsB,EAAE,EAAE,yBAAyB,EAAE,KAAK,EAAE,CAAC,CAAC;IAC3F,IAAM,KAAK,GAAkB,EAAE,CAAC;IAChC,IAAI,CAAC,mBAAmB,EAAE;QACxB,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC;KAClC;IACD,OAAO,CACL,qEAAM,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,IACrC,YAAY,CAAC,QAAQ,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,GAAG,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CACtD,CACR,CAAC;AACJ,CAAC;AAQD;IAAsC,2CAA2C;IAAjF;QAAA,qEA2BC;QA1BC,iBAAW,GAAG,UAAC,KAAK;YAClB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;QAED,0BAAoB,GAAG;YACrB,OAAO,2DAAC,0DAAiB,IAAC,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,KAAI,CAAC,WAAW,EAAE,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK,GAAI,CAAC;QAChH,CAAC;;IAoBH,CAAC;IAlBC,wCAAM,GAAN;QACQ,SAAqB,IAAI,CAAC,KAAK,EAA7B,OAAO,eAAE,KAAK,WAAe,CAAC;QACtC,IAAI,OAAO,GAAG,IAAI,CAAC;QACnB,IAAI,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE;YACvD,OAAO,GAAG,CACR,2DAAC,mDAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,eAAe,EAAC,aAAa,EAAC,OAAO,EAAE,IAAI,CAAC,oBAAoB;gBAC1F,qEAAM,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW;oBAAE,kEAAG,SAAS,EAAC,gBAAgB,GAAK,CAAO,CAChF,CACX,CAAC;SACH;aAAM,IAAI,OAAO,CAAC,aAAa,EAAE;YAChC,OAAO,GAAG,CACR,2DAAC,mDAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,KAAK,CAAC,kBAAkB;gBAC3D,qEAAM,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW;oBAAE,kEAAG,SAAS,EAAC,kBAAkB,GAAK,CAAO,CAClF,CACX,CAAC;SACH;QACD,OAAO,OAAO,CAAC;IACjB,CAAC;IACH,8BAAC;AAAD,CAAC,CA3BqC,mDAAa,GA2BlD;;;;;;;;;;;;;;;;;;;;;;;;AClUiC;AACA;AACgB;AAU3C,IAAM,SAAS,GAAc,UAAC,EAA8C;QAA5C,OAAO,eAAE,KAAK,aAAE,KAAK,aAAE,mBAAmB;IAC/E,IAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC1C,IAAM,MAAM,GAAG,OAAO,CAAC,KAAK,KAAK,GAAG,IAAI,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC;IAE9E,IAAM,SAAS,GAAG,kDAAE,CAClB,SAAS,EACT,KAAK,IAAI,yBAAyB,CACnC,CAAC;IAEF,IAAM,YAAY,GAAG,kDAAE,CACrB,uBAAuB,EACvB,CAAC,mBAAmB,IAAI,mDAAG,yFAAU,EAAK,EAAE,KAAP,KAAK,CAAE,CAC7C,CAAC;IAEF,OAAO,CACL,oEAAK,SAAS,EAAE,YAAY;QAC1B,2DAAC,uDAAW,IAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,GAAI,CACjD,CACP,CAAC;AACJ,CAAC,CAAC;AAEa,wEAAS,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCmC;AACxB;AAGA;AAE2B;AACxC;AAEvB,IAAM,gBAAgB,GAAG,UAAU,CAAC;AACpC,IAAM,iBAAiB,GAAG,YAAY,CAAC;AAyBvC;IAAuC,6BAA6C;IAClF,mBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAWb;QA8BD,sBAAgB,GAAG,UAAC,OAAe;YACjC,IAAM,KAAK,GAAG,KAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;YACtE,KAAI,CAAC,QAAQ,CAAC;gBACZ,IAAI,EAAE,OAAO;gBACb,eAAe,EAAE,KAAK;aACvB,CAAC,CAAC;QACL,CAAC;QAGD,oBAAc,GAAG,UAAC,GAAW,EAAE,UAAkB,EAAE,OAAiB,EAAE,QAAkB;YACtF,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC3D;QACH,CAAC;QAED,sBAAgB,GAAG,UAAC,OAAmB,EAAE,IAAoB;YAC3D,OAAO,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChD,CAAC;QAED,yBAAmB,GAAG,UAAC,UAAkB,EAAE,cAAsB,EAAE,cAAsB,EAAE,iBAA0B;YACnH,IAAM,mBAAmB,GAAG,UAAU,CAAC,WAAW,EAAE,CAAC;YACrD,IAAM,gBAAgB,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,OAAmB;gBACtE,OAAO,CACL,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;oBACjE,OAAO,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;oBACpE,CAAC,cAAc,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,QAAQ,KAAK,cAAc,CAAC,QAAQ,EAAE,CAAC;oBACzE,CAAC,cAAc,KAAK,KAAK,IAAI,OAAO,CAAC,MAAM,KAAK,cAAc,CAAC;oBAC/D,CAAC,CAAC,iBAAiB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,kBAAkB,KAAK,GAAG,CAAC,CAAC,CAClG,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,OAAO,gBAAgB,CAAC;QAC1B,CAAC;QAED,kBAAY,GAAG,UAAC,KAAU;YACxB,IAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;YACtC,IAAM,gBAAgB,GAAG,KAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE,KAAI,CAAC,KAAK,CAAC,cAAc,EAChH,KAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;YACtC,KAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,cAAE,gBAAgB,oBAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC;QAED,sBAAgB,GAAG,UAAC,KAAU;YAC5B,IAAM,cAAc,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACxD,IAAM,gBAAgB,GAAG,KAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE,cAAc,EAAE,KAAI,CAAC,KAAK,CAAC,cAAc,EAChH,KAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;YACtC,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,kBAAE,gBAAgB,oBAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/D,CAAC;QAED,sBAAgB,GAAG,UAAC,KAAU;YAC5B,IAAM,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;YAC1C,IAAM,gBAAgB,GAAG,KAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE,cAAc,EAChH,KAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;YACtC,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,kBAAE,gBAAgB,oBAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC/D,CAAC;QAED,yBAAmB,GAAG;YACpB,IAAM,uBAAuB,GAAG,CAAC,KAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC;YACpE,IAAM,gBAAgB,GAAG,KAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,cAAc,EAChG,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE,uBAAuB,CAAC,CAAC;YACtD,KAAI,CAAC,QAAQ,CAAC,EAAE,uBAAuB,2BAAE,gBAAgB,oBAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QACxE,CAAC;QAED,wBAAkB,GAAG,UAAC,KAAU;YAC9B,KAAI,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7D,CAAC;QAvGC,KAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,CAAC;YACP,eAAe,EAAE,EAAE;YACnB,gBAAgB,EAAE,EAAE;YACpB,UAAU,EAAE,EAAE;YACd,cAAc,EAAE,CAAC,CAAC;YAClB,cAAc,EAAE,KAAK;YACrB,uBAAuB,EAAE,KAAK,CAAC,YAAY,CAAC,gCAAgC;YAC5E,UAAU,EAAE,KAAK,CAAC,YAAY,CAAC,YAAY,IAAI,iBAAiB;SACjE,CAAC;;IACJ,CAAC;IAED,qCAAiB,GAAjB;QACQ,SAA0E,IAAI,CAAC,KAAK,EAAlF,UAAU,kBAAE,cAAc,sBAAE,cAAc,sBAAE,uBAAuB,6BAAe,CAAC;QAC3F,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,cAAc,EAAE,cAAc,EAAE,uBAAuB,CAAC,EAAE,CAAC,CAAC;SACpI;IACH,CAAC;IAED,sCAAkB,GAAlB,UAAmB,SAAmC,EAAE,SAAmC,EAAE,QAAc;QACnG,SAA0E,IAAI,CAAC,KAAK,EAAlF,UAAU,kBAAE,cAAc,sBAAE,cAAc,sBAAE,uBAAuB,6BAAe,CAAC;QAC3F,IAAI,CAAC,6CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YAC9E,IAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,cAAc,EAAE,cAAc,EAAE,uBAAuB,CAAC,EAAE,CAAC,CAAC;SACpI;IACH,CAAC;IAED,sCAAkB,GAAlB,UAAmB,IAAY,EAAE,UAAkB;QACzC,YAAQ,GAAK,IAAI,CAAC,KAAK,SAAf,CAAgB;QACxB,oBAAgB,GAAK,IAAI,CAAC,KAAK,iBAAf,CAAgB;QACxC,IAAM,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC;QAC9B,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACrE,IAAI,cAA4B,CAAC;QACjC,IAAI,UAAU,KAAK,gBAAgB,EAAE;YACnC,cAAc,GAAG,6CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;SACtE;aAAM;YACL,cAAc,GAAG,6CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;SACvE;QACD,OAAO,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;IAC1C,CAAC;IAmED,0BAAM,GAAN;;QAAA,iBAkEC;QAjEO,SAAoC,IAAI,CAAC,KAAK,EAA5C,QAAQ,gBAAE,YAAY,oBAAE,KAAK,WAAe,CAAC;QAC/C,SAAgD,IAAI,CAAC,KAAK,EAAxD,gBAAgB,wBAAE,uBAAuB,6BAAe,CAAC;QACjE,IAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QACxF,IAAI,QAAQ,GAAG,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QAC9F,QAAQ,GAAG,QAAQ,IAAI,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;QAC1D,IAAM,cAAc,GAAG,iDAAU,CAAC,iBAAiB,YAAI,GAAC,gBAAc,QAAU,IAAG,QAAQ,MAAG,CAAC;QAC/F,IAAM,eAAe,GAAG,+EAAkB,CAAC,KAAK,CAAC,CAAC;QAClD,eAAe,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC;QACpE,IAAM,eAAe,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,EAAE,CAAC,CAAC;QACxE,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAmB;YACnC,IAAI,eAAe,CAAC,SAAS,CAAC,UAAC,QAAa,IAAK,eAAQ,CAAC,KAAK,KAAK,OAAO,CAAC,MAAM,EAAjC,CAAiC,CAAC,KAAK,CAAC,CAAC,IAAI,OAAO,CAAC,MAAM,EAAE;gBAC5G,eAAe,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;aACxE;QACH,CAAC,CAAC,CAAC;QACH,IAAM,WAAW,GAAG;YAClB,EAAE,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAK,KAAK,CAAC,MAAM,UAAK,KAAK,CAAC,QAAU,EAAE;YACxE,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAK,KAAK,CAAC,MAAM,UAAK,KAAK,CAAC,SAAW,EAAE;SAC3E;QAED,OAAO,CACL,oEAAK,SAAS,EAAC,0BAA0B,EAAC,GAAG,EAAC,oBAAoB;YAC/D,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,CAAC,oEAAK,SAAS,EAAC,wBAAwB;gBACvE,sEAAO,IAAI,EAAC,MAAM,EAAC,QAAQ,EAAE,UAAC,KAAK,IAAK,YAAI,CAAC,YAAY,CAAC,KAAK,CAAC,EAAxB,CAAwB,EAAE,WAAW,EAAE,KAAK,CAAC,MAAM,GAAI;gBAC/F,uEAAQ,QAAQ,EAAE,UAAC,KAAK,IAAK,YAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAA9B,CAA8B,EAAE,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,IAC7F,WAAW,CAAC,GAAG,CAAC,UAAC,MAAW,IAAK,8EAAQ,KAAK,EAAE,MAAM,CAAC,KAAK,IAAG,MAAM,CAAC,KAAK,CAAU,EAApD,CAAoD,CAAC,CAChF;gBACT,uEAAQ,QAAQ,EAAE,UAAC,KAAK,IAAK,YAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAA5B,CAA4B,IACtD,eAAe,CAAC,GAAG,CAAC,UAAC,MAAW,IAAK,8EAAQ,KAAK,EAAE,MAAM,CAAC,KAAK,IAAG,MAAM,CAAC,KAAK,CAAU,EAApD,CAAoD,CAAC,CACpF;gBACT,uEAAQ,QAAQ,EAAE,UAAC,KAAK,IAAK,YAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAA5B,CAA4B,IACtD,eAAe,CAAC,GAAG,CAAC,UAAC,MAAW,IAAK,8EAAQ,KAAK,EAAE,MAAM,CAAC,KAAK,IAAG,MAAM,CAAC,KAAK,CAAU,EAApD,CAAoD,CAAC,CACpF;gBACT,oEAAK,SAAS,EAAC,iBAAiB;oBAC9B,sEAAO,IAAI,EAAC,UAAU,EAAC,EAAE,EAAC,iBAAiB,EAAC,cAAc,EAAE,uBAAuB,EAAE,QAAQ,EAAE,cAAM,YAAI,CAAC,mBAAmB,EAAE,EAA1B,CAA0B,GAAI;oBACnI,sEAAO,OAAO,EAAC,iBAAiB,IAAE,KAAK,CAAC,uBAAuB,CAAS,CACpE,CACF,CAAC,CAAC,CAAC,IAAI;YACb,wEAAS,SAAS,EAAC,oCAAoC;gBACrD,mEAAI,SAAS,EAAE,cAAc,IAC1B,eAAe,CAAC,GAAG,CAAC,iBAAO;oBAC1B,kEAAC,kDAAS,IACR,GAAG,EAAK,OAAO,CAAC,SAAS,SAAI,OAAO,CAAC,OAAO,SAAI,OAAO,CAAC,UAAY,EACpE,OAAO,EAAE,OAAO,EAChB,YAAY,EAAE,YAAY,EAC1B,UAAU,EAAE,KAAI,CAAC,cAAc,EAC/B,YAAY,EAAE,KAAI,CAAC,gBAAgB,EACnC,KAAK,EAAE,KAAK,GACZ;gBAPF,CAOE,CACH,CACE,CACG;YACT,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC;gBAC5B,CAAC,CAAC,oEAAK,SAAS,EAAC,mBAAmB,IAAE,KAAK,CAAC,cAAc,CAAO;gBACjE,CAAC,CAAC,IAAI,CAAC;YAET,oEAAK,SAAS,EAAC,uBAAuB,EAAC,GAAG,EAAC,iBAAiB;gBAC1D,2DAAC,iBAAiB,IAChB,WAAW,EAAE,gBAAgB,CAAC,MAAM,EACpC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAC7B,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAC1B,YAAY,EAAE,IAAI,CAAC,gBAAgB,GACnC,CACE,CACF,CACP,CAAC;IACJ,CAAC;IACH,gBAAC;AAAD,CAAC,CA/KsC,mDAAa,GA+KnD;;AASD;IAAgC,qCAAqC;IAArE;QAAA,qEAmCC;QAjCC,sBAAgB,GAAG,UAAC,KAAa,IAAK;YACpC,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACjC,CAAC,EAFqC,CAErC;;IA+BH,CAAC;IA7BC,kCAAM,GAAN;QACQ,SAAuC,IAAI,CAAC,KAAK,EAA/C,WAAW,mBAAE,SAAS,iBAAE,QAAQ,cAAe,CAAC;QACxD,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC;QACpD,IAAI,SAAS,KAAK,CAAC,EAAE;YACnB,OAAO,sEAAS,CAAC;SAClB;QAED,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7C,IAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,GAAG,CAAC,CAAC,CAAC;QAGnD,IAAM,SAAS,GAAG,EAAE,CAAC;QACrB,KAAK,IAAI,CAAC,GAAG,SAAS,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;YACxC,IAAM,aAAa,GAAG,iDAAU,CAAC,0BAA0B,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,CAAC,KAAK,SAAS,EAAE,CAAC,CAAC;YACvG,IAAM,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YACpB,IAAM,YAAY,GAAG,CACnB,mEAAI,GAAG,EAAE,KAAK,CAAC,QAAQ,EAAE;gBACvB,kEAAG,SAAS,EAAE,aAAa,EAAE,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAG,KAAK,CAAK,CACxE,CACN,CAAC;YACF,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC9B;QAED,OAAO,CACL,uEACG,SAAS,CACP,CACN,CAAC;IACJ,CAAC;IACH,wBAAC;AAAD,CAAC,CAnC+B,mDAAa,GAmC5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9PyB;AACU;AACR;AAa5B;IAAgC,8BAA6B;IAC3D,oBAAY,KAAY;QAAxB,YACE,kBAAM,KAAK,CAAC,SACb;QAED,eAAS,GAAG;YACV,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC,CAAC;;IAJF,CAAC;IAMD,gCAAW,GAAX,UAAY,KAAU;QACpB,OAAO,oEAAK,SAAS,EAAC,wBAAwB,IAAE,KAAK,CAAC,WAAW,CAAO,CAAC;IAC3E,CAAC;IAED,wCAAmB,GAAnB,UAAoB,QAAa;QAC/B,IAAM,gBAAgB,GAAG,EAAE,CAAC;QAC5B,IAAI,QAAQ,CAAC,QAAQ,EAAE;YACrB,IAAI,WAAW,GAAG,QAAQ,CAAC,QAAQ,CAAC;YACpC,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;YACtC,IAAI,UAAU,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC3C,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;YAElB,OAAO,UAAU,GAAG,CAAC,CAAC,EAAE;gBACtB,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBACvD,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC;gBACtE,IAAM,SAAS,GAAG,EAAE,CAAC;gBACrB,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC;gBACrD,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;gBAC5D,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACjC,WAAW,GAAG,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAC9C,UAAU,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACxC;YACD,IAAI,WAAW,EAAE;gBACf,gBAAgB,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC,CAAC;aAC1C;SACF;QACD,OAAO,gBAAgB,CAAC;IAC1B,CAAC;IAED,2BAAM,GAAN;QACQ,SAA+C,IAAI,CAAC,KAAK,EAAvD,OAAO,eAAE,KAAK,aAAE,QAAQ,gBAAE,SAAS,iBAAE,GAAG,SAAe,CAAC;QAChE,OAAO,CACL,2DAAC,iDAAK,IAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,SAAS,EAAC,iBAAiB;YACzG,oEAAK,SAAS,EAAC,qBAAqB;gBAClC,oEAAK,SAAS,EAAC,wCAAwC;oBACrD,sEAAO,SAAS,EAAC,OAAO;wBACtB;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,QAAQ,CAAM;4BACzG,uEAAK,QAAQ,CAAM,CAChB;wBACL;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,SAAS,CAAM;4BAC1G,uEAAK,SAAS,CAAM,CACjB;wBACL;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,QAAQ,CAAM;4BACzG,uEAAK,GAAG,CAAM,CACX;wBACL;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,KAAK,CAAM;4BACtG,uEAAK,OAAO,CAAC,IAAI,CAAM,CACpB;wBACL;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,WAAW,CAAM;4BAC5G,uEAEI,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,UAAC,SAAgB;gCACrD,OAAO,CACL;oCACE,yEAAO,SAAS,CAAC,CAAC,CAAC,CAAQ;oCACzB,SAAS,CAAC,CAAC,CAAC,IAAI,kEAAG,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,EAAE,MAAM,EAAC,QAAQ,IAAE,SAAS,CAAC,CAAC,CAAC,CAAK,CACtE,CACR,CAAC;4BACJ,CAAC,CAAC,CAED,CACF;wBACJ,OAAO,CAAC,GAAG,IAAI;4BACd,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,SAAS,CAAM;4BAC1G;gCACE,kEAAG,IAAI,EAAE,OAAO,CAAC,GAAG,EAAE,MAAM,EAAC,MAAM,IAAE,OAAO,CAAC,GAAG,CAAK,CAClD,CACF;wBACL;4BACE,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,OAAO,CAAM;4BACxG,uEAAK,OAAO,CAAC,OAAO,CAAM,CACvB;wBACJ,OAAO,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,IAAI;4BAClC,mEAAI,SAAS,EAAC,qEAAqE,IAAE,KAAK,CAAC,gBAAgB,CAAM;4BACjH;gCACE,sEAAO,SAAS,EAAC,mBAAmB,IAEhC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,WAAgB;oCACxC,OAAO,CACL;wCACE,uEAAK,6CAAM,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,CAAM;wCACvE,uEAAK,WAAW,CAAC,OAAO,CAAM,CAC3B,CACN;gCACH,CAAC,CAAC,CAEE,CACL,CACF,CACC,CACJ,CACF,CACA,CACT,CAAC;IACJ,CAAC;IACH,iBAAC;AAAD,CAAC,CA7G+B,4CAAK,CAAC,SAAS,GA6G9C;;;;;;;;;;;;;;AC5HD;AAAA;AAAA;AAAA;AAAkC;AAO3B,IAAM,eAAe,GAAc,UAAC,EAAW;QAAT,OAAO;IAClD,IAAM,kBAAkB,GAAG,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,kBAAkB,KAAK,GAAG,CAAC;IAEpH,OAAO,CACL,wHACI,kBAAkB,CAAC,CAAC;QACpB,oEAAK,SAAS,EAAC,wBAAwB;YACrC,oEAAK,KAAK,EAAC,4BAA4B,EAAC,UAAU,EAAC,8BAA8B,EAAC,OAAO,EAAC,aAAa;gBACrG;oBACE,qEACE,CAAC,EAAC,wOACgH,GAClH;oBACF,qEACE,CAAC,EAAC,iOACwG,GAC1G,CACA,CACA,CACF;QACR,CAAC,CAAC,IAAI,CACL,CACJ,CAAC;AACJ,CAAC,CAAC;AAEa,8EAAe,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCc;AAEU;AAEvD,IAAM,UAAU,GAAG;IACjB,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;CACV,CAAC;AAEF,IAAM,iBAAiB,GAAG;IACxB,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;IACT,SAAS;CACV,CAAC;AAEF;;;GAGG;AACI,SAAS,oBAAoB,CAAC,IAAY;IAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IACtC,IAAM,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;IAC7D,IAAM,WAAW,GAAG,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC;IACjF,OAAO,EAAE,KAAK,SAAE,WAAW,eAAE,CAAC;AAChC,CAAC;AAED,SAAS,IAAI,CAAC,GAAG;IACf,IAAI,IAAI,GAAG,IAAI,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACnC,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,mBAAmB;KACnE;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAQD;IAAsC,4BAA4B;IAAlE;QAAA,qEA2BC;QA1BC,iBAAW,GAAG,UAAC,KAAK;YAClB,IAAI,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE;gBACtB,KAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;aACnE;QACH,CAAC;;IAsBH,CAAC;IApBC,yBAAM,GAAN;QACQ,SAAqB,IAAI,CAAC,KAAK,EAA7B,GAAG,WAAE,SAAS,eAAe,CAAC;QACtC,IAAM,QAAQ,GAAG,oBAAoB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC/C,IAAM,KAAK,GAAwB;YACjC,UAAU,EAAE,QAAQ,CAAC,KAAK;YAC1B,WAAW,EAAE,QAAQ,CAAC,WAAW;SAClC,CAAC;QACF,OAAO,CACL,2DAAC,mEAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAC,uDAAuD;YACzF,qEAAM,SAAS,EAAE,8BAA2B,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAE,EAC1E,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,IAAI,CAAC,WAAW,IACxB,GAAG,CAAC,KAAK,CAAC,CAAC;gBACP,GAAG,CAAC,GAAG,UAAK,GAAG,CAAC,KAAO,CAAC,CAAC;gBAC5B,KAAG,GAAG,CAAC,GAAK,CAET,CACC,CACX,CAAC;IACJ,CAAC;IACH,eAAC;AAAD,CAAC,CA3BqC,mDAAa,GA2BlD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxH4C;AACX;AAEgE;AAExD;AAuB1C;IAA6C,2CAA2B;IAGtE,iCAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAWb;QAmBD,4BAAsB,GAAG,UAAC,CAA0B;YAClD,IAAM,MAAM,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,KAAK,KAAK,CAAC,CAAC,QAAQ,EAAtB,CAAsB,CAAC,CAAC;YAC9D,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,CAAC,EAAE,MAAM,UAAE,YAAY,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7F,CAAC,CAAC;QAEF,aAAO,GAAG;YACR,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;YACzG,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC;QAED,YAAM,GAAG;YACC,kBAAc,GAAK,KAAI,CAAC,KAAK,eAAf,CAAgB;YAEtC,IAAI,CAAC,cAAc,EAAE;gBACnB,OAAO,KAAI,CAAC,QAAQ,CAAC;oBACnB,WAAW,EAAE,6BAA6B;iBAC3C,CAAC,CAAC;aACJ;YAED,KAAI,CAAC,QAAQ,CAAC,EAAE,YAAY,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;YAE/D,IAAM,IAAI,GAAmB;gBAC3B,QAAQ,EAAE,cAAc,CAAC,KAAK;aAC/B,CAAC;YAEF,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,MAAgC;gBAC9D,IAAM,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,OAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,KAAK,KAAI,EAAE,CAAC,CAAC;gBACvD,IAAI,OAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,QAAQ,MAAK,SAAS,EAAE;oBAClC,KAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;iBACpD;qBAAM;oBACL,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;iBACvE;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;;gBACV,IAAI,YAAY,GAAG,UAAG,CAAC,IAAI,0CAAE,OAAO,YAAI,GAAG,CAAC,IAAI,0CAAE,KAAK,KAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,UAAU,IAAI,EAAE,CAAC;gBAC5F,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;gBAC/C,KAAI,CAAC,QAAQ,CAAC;oBACZ,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,KAAK;oBACd,YAAY;iBACb,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAED,kBAAY,GAAG,UAAC,MAAc;YAC5B,IAAM,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC;gBAC5C,OAAO,kEAAG,GAAG,EAAE,CAAC,IAAG,CAAC,CAAK,CAAC;YAC5B,CAAC,CAAC,CAAC;YACH,OAAO,wHAAG,SAAS,CAAI,CAAC;QAC1B,CAAC;QA7EC,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,KAAK;YACZ,YAAY,EAAE,EAAE;YAChB,WAAW,EAAE,EAAE;YACf,cAAc,EAAE,IAAI;YACpB,MAAM,EAAE,EAAE;YACV,OAAO,EAAE,KAAK;YACd,aAAa,EAAE,EAAE;YACjB,MAAM,EAAE,IAAI;SACb,CAAC;;IACJ,CAAC;IAEK,mDAAiB,GAAvB;;;;;4BACkB,qBAAM,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;;wBAAvC,OAAO,GAAG,SAA6B;wBAC7C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;wBACjB,aAAa,GAAmC,OAAO,CAAC,GAAG,CAAC,WAAC;4BACjE,OAAO;gCACL,KAAK,EAAE,CAAC,CAAC,QAAQ;gCACjB,KAAK,EAAE,CAAC,CAAC,IAAI;gCACb,WAAW,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,OAAO;6BACxC,CAAC;wBACJ,CAAC,CAAC,CAAC;wBAEG,cAAc,GAAG,cAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,MAAM,EAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;wBACjE,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,WAAC,IAAI,qBAAc,CAAC,KAAK,KAAK,CAAC,CAAC,QAAQ,EAAnC,CAAmC,CAAC,CAAC;wBAEtE,IAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,iBAAE,cAAc,kBAAE,MAAM,UAAE,CAAC,CAAC;;;;;KAC1D;IAoDD,wCAAM,GAAN;QACU,SAAK,GAAK,IAAI,CAAC,KAAK,MAAf,CAAgB;QACvB,SAAsF,IAAI,CAAC,KAAK,EAA9F,aAAa,qBAAE,cAAc,sBAAE,MAAM,cAAE,MAAM,cAAE,WAAW,mBAAE,YAAY,oBAAE,KAAK,WAAe,CAAC;QAEvG,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;QAChC,IAAM,UAAU,GAAG,kDAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACpC,IAAM,eAAe,GAAG,kDAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QACpD,IAAM,gBAAgB,GAAG,kDAAE,CAAC,mBAAmB,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;QACpE,IAAM,2BAA2B,GAAG,kDAAE,CAAC,SAAS,EAAE,MAAM,CAAC,sBAAsB,CAAC,CAAC;QACjF,IAAM,kBAAkB,GAAG,kDAAE,CAAC,mBAAmB,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC;QAEzE,OAAO,CACL,2DAAC,iDAAK,IACJ,MAAM,EAAE,IAAI,EACZ,SAAS,EAAE,IAAI,CAAC,OAAO,EACvB,SAAS,EAAE,UAAU,EACrB,KAAK,EACH,oEAAK,SAAS,EAAE,eAAe;gBAC5B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,2DAAC,mDAAO,IAAC,IAAI,EAAE,EAAE,GAAI,CAAC,CAAC,CAAC,2DAAC,kDAAM,IAAC,IAAI,EAAC,UAAU,GAAG;gBACxE,qEAAM,SAAS,EAAC,OAAO,qBAAsB,CACzC;YAGR,oEAAK,SAAS,EAAC,SAAS;gBACtB,sEAAO,SAAS,EAAC,cAAc;oBAC7B,2DAAC,kDAAM,IACL,OAAO,EAAE,aAAa,EACtB,KAAK,EAAE,cAAc,EACrB,QAAQ,EAAE,IAAI,CAAC,sBAAsB,GACrC;oBACD,WAAW;wBACV,sEAAO,SAAS,EAAE,gBAAgB,IAAG,WAAW,CAAS,CAErD,CACJ;YACN,oEAAK,SAAS,EAAE,2BAA2B,IACxC,MAAM,IAAI,sEAAO,SAAS,EAAE,kBAAkB,IAAG,MAAM,CAAC,OAAO,CAAS,CACrE;YAEN,oEAAK,SAAS,EAAE,MAAM,CAAC,eAAe;gBACrC,MAAM;oBACL,qEAAM,SAAS,EAAE,MAAM,CAAC,UAAU,IAAG,MAAM,CAAQ;gBAEpD,KAAK;oBACJ,qEAAM,SAAS,EAAE,MAAM,CAAC,SAAS,IAAG,YAAY,CAAQ,CAEpD;YAEN,oEAAK,SAAS,EAAC,gCAAgC;gBAC7C,2DAAC,kDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,MAAM,cAAkB;gBAChE,2DAAC,kDAAM,IAAC,OAAO,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,aAAiB,CAC9D,CACA,CACT,CAAC;IACJ,CAAC;IACH,8BAAC;AAAD,CAAC,CA3I4C,mDAAa,GA2IzD;;AAED,IAAM,SAAS,GAAG,iEAAa,CAAC,UAAC,KAAmB;IAClD,IAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;IAC9B,OAAO;QACL,KAAK,EAAE,mDAAG,6HAET;QACD,gBAAgB,EAAE,mDAAG,+LACN,EAA2B,wBACzB,EAAgB,qBACnB,EAAgB,+BAE7B,KAJc,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,EACzB,KAAK,CAAC,OAAO,CAAC,EAAE,EACnB,KAAK,CAAC,OAAO,CAAC,EAAE,CAE7B;QACD,KAAK,EAAE,mDAAG,0OACQ,EAAG,wFAGK,EAAgB,gBAAiB,EAAG,SAC7D,KAJiB,GAAG,EAGK,KAAK,CAAC,MAAM,CAAC,GAAG,EAAiB,GAAG,CAC7D;QACD,sBAAsB,EAAE,mDAAG,gIACR,EAAgB,SAClC,KADkB,KAAK,CAAC,OAAO,CAAC,EAAE,CAClC;QACD,aAAa,EAAE,mDAAG,mKACP,EAAqB,iDAEf,EAAqC,SACrD,KAHU,KAAK,CAAC,MAAM,CAAC,QAAQ,EAEf,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CACrD;QACD,SAAS,EAAE,mDAAG,4MAGH,EAAqB,SAC/B,KADU,KAAK,CAAC,MAAM,CAAC,QAAQ,CAC/B;QACD,UAAU,EAAE,mDAAG,wJAEJ,EAAG,SACb,KADU,GAAG,CACb;QACD,eAAe,EAAE,mDAAG,iRAEH,EAAqC,sBACvC,EAAwB,mCAEtB,EAAwB,+CAGxC,KANgB,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,EACvC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAEtB,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAGxC;QACD,UAAU,EAAE,mDAAG,mFACd;QACD,SAAS,EAAE,mDAAG,kHACH,EAAG,SACb,KADU,GAAG,CACb;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEI,IAAM,eAAe,GAAG,6DAAS,CAAC,uBAAuB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7NxC;AACI;AAGe;AACS;AAGtD,IAAM,SAAS,GAAG,iEAAa,CAAC,UAAC,KAAmB;IAClD,OAAO;QACL,UAAU,EAAE,mDAAG,wHACA,EAAwB,SACtC,KADc,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CACtC;KACF,CAAC;AACJ,CAAC,CAAC,CAAC;AAEI,IAAM,OAAO,GAAiC,UAAC,KAAyB;;IAC7E,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC/B,IAAM,KAAK,GAAG,4DAAQ,EAAE,CAAC;IACzB,IAAM,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;IAEhC,OAAO,CACL,wEACG,cAAO,CAAC,YAAY,0CAAE,MAAM,IAAG,CAAC;QAC/B;YACE,2DAAC,kDAAM,IAAC,IAAI,EAAC,UAAU,GAAG;YAC1B,qEAAM,SAAS,EAAE,MAAM,CAAC,UAAU;4BAAK,OAAO,CAAC,YAAY;mBAAE,MAAM;oBAAS,CAC3E,CAED,CACP,CAAC;AACJ,CAAC,CAAC;AAEa,sEAAO,EAAC;;;;;;;;;;;;;;ACjCvB;AAAA;AAAA;AAAA;AAA0B;AAOX,SAAS,gBAAgB,CAAC,KAA4B;IAC3D,gBAAY,GAAK,KAAK,aAAV,CAAW;IAC/B,OAAO,CACL,oEAAK,SAAS,EAAC,kBAAkB;QAC/B,oEAAK,SAAS,EAAC,kCAAkC,IAC9C,YAAY,CAAC,GAAG,CAAC,aAAG,IAAI,4EAAM,GAAG,EAAE,GAAG,CAAC,aAAa,EAAE,SAAS,EAAC,kBAAkB,IAAE,GAAG,CAAC,IAAI,CAAQ,EAA5E,CAA4E,CAAC,CAClG;QACN,oEAAK,SAAS,EAAC,kCAAkC,IAC9C,YAAY,CAAC,GAAG,CAAC,aAAG,IAAI,4EAAM,GAAG,EAAE,GAAG,CAAC,aAAa,EAAE,SAAS,EAAC,kBAAkB,IAAE,GAAG,CAAC,IAAI,CAAQ,EAA5E,CAA4E,CAAC,CAClG;QACN,oEAAK,SAAS,EAAC,qCAAqC,IACjD,YAAY,CAAC,GAAG,CAAC,aAAG,IAAI,4EAAM,GAAG,EAAE,GAAG,CAAC,aAAa,EAAE,SAAS,EAAC,qBAAqB,IAAE,GAAG,CAAC,OAAO,CAAQ,EAAlF,CAAkF,CAAC,CACxG,CACF,CACP,CAAC;AACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBgD;AACrB;AAC8B;AAIH;AACpB;AACe;AACA;AACF;AACmE;AAC9C;AAsBrE;IAAoC,kCAAuD;IACzF,wBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAMb;QAYD,oBAAc,GAAG,UAAC,GAAW,EAAE,OAAiB,EAAE,QAAkB;YAClE,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC/E;QACH,CAAC;QAkBD,gBAAU,GAAG,UAAC,IAAoB;YAChC,IAAM,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,QAAsB,CAAC;YAClD,OAAO,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChD,CAAC;QAED,gBAAU,GAAG;YACX,IAAM,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,QAAsB,CAAC;YAClD,OAAO,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;QAED,qBAAe,GAAG,UAAC,IAAoB;YACrC,IAAM,OAAO,GAAG,KAAI,CAAC,KAAK,CAAC,QAAsB,CAAC;YAClD,OAAO,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC5D,CAAC;QApDC,KAAI,CAAC,KAAK,GAAG;YACX,MAAM,EAAE,EAAE;YACV,MAAM,EAAE,EAAE;YACV,IAAI,EAAE,KAAK;SACZ,CAAC;;IACJ,CAAC;IAED,0CAAiB,GAAjB;QAAA,iBAQC;QAPC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE;YAC3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC3B;QACD,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,qBAAqB,CAAC;YACpB,KAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAQD,2CAAkB,GAAlB;QAAA,iBAMC;QALC,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACpC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC;aACnC,IAAI,CAAC,gBAAM;YACV,KAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,UAAE,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAkB,GAAlB;QAAA,iBAMC;QALC,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACpC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,CAAC;aACnC,IAAI,CAAC,gBAAM;YACV,KAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,UAAE,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IAiBD,+BAAM,GAAN;QAAA,iBAoHC;QAnHC,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAsB,CAAC;QAClD,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QACvC,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;QACnD,IAAM,UAAU,GAAG,SAAS,GAAG,IAAI,CAAC;QACpC,IAAM,gBAAgB,GAAG,SAAS,GAAG,GAAG,IAAI,OAAO,CAAC,YAAY,IAAI,UAAU,IAAI,SAAS,GAAG,IAAI,CAAC;QACnG,IAAM,GAAG,GAAG,6CAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzD,IAAM,gBAAgB,GAAG,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC;QACnF,IAAM,eAAe,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAEjD,OAAO,CACL,oEAAK,SAAS,EAAE,+BAA6B,YAAc;YACzD,oEAAK,SAAS,EAAC,iBAAiB;gBAC9B,oEAAK,SAAS,EAAC,qBAAqB;oBAClC,oEAAK,SAAS,EAAC,yBAAyB;wBACtC,oEAAK,SAAS,EAAC,aAAa;4BAC1B,2DAAC,kDAAM,IAAC,IAAI,EAAC,SAAS,GAAG;4BACzB,yEAAO,GAAG,CAAQ,CACd;wBACL,OAAO,CAAC,KAAK,IAAI,2DAAC,YAAY,IAAC,KAAK,EAAE,OAAO,CAAC,KAAK,GAAI,CACpD;oBACN,oEAAK,SAAS,EAAC,sBAAsB;wBACnC,2DAAC,yDAAa,IAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,GAAI,CAC5D;oBACN,2DAAC,yDAAgB,IAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,gBAAgB,IAAI,SAAS,GAAI;oBAC/F,OAAO,CAAC,aAAa;wBACpB,oEAAK,SAAS,EAAC,iBAAiB;4BAC9B,2DAAC,2DAAe,QACb,UAAC,EAAwB;oCAAtB,SAAS,iBAAE,SAAS;gCAAO,QAC7B,2DAAC,4DAAgB,IACf,SAAS,EAAC,uCAAuC,EACjD,OAAO,EAAE;wCACP,SAAS,CAAC,gEAAe,EAAE;4CACzB,UAAU,EAAE,KAAI,CAAC,UAAU;4CAC3B,QAAQ,EAAE,KAAI,CAAC,eAAe;4CAC9B,SAAS,EAAE,SAAS;yCACrB,CAAC,CAAC;oCACL,CAAC,GACD,CACH;4BAX8B,CAW9B,CACe;4BAClB,2DAAC,2DAAe,QACb,UAAC,EAAwB;oCAAtB,SAAS,iBAAE,SAAS;gCAAO,QAC7B,2DAAC,qDAAS,IACR,SAAS,EAAC,uCAAuC,EACjD,OAAO,EAAE;wCACP,SAAS,CAAC,kDAAQ,EAAE;4CAClB,QAAQ,EAAE,OAAO,CAAC,YAAY,KAAK,GAAG;4CACtC,QAAQ,EAAE,eAAe;4CACzB,QAAQ,EAAE,KAAI,CAAC,UAAU;4CACzB,SAAS,EAAE,SAAS;yCACrB,CAAC,CAAC;oCACL,CAAC,GACD,CACH;4BAZ8B,CAY9B,CACe,CACd,CAEJ;gBACL,OAAO,CAAC,QAAQ;oBACf,oEAAK,SAAS,EAAC,yBAAyB;wBACtC,oEAAK,SAAS,EAAC,qBAAqB;4BAClC,2DAAC,mDAAO,IAAC,SAAS,EAAC,OAAO,EAAC,OAAO,EAAE,OAAO,CAAC,QAAQ;gCAClD,qEAAM,SAAS,EAAC,mBAAmB,yBAA0B,CACrD;4BACV,yEAAO,OAAO,CAAC,QAAQ,CAAQ,CAC3B,CACF;gBAEP,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC;oBACtC,oEAAK,SAAS,EAAC,cAAc,IAC1B,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,aAAG;wBACnC,kEAAC,iDAAQ,IACP,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,EACxB,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,GAAG,CAAC,GAAG,KAAK,OAAO,CAAC,eAAe,EAC9C,OAAO,EAAE,KAAI,CAAC,cAAc,GAC5B;oBALF,CAKE,CAAC,CAED;gBAEP,IAAI,CAAC,KAAK,CAAC,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;oBACtD,2DAAC,wDAAe,IAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,GAAI;gBAEhF,gBAAgB,IAAI,CAAC,UAAU;oBAC9B,oEAAK,SAAS,EAAC,uBAAuB;wBACpC;4BAAI,2DAAC,kDAAM,IAAC,IAAI,EAAC,WAAW,GAAG;4CAAkB;wBACjD,2DAAC,yDAAgB,IAAC,YAAY,EAAE,OAAO,CAAC,YAAY,GAAI,CACpD,CAEJ;YACL,gBAAgB,IAAI,UAAU;gBAC7B,oEAAK,SAAS,EAAC,wBAAwB;oBACrC,oEAAK,SAAS,EAAC,uBAAuB;wBACpC;4BAAI,2DAAC,kDAAM,IAAC,IAAI,EAAC,WAAW,GAAG;4CAAkB;wBACjD,2DAAC,yDAAgB,IAAC,YAAY,EAAE,OAAO,CAAC,YAAY,GAAI,CACpD,CACF;YAER,oEAAK,SAAS,EAAC,uBAAuB;gBACpC,oEAAK,SAAS,EAAC,4BAA4B;oBACzC,2DAAC,kDAAM,IAAC,IAAI,EAAC,UAAU,GAAG;oBAC1B,yEAAO,OAAO,CAAC,UAAU,CAAQ,CAC7B;gBACL,OAAO,CAAC,KAAK;oBACZ,oEAAK,SAAS,EAAC,4BAA4B;wBACzC,2DAAC,kDAAM,IAAC,IAAI,EAAC,OAAO,GAAG;wBACvB,yEAAO,OAAO,CAAC,KAAK,CAAQ,CACxB;gBAEP,OAAO,CAAC,MAAM,IAAI,2DAAC,aAAa,IAAC,MAAM,EAAE,OAAO,CAAC,MAAM,EAAE,SAAS,EAAC,4BAA4B,GAAG;gBAClG,OAAO,CAAC,KAAK,IAAI,2DAAC,YAAY,IAAC,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,SAAS,EAAC,4BAA4B,GAAG,CAC3F,CACF,CACP,CAAC;IACJ,CAAC;IACH,qBAAC;AAAD,CAAC,CA9KmC,mDAAa,GA8KhD;;AAOD,SAAS,WAAW,CAAC,KAAuB;IAClC,QAAI,GAAe,KAAK,KAApB,EAAE,QAAQ,GAAK,KAAK,SAAV,CAAW;IACjC,IAAM,QAAQ,GAAG,uEAAoB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5D,IAAM,cAAc,GAAG,cAAM;QAAG,QAAQ;QAAC,sEAAK;QAAC,IAAI,CAAC,SAAS,CAAI,EAApC,CAAoC,CAAC;IAElE,OAAO,CACL,oEAAK,SAAS,EAAC,cAAc;QAC3B,2DAAC,kDAAM,IAAC,IAAI,EAAC,4BAA4B,GAAG;QAC3C,QAAQ,IAAI,qEAAM,SAAS,EAAC,mBAAmB;YAAE,IAAI,CAAC,IAAI;iBAAU;QACrE,2DAAC,mDAAO,IAAC,SAAS,EAAC,WAAW,EAAC,OAAO,EAAE,cAAc;YACpD,qEAAM,SAAS,EAAC,oBAAoB,IAAE,IAAI,CAAC,SAAS,CAAQ,CACpD,CACN,CACP,CAAC;AACJ,CAAC;AAMD,IAAM,YAAY,GAA0B,UAAC,EAAS;QAAP,KAAK;IAClD,OAAO,CACL,oEAAK,SAAS,EAAC,mBAAmB,IAC/B,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACjB,KAAK,CAAC,GAAG,CAAC,cAAI,IAAI,kEAAC,WAAW,IAAC,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,GAAI,EAA7D,CAA6D,CAAC,CAAC,CAAC;QAClF,2DAAC,WAAW,IAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,GAAI,CAE7B,CACP,CAAC;AACJ,CAAC,CAAC;AAOF;IAA4B,iCAAiC;IAA7D;;IASA,CAAC;IARC,8BAAM,GAAN;QAAA,iBAOC;QANC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,WAAC,IAAI,QAChC,oEAAK,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO;YACxD,2DAAC,kDAAM,IAAC,IAAI,EAAC,QAAQ,GAAG;YACxB,yEAAO,CAAC,CAAC,IAAI,CAAQ,CACjB,CACP,EALiC,CAKjC,CAAC,CAAC;IACL,CAAC;IACH,oBAAC;AAAD,CAAC,CAT2B,mDAAa,GASxC;AAOD;IAA2B,gCAAgC;IAA3D;;IASA,CAAC;IARC,6BAAM,GAAN;QAAA,iBAOC;QANC,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAC,IAAI,QAC/B,oEAAK,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,MAAM;YACvD,2DAAC,kDAAM,IAAC,IAAI,EAAC,QAAQ,GAAG;YACxB,yEAAO,CAAC,CAAC,IAAI,CAAQ,CACjB,CACP,EALgC,CAKhC,CAAC,CAAC;IACL,CAAC;IACH,mBAAC;AAAD,CAAC,CAT0B,mDAAa,GASvC;;;;;;;;;;;;;ACpRD;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0B;AAC6B;AACG;AAS3C,SAAS,gBAAgB,CAAC,KAA4B;IAC3D,WAAO,GAAwB,KAAK,QAA7B,EAAE,MAAM,GAAgB,KAAK,OAArB,EAAE,SAAS,GAAK,KAAK,UAAV,CAAW;IAC7C,IAAM,UAAU,GAAG,OAAO,CAAC,IAAI,KAAK,GAAG,CAAC;IACxC,IAAM,IAAI,GAAG,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,KAAK,EAAE,CAAC;IAC/C,IAAM,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IACxC,IAAM,WAAW,GAAG,OAAO,CAAC,YAAY,KAAK,GAAG,CAAC;IACjD,IAAM,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,KAAK,EAAE,CAAC;IACpD,IAAM,YAAY,GAAG,OAAO,CAAC,KAAK,KAAK,GAAG,CAAC;IAC3C,IAAM,UAAU,GAAG,OAAO,CAAC,gBAAgB,KAAK,GAAG,CAAC;IACpD,IAAM,OAAO,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;IAC9C,IAAM,aAAa,GAAG,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;IAEvD,OAAO,CACL,oEAAK,SAAS,EAAE,wBAAqB,SAAS,IAAI,EAAE,CAAE;QACpD,2DAAC,oBAAoB,IAAC,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAE,WAAW,EAAE,OAAO,EAAC,kBAAkB,GAAG;QACrF,2DAAC,oBAAoB,IAAC,IAAI,EAAC,OAAO,EAAC,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,IAAI,OAAO,CAAC,GAAG,EAAE,OAAO,EAAC,eAAe,GAAG;QACrG,2DAAC,oBAAoB,IAAC,IAAI,EAAC,UAAU,EAAC,KAAK,EAAE,UAAU,EAAE,OAAO,EAAC,2CAA2C,GAAG;QAC/G,2DAAC,oBAAoB,IAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,8CAA4C,OAAO,CAAC,eAAiB,GAAI;QACtI,2DAAC,oBAAoB,IAAC,IAAI,EAAC,gBAAgB,EAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,GAAI;QACtF,2DAAC,oBAAoB,IAAC,IAAI,EAAC,iBAAiB,EAAC,KAAK,EAAE,YAAY,EAAE,OAAO,EAAC,kCAAkC,GAAG;QAC/G,2DAAC,oBAAoB,IAAC,IAAI,EAAC,SAAS,EAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,KAAK,GAAI;QAC7E,2DAAC,oBAAoB,IAAC,IAAI,EAAC,gBAAgB,EAAC,KAAK,EAAE,WAAW,EAAE,OAAO,EAAC,sBAAsB,GAAG,CAC7F,CACP,CAAC;AACJ,CAAC;AASD,SAAS,oBAAoB,CAAC,KAAgC;IACpD,SAAK,GAA0B,KAAK,MAA/B,EAAE,IAAI,GAAoB,KAAK,KAAzB,EAAE,IAAI,GAAc,KAAK,KAAnB,EAAE,OAAO,GAAK,KAAK,QAAV,CAAW;IAC7C,IAAI,IAAI,GAAG,CACT,oEAAK,SAAS,EAAE,6BAA0B,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAE;QACnE,2DAAC,iEAAM,IAAC,IAAI,EAAE,IAAI,GAAI,CAClB,CACP,CAAC;IACF,IAAI,OAAO,IAAI,KAAK,EAAE;QACpB,IAAI,GAAG,CACL,2DAAC,mEAAO,IAAC,SAAS,EAAC,QAAQ,EAAC,OAAO,EAAE,OAAO,IACzC,IAAI,CACG,CACX,CAAC;KACH;IACD,OAAO,IAAI,CAAC,CAAC,CAAC,kEAAG,IAAI,EAAE,IAAI,EAAE,MAAM,EAAC,QAAQ,IAAE,IAAI,CAAK,CAAC,CAAC,CAAC,IAAI,CAAC;AACjE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3D4C;AACtB;AACK;AAG5B,IAAM,gBAAgB,GAAG,mBAAmB,CAAC;AAC7C,IAAM,qBAAqB,GAAG,gBAAgB,CAAC;AAC/C,IAAM,gBAAgB,GAAG,EAAE,CAAC;AAC5B,IAAM,gBAAgB,GAAG,GAAG,CAAC;AAC7B,IAAM,sBAAsB,GAAG,GAAG,CAAC;AACnC,IAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC;AAyB/D;IAA6C,mCAAyD;IAWpG,yBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAQb;QASD,gBAAU,GAAG,aAAG;YACd,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAM,KAAK,GAAG,GAAG,IAAI,GAAG,CAAC,WAAW,IAAI,CAAC,CAAC;YAC1C,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,CAAC,CAAC;QAC3B,CAAC;QAED,0BAAoB,GAAG,UAAC,KAAa,EAAE,WAAoB;YACzD,IAAM,KAAK,GAAa,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACjD,IAAM,iBAAiB,GAAG,KAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;YAC3D,IAAI,QAAgB,CAAC;YACrB,IAAI,WAAW,KAAK,SAAS,EAAE;gBAC7B,QAAQ,GAAG,KAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;aACtD;YACD,KAAI,CAAC,QAAQ,CAAC;gBACZ,gBAAgB,EAAE,KAAK;gBACvB,aAAa,EAAE,IAAI;gBACnB,iBAAiB,EAAE,iBAAiB;gBACpC,SAAS,EAAE;oBACT,QAAQ;iBACT;aACF,CAAC,CAAC;YACH,6BAA6B;QAC/B,CAAC;QAED,4BAAsB,GAAG;YACvB,KAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC;QACnE,CAAC;QAED,wBAAkB,GAAG,UAAC,GAAmB,EAAE,KAAa;YACtD,KAAI,CAAC,QAAQ,CAAC;gBACZ,aAAa,EAAE,IAAI;gBACnB,SAAS,EAAE;oBACT,SAAS,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;oBAC5B,OAAO,EAAE,GAAG,CAAC,OAAO;iBACrB;aACF,CAAC,CAAC;QACL,CAAC;QAED,0BAAoB,GAAG;YACrB,KAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;QAC1C,CAAC;QAED,mBAAa,GAAG,UAAC,KAAe;YAC9B,KAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,EAAE,CAAC,CAAC;QAClE,CAAC;QAED,mBAAa,GAAG;YACd,KAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,KAAK,EAAE,CAAC,CAAC;QAC1C,CAAC;QAED,0BAAoB,GAAG,UAAC,KAAa;YACnC,IAAM,KAAK,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YACvC,IAAM,iBAAiB,GAAG,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YAClE,OAAO,iBAAiB,CAAC;QAC3B,CAAC;QAtEC,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,CAAC;YACR,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,IAAI;YACvB,aAAa,EAAE,KAAK;YACpB,SAAS,EAAE,EAAE;SACd,CAAC;;IACJ,CAAC;IAED,4CAAkB,GAAlB,UAAmB,SAAS,EAAE,SAAS;QACrC,IAAI,IAAI,CAAC,OAAO,IAAI,SAAS,CAAC,KAAK,KAAK,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAChE,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YACvC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,CAAC,CAAC;SAC1B;IACH,CAAC;IA0DD,0CAAgB,GAAhB,UAAiB,UAAkB,EAAE,WAAmB;QACtD,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IACrH,CAAC;IAED,oCAAU,GAAV;QACE,IAAM,MAAM,GAAG,6CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,WAAC,IAAI,aAAM,CAAC,CAAC,CAAC,KAAK,CAAC,EAAf,CAAe,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;QAC3B,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,sCAAY,GAAZ,UAAa,MAAkB;QAC7B,IAAM,IAAI,GAAqB,EAAE,CAAC;QAClC,KAAoB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;YAAvB,IAAM,OAAK;YACd,IAAI,OAAK,CAAC,YAAY,EAAE;gBACtB,KAAkB,UAAkB,EAAlB,YAAK,CAAC,YAAY,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;oBAAjC,IAAM,GAAG;oBACZ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAChB;aACF;SACF;QACD,OAAO,6CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,aAAG,IAAI,aAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAjB,CAAiB,CAAC,CAAC;IAClD,CAAC;IAED,gCAAM,GAAN;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACjB,OAAO,oEAAK,SAAS,EAAC,gBAAgB,EAAC,GAAG,EAAE,IAAI,CAAC,UAAU,GAAI,CAAC;SACjE;QAEK,SAAmD,IAAI,CAAC,KAAK,EAA3D,SAAS,iBAAE,cAAc,sBAAE,iBAAiB,uBAAe,CAAC;QACpE,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QACjC,IAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,cAAc,CAAC;QACnD,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,GAAG,CAAC,CAAC;QACnD,IAAM,KAAK,GAAG,QAAQ,GAAG,cAAc,CAAC;QACxC,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,CAAC,CAAC,CAAC;QAC/C,IAAM,UAAU,GAAG,iBAAiB,GAAG,CAAC,CAAC;QACzC,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,GAAG,cAAc,GAAG,CAAC,CAAC,CAAC;QAEpE,OAAO,CACL,oEAAK,SAAS,EAAC,gBAAgB,EAAC,GAAG,EAAE,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE,SAAS,EAAE,eAAa,CAAC,OAAO,WAAQ,EAAC;YACtG,2DAAC,qBAAqB,IAAC,SAAS,EAAC,yBAAyB,EACxD,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAClC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAC/B,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,EAC9B,IAAI,EAAE,OAAO,GACf;YACA,oEAAK,SAAS,EAAC,uBAAuB,EAAC,OAAO,EAAE,SAAO,QAAQ,SAAI,SAAW;gBAC5E;oBACE,2DAAC,kBAAkB,OAAG,CACjB;gBACP,kEAAG,SAAS,EAAC,sBAAsB,EAAC,SAAS,EAAE,eAAa,OAAO,UAAK,YAAY,MAAG;oBACrF,kEAAG,SAAS,EAAC,wBAAwB,EAAC,MAAM,EAAC,iBAAiB;wBAC5D,2DAAC,eAAe,IACd,MAAM,EAAE,MAAM,EACd,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,EACZ,MAAM,EAAE,iBAAiB,EACzB,iBAAiB,EAAE,IAAI,CAAC,KAAK,CAAC,iBAAiB,GAC/C,CACA;oBACJ,kEAAG,SAAS,EAAC,uBAAuB,EAAC,SAAS,EAAE,kBAAgB,UAAU,MAAG;wBAC3E,2DAAC,YAAY,IACX,YAAY,EAAE,YAAY,EAC1B,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,cAAc,EACpB,WAAW,EAAE,IAAI,CAAC,kBAAkB,EACpC,aAAa,EAAE,IAAI,CAAC,oBAAoB,GACxC,CACA;oBACJ,kEAAG,SAAS,EAAC,iBAAiB,EAAC,SAAS,EAAE,kBAAgB,UAAU,MAAG;wBACrE,2DAAC,cAAc,IACb,MAAM,EAAE,MAAM,EACd,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,cAAc,EACzB,gBAAgB,EAAE,IAAI,CAAC,oBAAoB,EAC3C,kBAAkB,EAAE,IAAI,CAAC,sBAAsB,GAC/C,CACA,CACF,CACA,CACF,CACP,CAAC;IACJ,CAAC;IApKM,4BAAY,GAAG;QACpB,OAAO,EAAE,gBAAgB;QACzB,YAAY,EAAE,qBAAqB;QACnC,iBAAiB,EAAE,mBAAmB;QACtC,cAAc,EAAE,gBAAgB;KACjC,CAAC;IAgKJ,sBAAC;CAAA,CAzK4C,mDAAa,GAyKzD;AAzKoB,8EAAe;AA2KpC,SAAS,kBAAkB;IACzB,OAAO,CACL,2DAAC,4CAAK,CAAC,QAAQ;QACb,uEAAQ,EAAE,EAAC,YAAY,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM;YAClE,+EAAgB,EAAE,EAAC,aAAa,EAAC,YAAY,EAAC,GAAG,GAAG;YACpD,yEAAU,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,GAAG;YAC1B;gBACE,+EAAe;gBACf,4EAAa,EAAE,EAAC,eAAe,GAAG,CAC1B,CACH;QACT,uEAAQ,EAAE,EAAC,WAAW,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM;YACjE,+EAAgB,EAAE,EAAC,aAAa,EAAC,YAAY,EAAC,GAAG,GAAG;YACpD;gBACE,wEAAS,IAAI,EAAC,QAAQ,EAAC,KAAK,EAAC,KAAK,GAAG,CACjB;YACtB,yEAAU,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,GAAG;YAC1B;gBACE,+EAAe;gBACf,4EAAa,EAAE,EAAC,eAAe,GAAG,CAC1B,CACH;QACT,uEAAQ,EAAE,EAAC,YAAY,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM;YAClE,+EAAgB,EAAE,EAAC,eAAe,EAAC,YAAY,EAAC,GAAG,GAAG;YACtD;gBACE,+EAAe;gBACf,4EAAa,EAAE,EAAC,eAAe,GAAG,CAC1B,CACH;QACT,uEAAQ,EAAE,EAAC,mBAAmB,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,EAAC,MAAM,EAAC,MAAM;YACzE,+EAAgB,EAAE,EAAC,eAAe,EAAC,YAAY,EAAC,GAAG,EAAC,MAAM,EAAC,SAAS,GAAG,CAChE,CACM,CAClB,CAAC;AACJ,CAAC;AAUD;IAAoC,yCAAyC;IAA7E;;IAiEA,CAAC;IA1DC,sCAAM,GAAN;QACQ,SAA8C,IAAI,CAAC,KAAK,EAAtD,KAAK,aAAE,SAAS,iBAAE,IAAI,YAAE,SAAS,iBAAE,IAAI,UAAe,CAAC;QAC/D,IAAI,SAAS,EAAE,YAAY,CAAC;QAC5B,IAAI,KAAK,EAAE;YACT,IAAM,EAAE,GAAG,6CAAM,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC;YAC9C,IAAM,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC1C,SAAS,GAAG;gBACV,qEAAM,GAAG,EAAC,IAAI,EAAC,SAAS,EAAC,iBAAiB;oBACxC,qEAAM,SAAS,EAAC,uBAAuB,kBAAmB;oBAC1D,qEAAM,SAAS,EAAC,uBAAuB,IAAE,WAAW,CAAQ,CACvD;aACR,CAAC;SACH;QACD,IAAI,SAAS,IAAI,SAAS,CAAC,QAAQ,EAAE;YACnC,IAAM,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;YACpC,IAAM,iBAAiB,GAAG,6CAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAClE,YAAY,GAAG,CACb,qEAAM,GAAG,EAAC,UAAU,EAAC,SAAS,EAAC,iBAAiB;gBAC9C,qEAAM,SAAS,EAAC,uBAAuB,sBAAuB;gBAC9D,qEAAM,SAAS,EAAC,uBAAuB,IAAE,iBAAiB,CAAQ,CAC7D,CACR,CAAC;SACH;QACD,IAAI,SAAS,IAAI,SAAS,CAAC,SAAS,EAAE;YACpC,IAAM,EAAE,GAAG,6CAAM,CAAC,SAAS,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;YAC9C,IAAM,WAAW,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAC1C,SAAS,GAAG;gBACV,qEAAM,GAAG,EAAC,IAAI,EAAC,SAAS,EAAC,iBAAiB;oBACxC,qEAAM,SAAS,EAAC,uBAAuB,kBAAmB;oBAC1D,qEAAM,SAAS,EAAC,uBAAuB,IAAE,WAAW,CAAQ,CACvD;aACR,CAAC;SACH;QAED,IAAM,cAAc,GAAwB,EAAE,IAAI,QAAE,CAAC;QACrD,IAAI,CAAC,IAAI,EAAE;YACT,cAAc,CAAC,OAAO,GAAG,CAAC,CAAC;SAC5B;QAED,OAAO,CACL,oEAAK,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,cAAc;YAC9C,wEACG,SAAS,CACN;YACN,wEACG,YAAY,CACT;YACL,SAAS,IAAI,SAAS,CAAC,OAAO;gBAC7B;oBACE,qEAAM,GAAG,EAAC,UAAU,EAAC,SAAS,EAAC,iBAAiB;wBAC9C,qEAAM,SAAS,EAAC,uBAAuB,qBAAsB;wBAC7D,qEAAM,SAAS,EAAC,uBAAuB,IAAE,SAAS,CAAC,OAAO,CAAQ,CAC7D,CACH,CAEJ,CACP,CAAC;IACJ,CAAC;IA/DM,kCAAY,GAAG;QACpB,IAAI,EAAE,CAAC;QACP,SAAS,EAAE,EAAE;QACb,IAAI,EAAE,KAAK;KACZ,CAAC;IA4DJ,4BAAC;CAAA,CAjEmC,mDAAa,GAiEhD;AAYD;IAA8B,mCAAmC;IAAjE;;IAuDA,CAAC;IAlDC,gCAAM,GAAN;QACQ,SAA0D,IAAI,CAAC,KAAK,EAAlE,MAAM,cAAE,SAAS,iBAAE,KAAK,aAAE,MAAM,cAAE,iBAAiB,uBAAe,CAAC;QACnE,YAAQ,GAAa,SAAS,SAAtB,EAAE,MAAM,GAAK,SAAS,OAAd,CAAe;QACvC,IAAM,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC;QAEhC,IAAI,SAA0B,CAAC;QAC/B,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,IAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACjE,IAAM,QAAQ,GAAG,CAAC,OAAO,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC;YAC9C,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;YACjD,IAAM,WAAW,GAAG,iBAAiB,KAAK,CAAC,CAAC;YAC5C,IAAM,UAAU,GAAG,qBAAkB,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC;YAClF,IAAM,SAAS,GAAG,0BAAwB,UAAU,UAAI,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAE,CAAC;YAC3F,IAAM,oBAAoB,GAAG;gBAC3B,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;gBACJ,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,MAAM;aACf,CAAC;YACF,SAAS,GAAG,CACV,8EAAM,GAAG,EAAC,GAAG,EAAC,SAAS,EAAE,SAAS,IAAM,oBAAoB,EAAS,CACtE,CAAC;SACH;QAED,IAAM,mBAAmB,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,KAAK;YAClD,IAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAM,MAAM,GAAG,KAAK,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACpF,IAAM,QAAQ,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,KAAK,CAAC;YACvC,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;YACjD,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;YAC5D,IAAM,WAAW,GAAG,iBAAiB,IAAI,iBAAiB,GAAG,CAAC,KAAK,KAAK,CAAC;YACzE,IAAM,UAAU,GAAG,qBAAkB,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC;YAC9E,IAAM,SAAS,GAAG,0BAAwB,UAAU,UAAI,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAE,CAAC;YAC3F,IAAM,UAAU,GAAG;gBACjB,CAAC,EAAE,OAAO;gBACV,CAAC,EAAE,CAAC;gBACJ,KAAK,EAAE,WAAW;gBAClB,MAAM,EAAE,MAAM;aACf,CAAC;YAEF,OAAO,CACL,8EAAM,GAAG,EAAK,KAAK,CAAC,OAAO,SAAI,KAAO,EAAE,SAAS,EAAE,SAAS,IAAM,UAAU,EAAI,CACjF,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,OAAO;YACL,SAAS;YACT,mBAAmB;SACpB,CAAC;IACJ,CAAC;IArDM,4BAAY,GAAG;QACpB,iBAAiB,EAAE,IAAI;KACxB,CAAC;IAoDJ,sBAAC;CAAA,CAvD6B,mDAAa,GAuD1C;AAmBD;IAA6B,kCAAuD;IAKlF,wBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAEb;QAED,kBAAY,GAAG,UAAC,OAAiB,EAAE,SAAiB;YAAjB,6CAAiB;YAC1C,UAAM,GAAK,KAAI,CAAC,KAAK,OAAf,CAAgB;YAC9B,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,EAAD,CAAC,CAAC,CAAC;YACpC,KAAK,GAAG,SAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;YAClC,IAAM,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;YAC/C,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,WAAW,eAAE,CAAC,CAAC;QACxC,CAAC;QAED,oBAAc,GAAG,UAAC,KAAa,IAAK;YAClC,IAAI,iBAAiB,GAAG,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;gBAC/B,IAAI,KAAI,CAAC,KAAK,CAAC,eAAe,EAAE;oBAC9B,iBAAiB,GAAG,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;oBAChD,IAAM,WAAW,GAAG,iBAAiB,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;oBACtF,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;iBACjD;qBAAM;oBACL,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iBACpC;aACF;YACD,KAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QAC7C,CAAC,EAZmC,CAYnC;QA8BD,sBAAgB,GAAG,eAAK,IAAI;YAC1B,IAAI,KAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;gBACjC,KAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;aACjC;YACD,IAAM,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,EAAD,CAAC,CAAC,CAAC;YACjD,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,WAAW,EAAE,EAAE,EAAE,CAAC,CAAC;QAC5C,CAAC,EAN2B,CAM3B;QA3DC,KAAI,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,EAAE,CAAC;;IAC9C,CAAC;IAwBD,wCAAe,GAAf,UAAgB,KAAa;QAC3B,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,KAAK,CAAC,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,MAAM,CAAC,MAAM,EAAG;YACjD,gBAAgB;YAChB,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,GAAG,EAAE;oBAC3B,IAAM,YAAY,GAAG,CAAC,CAAC;oBACvB,OAAO,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;iBAC9B;aACF;SACF;aAAM,IAAI,KAAK,CAAC,KAAK,KAAK,GAAG,IAAI,KAAK,GAAG,CAAC,EAAE;YAC3C,WAAW;YACX,IAAI,gBAAgB,GAAG,IAAI,CAAC;YAC5B,KAAK,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;gBACnC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,GAAG,EAAE;oBAC3B,gBAAgB,GAAG,CAAC,CAAC;iBACtB;qBAAM;oBACL,MAAM;iBACP;aACF;YACD,IAAI,gBAAgB,KAAK,IAAI,EAAE;gBAC7B,OAAO,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;aAClC;SACF;QACD,OAAO,CAAC,KAAK,CAAC,CAAC;IACjB,CAAC;IAUD,+BAAM,GAAN;QAAA,iBA2BC;QA1BO,SAA0C,IAAI,CAAC,KAAK,EAAlD,MAAM,cAAE,SAAS,iBAAE,KAAK,aAAE,SAAS,eAAe,CAAC;QACnD,YAAQ,GAAa,SAAS,SAAtB,EAAE,MAAM,GAAK,SAAS,OAAd,CAAe;QACvC,IAAM,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC;QAChC,IAAM,MAAM,GAAG,SAAS,GAAG,CAAC,CAAC;QAC7B,IAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,CAAC;YACtC,IAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC;YACrE,IAAM,SAAS,GAAG,wCAAqC,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAE,CAAC;YAChG,IAAM,WAAW,GAAG,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAE7D,OAAO,CACL,2DAAC,aAAa,IACZ,GAAG,EAAK,KAAK,CAAC,OAAO,SAAI,CAAG,EAC5B,SAAS,EAAE,SAAS,EACpB,CAAC,EAAE,OAAO,EACV,CAAC,EAAE,MAAM,EACT,WAAW,EAAE,WAAW,EACxB,gBAAgB,EAAE,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EACxC,kBAAkB,EAAE,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAC5C,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;YAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAC,IAAI,kBAAW,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;SAClD;QACD,OAAO,WAAW,CAAC;IACrB,CAAC;IA9FM,2BAAY,GAAG;QACpB,eAAe,EAAE,IAAI;KACtB,CAAC;IA6FJ,qBAAC;CAAA,CAhG4B,mDAAa,GAgGzC;AAgBD;IAA4B,iCAAqD;IAC/E,uBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAEb;QASD,qBAAe,GAAG;YAChB,IAAI,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;gBAC/B,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;aAC/B;QACH,CAAC;QAED,sBAAgB,GAAG;YACjB,IAAI,KAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;gBACjC,KAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC;aACjC;QACH,CAAC;QApBC,KAAI,CAAC,KAAK,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;;IACtC,CAAC;IAED,0CAAkB,GAAlB,UAAmB,SAA6B;QAC9C,8DAA8D;QAC9D,IAAI,SAAS,CAAC,WAAW,KAAK,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;YACpD,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;SACxD;IACH,CAAC;IAcD,8BAAM,GAAN;QACU,KAAC,GAAK,IAAI,CAAC,KAAK,EAAf,CAAgB;QACzB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,sBAAsB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACpG,IAAM,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5B,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;QAChD,IAAM,SAAS,GAAG,CAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,EAAE,WAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAE,CAAC;QACjG,OAAO,CACL,kEAAG,SAAS,EAAE,SAAS,EACrB,SAAS,EAAE,eAAa,EAAE,SAAM,EAChC,MAAM,EAAC,kBAAkB,EACzB,WAAW,EAAE,IAAI,CAAC,eAAe,EACjC,YAAY,EAAE,IAAI,CAAC,gBAAgB;YACnC,uEAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,EAAC,cAAc,GAAG;YACvD,uEAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,SAAS,EAAC,YAAY,GAAG,CACxD,CACL,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC,CA1C2B,mDAAa,GA0CxC;AAgBD;IAA2B,gCAAmD;IAC5E,sBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAEb;QAED,qBAAe,GAAG,UAAC,KAAa,IAAK;YACnC,IAAI,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gBAC1B,IAAM,GAAG,GAAG,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;gBAC3C,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;aACpC;YACD,KAAI,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACjC,CAAC,EANoC,CAMpC;QAED,uBAAiB,GAAG;YAClB,IAAI,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE;gBAC5B,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;aAC5B;YACD,IAAM,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,EAAD,CAAC,CAAC,CAAC;YACvD,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9C,CAAC;QAED,kBAAY,GAAG,UAAC,KAAa,EAAE,SAAiB;YAAjB,6CAAiB;YACtC,gBAAY,GAAK,KAAI,CAAC,KAAK,aAAf,CAAgB;YACpC,IAAI,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,QAAC,EAAD,CAAC,CAAC,CAAC;YAC1C,KAAK,GAAG,SAAS,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;YAClC,IAAM,WAAW,GAAG,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;YAC7C,KAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,SAAE,WAAW,eAAE,CAAC,CAAC;QACxC,CAAC;QAzBC,KAAI,CAAC,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC;;IAChD,CAAC;IA0BD,6BAAM,GAAN;QAAA,iBAyBC;QAxBO,SAA2C,IAAI,CAAC,KAAK,EAAnD,YAAY,oBAAE,SAAS,iBAAE,KAAK,aAAE,IAAI,UAAe,CAAC;QACpD,YAAQ,GAAa,SAAS,SAAtB,EAAE,MAAM,GAAK,SAAS,OAAd,CAAe;QACvC,IAAM,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC;QAChC,IAAM,MAAM,GAAG,IAAI,GAAG,CAAC,CAAC;QACxB,IAAM,WAAW,GAAG,YAAY,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,CAAC;YAC1C,IAAM,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,CAAC,CAAC;YACrE,IAAM,WAAW,GAAG,KAAI,CAAC,KAAK,CAAC,WAAW,KAAK,CAAC,CAAC;YAEjD,OAAO,CACL,2DAAC,WAAW,IACV,GAAG,EAAK,GAAG,CAAC,OAAO,SAAI,CAAG,EAC1B,CAAC,EAAE,OAAO,EACV,CAAC,EAAE,MAAM,EACT,WAAW,EAAE,WAAW,EACxB,WAAW,EAAE,KAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EACpC,aAAa,EAAE,KAAI,CAAC,iBAAiB,GACrC,CACH,CAAC;QACJ,CAAC,CAAC,CAAC;QACH,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;YAC3B,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAC,IAAI,kBAAW,CAAC,CAAC,CAAC,EAAd,CAAc,CAAC,CAAC;SAClD;QACD,OAAO,WAAW,CAAC;IACrB,CAAC;IACH,mBAAC;AAAD,CAAC,CAxD0B,mDAAa,GAwDvC;AAcD;IAA0B,+BAAiD;IACzE,qBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAEb;QASD,qBAAe,GAAG;YAChB,IAAI,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gBAC1B,KAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;aAC1B;QACH,CAAC;QAED,uBAAiB,GAAG;YAClB,IAAI,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE;gBAC5B,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC;aAC5B;QACH,CAAC;QApBC,KAAI,CAAC,KAAK,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;;IACtC,CAAC;IAED,wCAAkB,GAAlB,UAAmB,SAA2B;QAC5C,8DAA8D;QAC9D,IAAI,SAAS,CAAC,WAAW,KAAK,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;YACpD,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;SACxD;IACH,CAAC;IAcD,4BAAM,GAAN;QACU,KAAC,GAAK,IAAI,CAAC,KAAK,EAAf,CAAgB;QACzB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,sBAAsB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACpG,IAAM,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5B,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,gBAAgB,CAAC,CAAC;QAChD,IAAM,SAAS,GAAG,wBAAqB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAE,CAAC;QACrF,OAAO,CACL,kEAAG,SAAS,EAAE,SAAS,EACrB,SAAS,EAAE,eAAa,EAAE,SAAM,EAChC,MAAM,EAAC,kBAAkB,EACzB,WAAW,EAAE,IAAI,CAAC,eAAe,EACjC,YAAY,EAAE,IAAI,CAAC,iBAAiB;YACpC,uEAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,EAAC,cAAc,GAAG;YACvD,uEAAQ,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,SAAS,EAAC,YAAY,GAAG,CACxD,CACL,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,CA1CyB,mDAAa,GA0CtC;AAED,SAAS,SAAS,CAAI,KAAU,EAAE,WAAqB;IACrD,IAAM,OAAO,GAAG,6CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;IAC7C,OAAO,CAAC,OAAO,EAAE,CAAC;IAClB,KAAK,CAAC,IAAI,OAAV,KAAK,EAAS,OAAO,EAAE;IACvB,OAAO,KAAK,CAAC;AACf,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClrB4C;AACN;AACH;AACb;AACK;AACe;AACR;AACe;AAEQ;AAItB;AA2BpC;IAAyC,+BAAiD;IAIxF,qBAAY,KAAK;QAAjB,YACE,kBAAM,KAAK,CAAC,SAMb;QAED,gBAAU,GAAG,aAAG;YACd,KAAI,CAAC,OAAO,GAAG,GAAG,CAAC;QACrB,CAAC;QAED,sBAAgB,GAAG,UAAC,OAAmB,EAAE,IAAoB;YAC3D,OAAO,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAChD,CAAC;QAED,qBAAe,GAAG,UAAC,OAAmB,EAAE,IAAoB;QAC5D,CAAC;QAED,0BAAoB,GAAG,UAAC,QAAQ,EAAE,SAAS;YACzC,IAAI,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;gBAC/B,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;aAClD;QACH,CAAC;QAED,yBAAmB,GAAG,UAAC,UAAU,EAAE,KAAK;YACtC,IAAI,KAAI,CAAC,KAAK,CAAC,cAAc,EAAE;gBAC7B,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;aACvC;QACH,CAAC;QAED,0BAAoB,GAAG,UAAC,QAAa,EAAE,KAAU;YACzC,SAAyB,KAAI,CAAC,KAAK,EAAjC,QAAQ,gBAAE,QAAQ,cAAe,CAAC;YAClC,QAAI,GAAK,KAAI,CAAC,KAAK,KAAf,CAAgB;YAC5B,IAAM,gBAAgB,GAAG,EAAE,CAAC;YAE5B,KAAK,IAAM,GAAG,IAAI,QAAQ,EAAE;gBAC1B,IAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC1B,IAAM,YAAY,GAAG,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;gBAC7C,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,YAAY,GAAG,QAAQ,CAAC,MAAM,EAAE;oBACnD,IAAM,eAAe,GAAG,QAAQ,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC;oBACvD,IAAI,eAAe,EAAE;wBACnB,gBAAgB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;qBAC1C;iBACF;aACF;YAED,IAAM,YAAY,gBAAQ,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAE,CAAC;YAChD,YAAY,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;YAE9B,IAAM,oBAAoB,gBAAQ,KAAI,CAAC,KAAK,CAAC,gBAAgB,CAAE,CAAC;YAChE,oBAAoB,CAAC,IAAI,CAAC,GAAG,gBAAgB,CAAC;YAE9C,KAAI,CAAC,QAAQ,CAAC;gBACZ,QAAQ,EAAE,YAAY;gBACtB,gBAAgB,EAAE,oBAAoB;aACvC,CAAC,CAAC;QACL,CAAC;QAED,oBAAc,GAAG,UAAC,GAAW,EAAE,UAAkB,EAAE,OAAiB,EAAE,QAAkB;YACtF,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC3D;QACH,CAAC;QAED,qBAAe,GAAG,UAAC,IAAY;YACvB,SAAyB,KAAI,CAAC,KAAK,EAAjC,QAAQ,gBAAE,QAAQ,cAAe,CAAC;YAClC,oBAAgB,GAAK,KAAI,CAAC,KAAK,iBAAf,CAAgB;YACxC,IAAM,oBAAoB,GAAG,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YAC1D,IAAM,YAAY,GAAG,EAAE,CAAC;YAExB,uDAAuD;YACvD,IAAM,UAAU,GAAG,QAAQ,GAAG,IAAI,CAAC;YACnC,IAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;YAClE,KAAK,IAAI,CAAC,GAAG,UAAU,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;gBAC1C,IAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,oBAAoB,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACzC,YAAY,CAAC,CAAC,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC;iBACnC;aACF;YAED,OAAO,YAAY,CAAC;QACtB,CAAC;QAjFC,KAAI,CAAC,KAAK,GAAG;YACX,QAAQ,EAAE,EAAE;YACZ,gBAAgB,EAAE,EAAE;YACpB,IAAI,EAAE,CAAC;SACR,CAAC;;IACJ,CAAC;IA8ED,kCAAY,GAAZ;QAAA,iBAsDC;QArDC,IAAM,MAAM,GAAG,EAAE,CAAC;QAClB,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;QACxC,IAAM,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,IAAI,OAAO,CAAC,kBAAkB,CAAC;QACpF,IAAM,UAAU,GAAG,eAAK,IAAI,iBAAU,CAAC,KAAK,EAAE,kBAAkB,CAAC,EAArC,CAAqC,CAAC;QAClE,IAAM,cAAc,GAAG,eAAK,IAAI,qBAAc,CAAC,KAAK,EAAE,kBAAkB,CAAC,EAAzC,CAAyC,CAAC;QAC1E,IAAM,YAAY,GAAG,eAAK,IAAI,kEAAC,QAAQ,IAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAI,EAAhF,CAAgF,CAAC;QAC/G,IAAM,gBAAgB,GAAG,eAAK,IAAI,kEAAC,QAAQ,IAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,YAAY,EAAE,WAAW,EAAE,KAAK,CAAC,QAAQ,CAAC,WAAW,GAAI,EAAxF,CAAwF,CAAC;QAE3H,IAAM,OAAO,GAAG;YACd,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE;YAC3E,EAAE,MAAM,EAAE,uBAAuB,EAAE,EAAE,EAAE,cAAc,EAAE,IAAI,EAAE,OAAO,CAAC,iBAAiB,EAAE,IAAI,EAAE,gBAAgB,EAAE;YAChH,EAAE,MAAM,EAAE,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE;YACxF,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE;YAC/D;gBACE,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,CAAC,aAAa,EAAE,SAAS,EAAE,kBAAkB,EAAE,KAAK,EAAE,GAAG;gBAC1F,QAAQ,EAAE,iBAAO,IAAI,cAAO,CAAC,QAAQ,EAAhB,CAAgB;gBACrC,EAAE,EAAE,UAAU;gBACd,IAAI,EAAE,eAAK,IAAI,mBAAY,CAAC,KAAK,EAAE,OAAO,CAAC,eAAe,EAAE,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC,YAAY,CAAC,EAAhH,CAAgH;aAChI;YACD;gBACE,MAAM,EAAE,EAAE,EAAE,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,OAAO,CAAC,UAAU,EAAE,SAAS,EAAE,qBAAqB,EAAE,KAAK,EAAE,EAAE;gBACnG,QAAQ,EAAE,OAAO;gBACjB,IAAI,EAAE,cAAc;aACrB;YACD,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,CAAC,WAAW,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,UAAU,EAAE;YAChG,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,EAAE,WAAW,EAAC;YAC/E;gBACE,MAAM,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAE,KAAK,EAAE,EAAE;gBAC3D,IAAI,EAAE,eAAK,IAAI,kEAAC,gDAAO,eAAK,KAAK,EAAI,EAAtB,CAAsB;aACtC;YACD;gBACE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAE,SAAS,EAAE,cAAc;gBACnF,IAAI,EAAE,eAAK,IAAI,kEAAC,OAAO,eAAK,KAAK,IAAE,UAAU,EAAE,KAAI,CAAC,cAAc,IAAI,EAAvD,CAAuD;aACvE;YACD;gBACE,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAE,QAAQ,EAAE,WAAW;gBAClG,EAAE,EAAE,KAAK;gBACT,IAAI,EAAE,OAAO;aACd;YACD;gBACE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,aAAa,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,EAAE,WAAW;gBAC3E,EAAE,EAAE,YAAY;gBAChB,IAAI,EAAE,eAAK,IAAI,qBAAc,CAAC,KAAK,EAAE,OAAO,CAAC,sBAAsB,IAAI,OAAO,CAAC,gBAAgB,CAAC,EAAjF,CAAiF;aACjG;YACD,EAAE,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,iBAAiB,EAAE,KAAK,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAE,cAAc,EAAE;SAClG,CAAC;QACF,KAAqB,UAAO,EAAP,mBAAO,EAAP,qBAAO,EAAP,IAAO,EAAE;YAAzB,IAAM,MAAM;YACf,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,KAAK,SAAS,EAAE;gBAC5C,OAAO,MAAM,CAAC,IAAI,CAAC;gBACnB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aACrB;SACF;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,4BAAM,GAAN;;QAAA,iBA8CC;QA7CC,IAAM,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QACpD,SAAuC,IAAI,CAAC,KAAK,EAA/C,QAAQ,gBAAE,QAAQ,gBAAE,YAAY,kBAAe,CAAC;QACxD,IAAM,UAAU,GAAG,iDAAU,CAAC,gBAAgB,YAAI,GAAC,gBAAc,QAAU,IAAG,QAAQ,MAAG,CAAC;QAC1F,IAAI,eAAe,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;QAC/C,IAAI,QAAQ,EAAE;YACZ,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC/B,eAAe,GAAG,6CAAC,CAAC,IAAI,CAAC,6CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;SACrD;QAED,OAAO,CACL,oEAAK,SAAS,EAAE,UAAU,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU;YAC9C,2DAAC,qDAAU,IACT,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EACzB,OAAO,EAAE,OAAO,EAChB,eAAe,EAAE,EAAE,EACnB,QAAQ,EAAE,QAAQ,EAClB,eAAe,EAAE,eAAe,EAChC,OAAO,EAAE,YAAY,CAAC,cAAc,EACpC,OAAO,EAAE,CAAC,EACV,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAC3B,UAAU,EAAC,mBAAmB,EAC9B,YAAY,EAAE,eAAK;oBACjB,kEAAC,8DAAc,eAAK,KAAK,IACvB,SAAS,EAAE,KAAI,CAAC,SAAS,EACzB,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,SAAS,EAC/B,YAAY,EAAE,YAAY,CAAC,eAAe,EAC1C,OAAO,EAAE,KAAI,CAAC,KAAK,CAAC,OAAO,EAC3B,gBAAgB,EAAE,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAC7C,gBAAgB,EAAE,KAAI,CAAC,KAAK,CAAC,gBAAgB,EAC7C,UAAU,EAAE,KAAI,CAAC,KAAK,CAAC,UAAU,EACjC,YAAY,EAAE,KAAI,CAAC,gBAAgB,EACnC,eAAe,EAAE,KAAI,CAAC,KAAK,CAAC,eAAe,EAC3C,UAAU,EAAE,KAAI,CAAC,cAAc,EAC/B,OAAO,EAAE,KAAK,IACd;gBAZF,CAYE,EAEJ,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAC/C,gBAAgB,EAAE,IAAI,CAAC,oBAAoB,EAC3C,YAAY,EAAE,cAAI,IAAI,YAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,QAAE,CAAC,EAAvB,CAAuB,EAC7C,gBAAgB,EAAE,IAAI,CAAC,oBAAoB,EAC3C,eAAe,EAAE,IAAI,CAAC,mBAAmB,GACzC,CACE,CACP,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,CAhMwC,mDAAa,GAgMrD;;AAOD,IAAM,QAAQ,GAA4B,UAAC,EAAqB;QAAnB,IAAI,YAAE,WAAW;IAC5D,OAAO,CACL;QACE,qEAAM,KAAK,EAAE,EAAE,YAAY,EAAE,QAAQ,EAAE,IAAG,IAAI,CAAQ;QACrD,WAAW,IAAI,2DAAC,kDAAM,IAAC,WAAW,EAAC,OAAO,EAAC,IAAI,EAAC,QAAQ,GAAG,CACxD,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,SAAS,YAAY,CACnB,KAAyB,EACzB,mBAAsC,EACtC,aAAuB,EACvB,aAAsB,EACtB,OAA0B;IAA1B,oDAA0B;IAE1B,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC/B,IAAI,KAAa,CAAC;IAElB,IAAI,YAA6B,CAAC;IAClC,IAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC1C,YAAY,GAAG,6CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,WAAC,IAAI,QAAC,CAAC,QAAQ,KAAK,QAAQ,EAAvB,CAAuB,CAAC,CAAC;IACzE,IAAI,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,KAAK,KAAK,GAAG,EAAE;QAC7C,YAAY,GAAG,6CAAC,CAAC,IAAI,CAAC,mBAAmB,EAAE,WAAC,IAAI,QAAC,CAAC,QAAQ,KAAK,QAAQ,EAAvB,CAAuB,CAAC,CAAC;KAC1E;IAED,KAAK,GAAG,OAAO,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC;IAE7D,kDAAkD;IAClD,IAAI,aAAa,IAAI,OAAO,CAAC,YAAY,KAAK,GAAG,EAAE;QACjD,KAAK,GAAG,aAAa,CAAC;KACvB;IAED,OAAO,CACL,oEAAK,SAAS,EAAC,eAAe,EAAC,KAAK,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,IACxD,YAAY,CAAC,QAAQ,CAClB,CACP,CAAC;AACJ,CAAC;AAED,IAAM,gBAAgB,GAAG,mBAAmB,CAAC;AAC7C,IAAM,qBAAqB,GAAG,gBAAgB,CAAC;AAE/C,SAAS,UAAU,CAAC,KAAyB,EAAE,kBAA2B;IACxE,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC;IAC5D,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,CAAC,qBAAqB,CAAC;IAC7E,IAAI,UAAU,GAAG,KAAK,CAAC;IACvB,IAAI,kBAAkB,EAAE;QACtB,UAAU,GAAG,2DAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;KAC/D;IACD,OAAO,CACL,qEAAM,SAAS,EAAE,UAAU,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,KAAK,SAAE,IAAG,MAAM,CAAQ,CAC5F,CAAC;AACJ,CAAC;AAED,SAAS,cAAc,CAAC,KAAyB,EAAE,kBAA2B;IAC5E,IAAM,MAAM,GAAG,KAAK,CAAC,KAAK,KAAK,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;IACtD,IAAI,UAAU,GAAG,KAAK,CAAC;IACvB,IAAI,kBAAkB,EAAE;QACtB,UAAU,GAAG,2DAAY,CAAC,KAAK,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;KAC/D;IACD,IAAM,SAAS,GAAG,iDAAU,CAAC,yBAAyB,EACpD,EAAE,qBAAqB,EAAE,UAAU,EAAE,EACrC,EAAE,aAAa,EAAE,KAAK,CAAC,KAAK,KAAK,GAAG,EAAE,EACtC,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,KAAK,GAAG,EAAE,CAClC,CAAC;IACF,OAAO,2DAAC,uDAAW,IAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,GAAI,CAAC;AAC/D,CAAC;AAED,SAAS,SAAS,CAAC,KAAyB;IAC1C,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE;QACrC,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAN,CAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAClD;IACD,OAAO,CACL,yEAAO,MAAM,CAAQ,CACtB,CAAC;AACJ,CAAC;AAED,SAAS,WAAW,CAAC,KAAyB;IAC5C,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC;IACzC,OAAO,CACL;QACE,qEAAM,SAAS,EAAC,qBAAqB,IAAE,KAAK,CAAC,KAAK,CAAQ,CAEtD,CACP,CAAC;AACJ,CAAC;AAED,SAAS,OAAO,CAAC,KAAyB;IACxC,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC/B,IAAM,SAAS,GAAG,6CAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACjD,IAAM,GAAG,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACpC,OAAO,yEAAO,GAAG,CAAQ,CAAC;AAC5B,CAAC;AAED,SAAS,cAAc,CAAC,KAAyB,EAAE,YAAqB;IACtE,IAAM,mBAAmB,GAAG,sBAAsB,CAAC;IACnD,IAAM,OAAO,GAAG,KAAK,CAAC,QAAQ,CAAC;IAC/B,IAAM,SAAS,GAAG,6CAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACjD,IAAM,MAAM,GAAG,YAAY,IAAI,mBAAmB,CAAC;IACnD,IAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC5C,OAAO,yEAAO,UAAU,CAAQ,CAAC;AACnC,CAAC;AAMD;IAAsB,2BAA2B;IAAjD;QAAA,qEAaC;QAZC,oBAAc,GAAG,UAAC,GAAW,EAAE,OAAiB,EAAE,QAAkB;YAClE,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC/E;QACH,CAAC;;IAQH,CAAC;IANC,wBAAM,GAAN;QAAA,iBAKC;QAJC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;QACpC,OAAO;YACL,IAAI,CAAC,GAAG,CAAC,aAAG,IAAI,kEAAC,iDAAQ,IAAC,GAAG,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,KAAI,CAAC,cAAc,GAAI,EAA9E,CAA8E,CAAE;SACjG,CAAC;IACJ,CAAC;IACH,cAAC;AAAD,CAAC,CAbqB,mDAAa,GAalC;AAED,SAAS,cAAc,CAAC,KAAkB;IACxC,OAAO,CACL,qEAAM,SAAS,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;QACjD,kEAAG,SAAS,EAAC,mBAAmB,GAAK,CAChC,CACR,CAAC;AACJ,CAAC;;;;;;;;;;;;;ACjXD;AAAA;AAAO,IAAM,KAAK,GAAG;IACnB,EAAE,EAAE;QACF,QAAQ,EAAE,YAAY;QACtB,KAAK,EAAE,QAAQ;QACf,OAAO,EAAE,WAAW;QACpB,KAAK,EAAE,QAAQ;QACf,IAAI,EAAE,iBAAiB;QACvB,OAAO,EAAE,YAAY;QACrB,cAAc,EAAE,yBAAyB;QACzC,kBAAkB,EAAE,WAAW;QAC/B,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,UAAU;QAChB,QAAQ,EAAE,WAAW;QACrB,OAAO,EAAE,QAAQ;QACjB,kBAAkB,EAAE,2BAA2B;QAC/C,MAAM,EAAE,SAAS;QACjB,MAAM,EAAE,SAAS;QACjB,cAAc,EAAE,qBAAqB;QACrC,WAAW,EAAE,uBAAuB;QACpC,YAAY,EAAE,cAAc;QAC5B,SAAS,EAAE,UAAU;QACrB,WAAW,EAAE,SAAS;QACtB,KAAK,EAAE,SAAS;QAChB,WAAW,EAAE,QAAQ;QACrB,QAAQ,EAAE,cAAc;QACxB,OAAO,EAAE,YAAY;QACrB,SAAS,EAAE,aAAa;QACxB,OAAO,EAAE,eAAe;QACxB,QAAQ,EAAE,OAAO;QACjB,gBAAgB,EAAE,WAAW;QAC7B,SAAS,EAAE,mBAAmB;QAC9B,OAAO,EAAE,mCAAmC;QAC5C,MAAM,EAAE,MAAM;QACd,cAAc,EAAE,mBAAmB;QACnC,cAAc,EAAE,sBAAsB;QACtC,YAAY,EAAE,aAAa;QAC3B,uBAAuB,EAAE,+CAA+C;QACxE,MAAM,EAAE,kBAAkB;KAC3B;IACD,EAAE,EAAE;QACF,QAAQ,EAAE,UAAU;QACpB,KAAK,EAAE,OAAO;QACd,OAAO,EAAE,SAAS;QAClB,KAAK,EAAE,OAAO;QACd,IAAI,EAAE,aAAa;QACnB,OAAO,EAAE,SAAS;QAClB,cAAc,EAAE,kBAAkB;QAClC,kBAAkB,EAAE,qBAAqB;QACzC,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,UAAU;QACpB,OAAO,EAAE,SAAS;QAClB,kBAAkB,EAAE,uBAAuB;QAC3C,MAAM,EAAE,QAAQ;QAChB,MAAM,EAAE,QAAQ;QAChB,cAAc,EAAE,iBAAiB;QACjC,WAAW,EAAE,aAAa;QAC1B,YAAY,EAAE,eAAe;QAC7B,SAAS,EAAE,YAAY;QACvB,WAAW,EAAE,aAAa;QAC1B,KAAK,EAAE,OAAO;QACd,WAAW,EAAE,aAAa;QAC1B,QAAQ,EAAE,UAAU;QACpB,OAAO,EAAE,UAAU;QACnB,SAAS,EAAE,YAAY;QACvB,OAAO,EAAE,UAAU;QACnB,QAAQ,EAAE,UAAU;QACpB,gBAAgB,EAAE,kBAAkB;QACpC,SAAS,EAAE,WAAW;QACtB,OAAO,EAAE,wBAAwB;QACjC,MAAM,EAAE,QAAQ;QAChB,cAAc,EAAE,iBAAiB;QACjC,cAAc,EAAE,iBAAiB;QACjC,YAAY,EAAE,eAAe;QAC7B,uBAAuB,EAAE,0CAA0C;QACnE,MAAM,EAAE,SAAS;KAClB;CACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EqB;AACoB;AACmB;AAE9D,wBAAwB;AACjB,IAAM,sBAAsB,GAAG,CAAC,CAAC;AAEjC,IAAM,gBAAgB,GAAG,UAAC,OAAQ;IACvC,OAAO;QACL,KAAK,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QACnB,IAAI,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QAClB,WAAW,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QACzB,OAAO,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QACrB,IAAI,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QAClB,KAAK,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;QACnB,KAAK,EAAE,+DAAgB,CAAC,OAAO,CAAC;KACjC,CAAC;AACJ,CAAC,CAAC;AAEK,SAAS,uBAAuB;IACrC,OAAO;QACL,kBAAkB,EAAE,IAAI;KACzB,CAAC;AACJ,CAAC;AAEM,SAAS,kBAAkB,CAAC,KAAK;;IACtC,IAAI,cAAc,CAAC,KAAK,CAAC,EAAE;QACzB,OAAO,KAAK,CAAC;KACd;IAED,IAAI,YAAY,CAAC,KAAK,CAAC,EAAE;QACvB,OAAO,KAAK,CAAC,OAAO,CAAC;QACrB,OAAO,KAAK,CAAC;KACd;IAED,IAAM,aAAa,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAC9C,gDAAgD;IAEhD,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,KAAK,CAAC,WAAW,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QACvC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;QACnB,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC;QAErD,mBAAmB;QACnB,OAAO,KAAK,CAAC,QAAQ,CAAC;QACtB,OAAO,KAAK,CAAC,UAAU,CAAC;KACzB;IAED,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,mBAAmB;QACnB,OAAO,KAAK,CAAC,eAAe,CAAC;QAC7B,OAAO,KAAK,CAAC,SAAS,CAAC;QACvB,OAAO,KAAK,CAAC,MAAM,CAAC;QACpB,OAAO,KAAK,CAAC,sBAAsB,CAAC;KACrC;IAED,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,6CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;YAC9C,6CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,UAAC,MAAM;gBAC3B,6CAAC,CAAC,YAAY,CAAC,MAAM,EAAE,gBAAgB,EAAE,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;SACJ;KACF;IAED,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,KAAK,GAAG,EAAE;YACtD,KAAK,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC;SAC5B;KACF;IAED,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,IAAM,cAAc,GAAG,EAAE,CAAC;QAC1B,KAAK,IAAM,SAAS,IAAI,KAAK,CAAC,OAAO,EAAE;YACrC,IAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE;gBACjE,cAAc,CAAC,IAAI,uBACd,MAAM,KACT,UAAU,EAAE,SAAS,IACrB,CAAC;aACJ;SACF;QACD,KAAqB,UAAc,EAAd,iCAAc,EAAd,4BAAc,EAAd,IAAc,EAAE;YAAhC,IAAM,MAAM;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;gBACjB,MAAM,CAAC,KAAK,GAAG,+DAAgB,CAAC,cAAc,CAAC,CAAC;aACjD;SACF;QACD,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;QAC/B,OAAO,KAAK,CAAC,WAAW,CAAC;KAC1B;IAED,IAAI,aAAa,GAAG,CAAC,EAAE;QACrB,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE;gBAC/B,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC/C,OAAO,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;aACpC;SACF;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,qBAAqB;YACrB,KAAK,CAAC,UAAU,GAAG,aAAa,CAAC;SAClC;QACD,KAAqB,UAAa,EAAb,UAAK,CAAC,OAAO,EAAb,cAAa,EAAb,IAAa,EAAE;YAA/B,IAAM,MAAM;YACf,4BAA4B;YAC5B,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC;YACrB,MAAM,CAAC,YAAY,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;YAC/C,MAAM,CAAC,OAAO,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC;YAEvC,6CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,uBAAuB,EAAE,CAAC,CAAC;YACtD,6CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;SAC9C;QAED,KAAK,CAAC,YAAY,GAAG,YAAK,CAAC,cAAc,0CAAE,KAAK,MAAK,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,YAAY,CAAC;QAE5F,OAAO,KAAK,CAAC,UAAU,CAAC;QACxB,OAAO,KAAK,CAAC,YAAY,CAAC;QAC1B,OAAO,KAAK,CAAC,kBAAkB,CAAC;QAChC,OAAO,KAAK,CAAC,cAAc,CAAC;KAC7B;IAED,OAAO,KAAK,CAAC;AACf,CAAC;AAED,SAAS,cAAc,CAAC,KAAK;;IAC3B,IAAI,YAAY,GAAG,CAAC,CAAC;IACrB,IAAI,KAAK,CAAC,YAAY,KAAK,cAAc,EAAE;QACzC,YAAY,GAAG,CAAC,CAAC;KAClB;SAAM,IAAI,KAAK,CAAC,YAAY,KAAK,gBAAgB,EAAE;QAClD,YAAY,GAAG,CAAC,CAAC;KAClB;IAED,0BAA0B;IAC1B,IAAI,KAAK,GAAG,IAAI,CAAC;IACjB,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,KAAK,GAAG,EAAE;QACtC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;KACrB;IAED,OAAO;QACL,kBAAkB,EAAE,KAAK,CAAC,kBAAkB;QAC5C,YAAY,EAAE,YAAK,CAAC,cAAc,0CAAE,KAAK,MAAK,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS;QACjF,WAAW,EAAE,CAAC;QACd,YAAY,EAAE,YAAY;QAC1B,KAAK,EAAE,KAAK;KACb,CAAC;AACJ,CAAC;AAED,SAAS,iBAAiB,CAAC,KAAK;;IAC9B,IAAI,YAAK,CAAC,UAAU,0CAAE,KAAK,MAAK,CAAC,EAAE;QACjC,OAAO,yEAAgB,CAAC,QAAQ,CAAC;KAClC;SAAM,IAAI,YAAK,CAAC,UAAU,0CAAE,KAAK,MAAK,CAAC,IAAI,kBAAK,CAAC,UAAU,0CAAE,KAAK,0CAAE,MAAM,IAAG,CAAC,EAAE;QAC/E,OAAO,yEAAgB,CAAC,OAAO,CAAC;KACjC;SAAM;QACL,OAAO,yEAAgB,CAAC,QAAQ,CAAC;KAClC;AACH,CAAC;AAED,SAAS,gBAAgB,CAAC,KAAK;IAC7B,OAAO,KAAK,CAAC,aAAa,IAAI,CAAC,CAAC;AAClC,CAAC;AAED,SAAS,YAAY,CAAC,KAAK;IACzB,OAAO,CAAC,KAAK,CAAC,UAAU,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,cAAc,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACrG,CAAC;AAED,SAAS,cAAc,CAAC,OAAO;IAC7B,OAAO,CAAC,OAAO,IAAI,CAAC,6CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,6CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrH,CAAC;AAED,SAAS,cAAc,CAAC,KAAK;IAC3B,OAAO,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,eAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1F,CAAC;AAED,SAAS,eAAe,CAAC,MAAM;;IAC7B,OAAO,QAAC,MAAM,CAAC,KAAK,0CAAE,MAAM,KAAI,QAAC,MAAM,CAAC,IAAI,0CAAE,MAAM,KAAI,QAAC,MAAM,CAAC,WAAW,0CAAE,MAAM,KAAI,QAAC,MAAM,CAAC,OAAO,0CAAE,MAAM,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC;AACtI,CAAC;AAED,SAAS,aAAa,CAAC,MAAM;IAC3B,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;AAC3F,CAAC;AAED,SAAS,eAAe,CAAC,MAAM,EAAE,SAAS;IACxC,OAAO,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,GAAG,IAAI,SAAS,KAAK,GAAG,CAAC;AAC7D,CAAC;;;;;;;;;;;;;ACpLD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AAaA;AACA;;AAEA+e,6EAAa,CAAC;AACZC,MAAI,EAAE,iEADM;AAEZC,OAAK,EAAE,kEAFK,EAAD,CAAb;;;;;;;;;;;;;;;;;sJChBA;;;;;;;;;;;;;AAaMC,uB;;AAEJ;AACA,iCAAYC,MAAZ,EAAoB;AAClBA,QAAM,CAACC,MAAP,GAAgB,IAAhB;AACA,OAAKC,SAAL,GAAiBF,MAAM,CAACG,IAAxB;AACA,OAAKC,KAAL,GAAa,KAAKF,SAAL,CAAeE,KAA5B;;AAEA,OAAKC,OAAL,GAAe;AACb,IAAEzsB,IAAI,EAAE,OAAR,EAAiBjQ,KAAK,EAAE,OAAxB,EADa;AAEb,IAAEiQ,IAAI,EAAE,MAAR,EAAiBjQ,KAAK,EAAE,MAAxB,EAFa,CAAf;;AAIA,OAAK28B,SAAL,GAAiB,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,MAAvB,EAA+B,MAA/B,EAAuC,MAAvC,EAA+C,MAA/C,EAAuD,MAAvD,EAA+D,MAA/D,EAAuE,MAAvE,EAA+E,MAA/E,EAAuF,MAAvF,CAAjB;AACA,OAAKC,UAAL,GAAkB;AAChB,gBADgB;AAEhB,kBAFgB;AAGhB,gBAHgB,CAAlB;;;AAMA,OAAKC,cAAL,GAAsB;AACpB,IAAE5sB,IAAI,EAAE,SAAR,EAAmBjQ,KAAK,EAAE,SAA1B,EADoB;AAEpB,IAAEiQ,IAAI,EAAE,aAAR,EAAuBjQ,KAAK,EAAE,YAA9B,EAFoB;AAGpB,IAAEiQ,IAAI,EAAE,UAAR,EAAuBjQ,KAAK,EAAE,UAA9B,EAHoB,CAAtB;;;AAMA,OAAK88B,gBAAL,GAAwB;AACtB,IAAE7sB,IAAI,EAAE,KAAR,EAAoBjQ,KAAK,EAAE,CAAC,CAAD,EAAG,CAAH,CAA3B,EADsB;AAEtB,IAAEiQ,IAAI,EAAE,IAAR,EAAoBjQ,KAAK,EAAE,CAAC,CAAD,CAA3B,EAFsB;AAGtB,IAAEiQ,IAAI,EAAE,UAAR,EAAoBjQ,KAAK,EAAE,CAA3B,EAHsB,CAAxB;;AAKD,C;;;AAGI,SAAS+8B,sBAAT,GAAkC;AACvC,SAAO;AACLC,YAAQ,EAAE,GADL;AAELC,SAAK,EAAE,IAFF;AAGLC,eAAW,EAAE,qFAHR;AAILC,cAAU,EAAEf,uBAJP,EAAP;;AAMD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrDyB;AACO;AACV;AAC6B;AACR;AACgB;AAED;AACJ;AACmB;AACjB;AACA;AAElB;AAEvC,IAAM,oBAAoB,GAAG,GAAG,CAAC;AAE1B,IAAM,cAAc,GAAG;IAC5B,KAAK,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IACnB,IAAI,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IAClB,WAAW,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IACzB,OAAO,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IACrB,IAAI,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IAClB,KAAK,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC;IACnB,YAAY,EAAE,UAAU;CACzB,CAAC;AAEK,IAAM,gBAAgB,GAAG;IAC9B,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAO,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,KAAK,EAAC;IACrF,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,iBAAiB,EAAE,KAAK,EAAE,oBAAoB,EAAE,IAAI,EAAE,IAAI,EAAC;IACpF,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAW,KAAK,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,EAAC;IACnF,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAQ,KAAK,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,EAAC;IACnF,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAW,KAAK,EAAE,mBAAmB,EAAE,IAAI,EAAE,IAAI,EAAC;IACnF,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAO,KAAK,EAAE,gBAAgB,EAAE,IAAI,EAAE,IAAI,EAAC;CACjF,CAAC;AAEK,IAAM,kBAAkB,GAAG,cAAM,uBAAgB,EAAhB,CAAgB,CAAC;AAEzD,IAAM,mBAAmB,GAAG,sBAAsB,CAAC;AAE5C,IAAM,cAAc,GAAG;IAC5B,aAAa,EAAE,kEAAsB;IACrC,OAAO,EAAE,CAAC,EAAE,CAAC;IACb,SAAS;IACT,SAAS,EAAE,KAAK;IAChB,iBAAiB,EAAE,KAAK;IACxB,SAAS,EAAE,KAAK;IAChB,UAAU,EAAE,KAAK;IACjB,QAAQ,EAAE,KAAK;IACf,WAAW,EAAE,KAAK;IAClB,UAAU,EAAE,KAAK;IACjB,aAAa,EAAE,IAAI;IACnB,QAAQ,EAAE,IAAI;IACd,QAAQ,EAAE,IAAI;IACd,gBAAgB,EAAE,IAAI;IACtB,oBAAoB,EAAE,IAAI;IAC1B,UAAU;IACV,YAAY,EAAE,UAAU;IACxB,KAAK,EAAE,EAAE;IACT,eAAe;IACf,MAAM,EAAE,MAAM;IACd,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,CAAC;IACX,eAAe,EAAE,IAAI;IACrB,mBAAmB,EAAE,IAAI;IACzB,kBAAkB,EAAE,IAAI;IACxB,kBAAkB,EAAE,IAAI;IACxB,sBAAsB,EAAE,KAAK;IAC7B,gBAAgB,EAAE,EAAE;IACpB,cAAc,EAAE,EAAE;IAClB,+BAA+B;IAC/B,eAAe,EAAE,kBAAkB,EAAE;IACrC,YAAY,EAAE,mBAAmB;IACjC,aAAa,EAAE,mBAAmB;IAClC,aAAa,EAAE,KAAK;IACpB,gCAAgC,EAAE,KAAK;IACvC,gBAAgB,EAAE,KAAK;CACxB,CAAC;AAEF,IAAM,gBAAgB,GAAG;IACvB,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,SAAS;CACf,CAAC;AAEK,SAAS,kBAAkB,CAAC,KAAU;IAC3C,OAAO;QACL,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAC;QAChC,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,IAAI,EAAC;QAC7B,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAC;QAC9B,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAC;QAChC,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAC;QAC9B,EAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAC;KAClC;AACH,CAAC;AAAA,CAAC;AAEF;IAAsC,oCAAgB;IAYpD,gBAAgB;IAChB,0BAAY,MAAM,EAAE,SAAS,EAAE,QAAQ;QAAvC,YACE,kBAAM,MAAM,EAAE,SAAS,CAAC,SA+BzB;QA9BC,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC;QACpB,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,6DAA6D;QAC7D,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1B,KAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;QACzC,KAAI,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;QAC7C,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAErB,KAAI,CAAC,KAAK,GAAG,sEAAkB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;QAC5C,6CAAC,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,EAAE,6CAAC,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC,CAAC;QAExD,gEAAgE;QAChE,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,sBAAsB,EAAE,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;QAC7E,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,yDAAW,CAAC,gBAAgB,EAAE,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;QACjF,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,yDAAW,CAAC,mBAAmB,EAAE,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;QAEhF,QAAQ,CAAC,gBAAgB,CAAC,0BAA0B,EAAE,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QAE/F,2BAA2B;QAC3B,KAAI,CAAC,cAAc,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC;QACrE,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC;QAChF,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC;QAC7E,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;QAC9E,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC;QAChF,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC;QAC9E,cAAc,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,oDAAK,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,QAAQ,CAAC;;IACnF,CAAC;IAED,yCAAc,GAAd;QACE,mEAAmE;QACnE,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,kEAAsB,CAAC;QAClD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,mEAAsB,CAAC,CAAC;IACvD,CAAC;IAED,+CAAoB,GAApB,UAAqB,IAAS;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;QACtC,IAAI,QAAQ,GAAG,EAAE,CAAC;QAElB,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;YACvB,KAAwB,UAAI,EAAJ,aAAI,EAAJ,kBAAI,EAAJ,IAAI,EAAE;gBAAzB,IAAM,SAAS;gBAClB,IAAI;oBACF,IAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;oBAC1C,IAAI,MAAM,CAAC,OAAO,EAAE;wBAClB,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;qBACjC;yBAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC5B,4DAA4D;wBAC5D,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;qBACvB;iBACF;gBAAC,OAAO,KAAK,EAAE;oBACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBAC9B;aACF;SACF;QAED,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,QAAQ,GAAG,6CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC/B,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,OAAO,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,8CAAmB,GAAnB,UAAoB,QAAQ;QAC1B,IAAM,MAAM,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,aAAa,EAAE,UAAU,CAAC,CAAC;QAC1D,OAAO,6CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,iBAAO;YAC5B,IAAM,eAAe,GAAG,6CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAC7C,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC7C,MAAM,CAAC,OAAO,CAAC,eAAK;oBAClB,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE;wBAC1B,eAAe,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;wBACjG,eAAe,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,gBAAgB,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;qBAClG;gBACH,CAAC,CAAC,CAAC;aACJ;YACD,OAAO,eAAe,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAkB,GAAlB,UAAmB,YAAY;QAC7B,OAAO,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC;IACjD,CAAC;IAED,2CAAgB,GAAhB;QACE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;SACpC;IACH,CAAC;IAED,wCAAa,GAAb,UAAc,GAAG,EAAE,YAA8B;QAA9B,6DAA8B;QAC/C,IAAI,CAAC,SAAS,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;QAChC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,IAAI,YAAY,CAAC;QACzC,IAAI,GAAG,CAAC,IAAI,EAAE;YACZ,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE;gBACpB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;aAC/B;YACD,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE;gBAClB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;aAC7B;SACF;QAED,gDAAgD;QAChD,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;IACxC,CAAC;IAED,yCAAc,GAAd,UAAe,QAAQ;QAAvB,iBAYC;QAXC,IAAI,QAAQ,GAAG,6CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAErC,QAAQ,GAAG,6CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1D,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACzC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAEvC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QAE3B,OAAO,IAAI,CAAC,QAAQ,CAAC;YACnB,OAAO,iBAAM,MAAM,aAAC,QAAQ,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAc,GAAd,UAAe,QAAQ;QAAvB,iBAwBC;QAvBC,IAAI,YAAY,GAAG,6CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAEzC,+BAA+B;QAC/B,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,gBAAgB,EAAE;YAChD,YAAY,GAAG,6CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,iBAAO;gBAC3C,OAAO,CAAC,CAAC,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YAChE,CAAC,CAAC,CAAC;SACJ;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,cAAc,EAAE;YACrD,YAAY,GAAG,6CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,iBAAO;gBAC3C,OAAO,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC;YAC7D,CAAC,CAAC,CAAC;SACJ;QAED,8BAA8B;QAC9B,YAAY,GAAG,6CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,iBAAO;YAC3C,IAAI,OAAO,CAAC,QAAQ,EAAE;gBACpB,OAAO,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;aAC1D;iBAAM;gBACL,OAAO,KAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;aAC1D;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,uCAAY,GAAZ,UAAa,QAAsB;QACjC,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,UAAU,EAAE;YAC1C,QAAQ,GAAG,6CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,WAAW,EAAE,SAAS,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;SAChG;aAAM,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,KAAK,YAAY,EAAE;YACnD,QAAQ,GAAG,6CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;SAChG;QACD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,wCAAa,GAAb,UAAc,aAAa;QACzB,IAAM,OAAO,GAAG,6CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QAE3C,8CAA8C;QAC9C,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE;YACzC,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC9B,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC;YACjC,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;aAC5B;SACF;QAED,sBAAsB;QACtB,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7C,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;SACrB;QAED,gCAAgC;QAChC;;YAEI;QAEJ,OAAO,CAAC,cAAc,GAAG,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACpD,OAAO,OAAO,CAAC;IACjB,CAAC;IAED,oCAAS,GAAT,UAAU,MAAM;QACd,IAAI,CAAC,MAAM,EAAE;YACX,OAAO,EAAE,CAAC;SACX;QAED,IAAI,IAAI,GAAG,6CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,UAAC,GAAG,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;QACzD,IAAI,GAAG,6CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,UAAC,GAAG;YACrB,IAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChC,OAAO,EAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAC,CAAC;QAC9D,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IACd,CAAC;IAED,uCAAY,GAAZ,UAAa,IAAI;QACf,OAAO,6CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,UAAC,GAAG,IAAK,OAAG,GAAG,CAAC,GAAG,SAAI,GAAG,CAAC,KAAO,EAAzB,CAAyB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpE,CAAC;IAED,uCAAY,GAAZ,UAAa,GAAG,EAAE,UAAU;QAC1B,KAAqB,UAAkB,EAAlB,SAAI,CAAC,KAAK,CAAC,OAAO,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAApC,IAAM,MAAM;YACf,IAAI,MAAM,CAAC,UAAU,KAAK,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,UAAU,EAAE;gBAC5E,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACrC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC3C,IAAM,MAAM,GAAG,EAAC,GAAG,EAAE,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAC,CAAC;gBAChD,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACxB,UAAU,GAAG,6CAAC,CAAC,QAAQ,CAAC,UAAU,EAAE,6CAAC,CAAC,OAAO,CAAC,CAAC;gBAC/C,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;gBAChD,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;aAChC;SACF;QACD,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,0CAAe,GAAf,UAAgB,GAAG,EAAE,UAAU;QAC7B,IAAM,QAAQ,GAAG,WAAC,IAAI,QAAC,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK,EAA1C,CAA0C,CAAC;QACjE,KAAqB,UAAkB,EAAlB,SAAI,CAAC,KAAK,CAAC,OAAO,EAAlB,cAAkB,EAAlB,IAAkB,EAAE;YAApC,IAAM,MAAM;YACf,IAAI,MAAM,CAAC,UAAU,KAAK,UAAU,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,UAAU,EAAE;gBAC5E,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACrC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAC3C,6CAAC,CAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;gBAC/B,UAAU,GAAG,6CAAC,CAAC,QAAQ,CAAC,UAAU,EAAE,6CAAC,CAAC,OAAO,CAAC,CAAC;gBAC/C,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;gBAChD,MAAM,CAAC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;aAChC;SACF;QACD,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,2CAAgB,GAAhB,UAAiB,OAAO;QACtB,IAAM,UAAU,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACvC,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACnE,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;QAC/D,OAAO,yEAAgB,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC;aAChD,IAAI,CAAC,UAAC,UAAe;YACpB,OAAO,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,oBAAoB,CAAC,CAAC;QACjG,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAgB,GAAhB,UAAiB,OAAmB;QAClC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;YACpB,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SAC5B;QACD,IAAM,QAAQ,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACnC,OAAO,yEAAgB,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC;aAChD,IAAI,CAAC,UAAC,UAAe;YACpB,OAAO,UAAU,CAAC,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAiB,GAAjB,UAAkB,OAAmB;;QACnC,IAAM,MAAM,GAAG,cAAO,CAAC,KAAK,0CAAE,MAAM,EAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;QAEtE,OAAO,yEAAgB,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC;aAChD,IAAI,CAAC,UAAC,UAAe;YACpB,OAAO,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sDAA2B,GAA3B,UAA4B,eAAe;QACzC,IAAI,SAAS,GAAG,gBAAgB,CAAC;QACjC,IAAI,eAAe,CAAC,QAAQ,IAAI,CAAC,EAAE;YACjC,SAAS,GAAG,kBAAkB,CAAC;SAChC;QACD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,8CAAmB,GAAnB;QACE,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,EAAE,CAAC;QAC/B,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,6CAAkB,GAAlB,UAAmB,OAAmB,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ;QAAjE,iBAqBC;QApBC,IAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;QAChC,IAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC;QAC/C,IAAM,WAAW,GAAG,YAAY,GAAG,cAAc,GAAG,OAAO,CAAC;QAC5D,OAAO,yEAAgB,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC;aAChD,IAAI,CAAC,UAAC,UAAe;YACpB,IAAM,YAAY,GAAG,KAAI,CAAC,UAAU,CAAC,QAAQ,IAAI,KAAI,CAAC,UAAU,CAAC,cAAc,CAAC;YAChF,IAAI,UAAU,CAAC,uBAAuB,IAAI,CAAC,YAAY,EAAE;gBACvD,OAAO,OAAO,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,gDAAgD,EAAC,CAAC,CAAC;aACpF;YACD,IAAI,OAAO,EAAE;gBACX,OAAO,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;aACnF;iBAAM;gBACL,OAAO,OAAO,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,gDAAgD,EAAC,CAAC,CAAC;aACpF;QACH,CAAC,CAAC;aACD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC7B,KAAK,CAAC,UAAC,GAAG;YACT,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACxB,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAa,GAAb,UAAc,OAAmB,EAAE,QAAgB;;QACjD,IAAM,MAAM,GAAG,cAAO,CAAC,KAAK,0CAAE,MAAM,EAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;QAEtE,OAAO,yEAAgB,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC;aAChD,IAAI,CAAC,UAAC,UAAe;YACpB,OAAO,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+CAAoB,GAApB,UAAqB,QAAQ,EAAE,SAAS;QAAxC,iBAMC;QALC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAChB,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6CAAkB,GAAlB,UAAmB,UAAU;QAA7B,iBAKC;QAJC,IAAI,CAAC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAChB,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAI,GAAJ,UAAK,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI;QAA7B,iBAkEC;QAjEC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAEzB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,yDAAW,CAAC,MAAM,EAAE,UAAC,UAAU;YAC5C,UAAU,GAAG,UAAU,IAAI,KAAI,CAAC,UAAU,CAAC;YAC3C,WAAW,CAAC,UAAU,CAAC,CAAC;YACxB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,SAAS,WAAW,CAAC,QAAQ;YAC3B,IAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACnE,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;YAE/D,IAAM,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAClF,IAAM,YAAY,GAAG,QAAQ,IAAI,QAAQ,KAAK,GAAG,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC;YAEpE,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,IAAI,EAAE,CAAC;YACtC,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAEhE,IAAM,YAAY,GAAG,EAAE,CAAC;YACxB,KAAK,IAAM,IAAI,IAAI,cAAc,EAAE;gBACjC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACvC;YACD,YAAY,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC,eAAe,CAAC;YACjE,IAAM,iBAAiB,GAAG;gBACxB,QAAQ;gBACR,YAAY;gBACZ,SAAS,EAAE,EAAE,QAAQ,YAAE,MAAM,UAAE;gBAC/B,OAAO;gBACP,QAAQ;gBACR,QAAQ,EAAE,YAAY;gBACtB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE;gBACtB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAClD,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAClD,UAAU,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC7C,gBAAgB,EAAE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtD,cAAc,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;gBAClD,YAAY,EAAE,UAAC,OAAO,EAAE,IAAI;oBAClB,WAAO,GAAuB,IAAI,QAA3B,EAAE,MAAM,GAAe,IAAI,OAAnB,EAAE,QAAQ,GAAK,IAAI,SAAT,CAAU;oBAC3C,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;gBACrE,CAAC;gBACD,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC9C,UAAU,EAAE,UAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,QAAQ;oBAC7C,IAAI,OAAO,IAAI,QAAQ,EAAE;wBACvB,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;qBACvC;yBAAM;wBACL,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;qBACpC;gBACH,CAAC;gBACD,KAAK,EAAE,oDAAK,CAAC,IAAI,CAAC,cAAc,CAAC;aAClC,CAAC;YAEF,IAAI,iBAAiB,CAAC;YACtB,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,EAAE;gBAC3B,iBAAiB,GAAG,4CAAK,CAAC,aAAa,CAAC,wEAAS,EAAE,iBAAiB,CAAC,CAAC;aACvE;iBAAM;gBACL,iBAAiB,GAAG,4CAAK,CAAC,aAAa,CAAC,qEAAW,EAAE,iBAAiB,CAAC,CAAC;aACzE;YAED,IAAM,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YACvD,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,MAAM,EAAE;gBACnD,gDAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3D;iBAAM;gBACL,gDAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aAC7C;QACH,CAAC;IACH,CAAC;IACH,uBAAC;AAAD,CAAC,CAnZqC,wEAAgB,GAmZrD;;AAED,gBAAgB,CAAC,WAAW,GAAG,gFAAgF,CAAC;;;;;;;;;;;;;ACpfhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuB;AACK;AAEwB;AAG7C,SAAS,YAAY,CAAC,OAAmB,EAAE,kBAA0B;IAC1E,IAAI;QACF,IAAM,mBAAmB,GAAG,sEAAmB,CAAC,kBAAkB,CAAC,CAAC;QACpE,IAAM,WAAW,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QAC5D,OAAO,WAAW,GAAG,mBAAmB,CAAC;KAC1C;IAAC,OAAO,CAAC,EAAE;QACV,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAED,IAAM,mBAAmB,GAAG,sBAAsB,CAAC;AAE5C,SAAS,gBAAgB,CAAC,cAAsB,EAAE,YAAqB;IAC5E,IAAM,SAAS,GAAG,6CAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC9C,IAAM,MAAM,GAAG,YAAY,IAAI,mBAAmB,CAAC;IACnD,IAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC5C,OAAO,UAAU,CAAC;AACpB,CAAC;AAEM,IAAM,gBAAgB,GAAG,UAAC,OAAoB;IACnD,IAAM,OAAO,GAAG,4BAA4B,CAAC;IAE7C,OAAO,6CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,eAAK;QAC1B,OAAO,6CAAC,CAAC,KAAK,CAAC,OAAO,EAAE,eAAK;YAC3B,OAAO,KAAK,CAAC,KAAK,KAAK,KAAK,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAIK,SAAS,SAAS,CAAC,IAAY,EAAE,KAA8B;IACpE,IAAI,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QAC1C,IAAI,IAAI,GAAG,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;KAClC;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAED,SAAS,6BAA6B,CAAC,GAAW,EAAE,eAAyB;IAC3E,OAAO,kBAAkB,CAAC,GAAG,CAAC;SAC3B,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,gEAAgE;SAC1F,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;SACrB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;SACrB,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;SACpB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;SACrB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;SACrB,OAAO,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACpD,CAAC;AAED,SAAS,WAAW,CAAC,CAAM;IACzB,IAAM,CAAC,GAAU,EAAE,CAAC;IACpB,IAAM,QAAQ,GAAG,OAAO,CAAC;IAEzB,IAAM,OAAO,GAAG,UAAC,GAAQ;QACvB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,gBAAgB,CAAC;IAClE,CAAC,CAAC;IAEF,IAAM,GAAG,GAAG,UAAC,CAAS,EAAE,CAAM;QAC5B,CAAC,GAAG,OAAO,CAAC,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,IAAI,OAAO,CAAC,KAAK,SAAS,EAAE;YAC1B,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,6BAA6B,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,GAAG,GAAG,6BAA6B,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SACrG;aAAM;YACL,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,6BAA6B,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SACtD;IACH,CAAC,CAAC;IAEF,IAAM,WAAW,GAAG,UAAC,MAAc,EAAE,GAAQ;QAC3C,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;QAEhB,IAAI,MAAM,EAAE;YACV,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;gBAChB,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBAC1C,IAAI,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;wBACzB,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;qBACrB;yBAAM;wBACL,WAAW,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;qBAC7B;iBACF;aACF;iBAAM,IAAI,GAAG,IAAI,MAAM,CAAC,GAAG,CAAC,KAAK,iBAAiB,EAAE;gBACnD,KAAK,GAAG,IAAI,GAAG,EAAE;oBACf,WAAW,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;iBACjD;aACF;iBAAM;gBACL,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;aAClB;SACF;aAAM,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;YACvB,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC1C,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;aAChC;SACF;aAAM;YACL,KAAK,GAAG,IAAI,GAAG,EAAE;gBACf,WAAW,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aAC5B;SACF;QACD,OAAO,CAAC,CAAC;IACX,CAAC,CAAC;IAEF,OAAO,WAAW,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACtC,CAAC;;;;;;;;;;;;ACxGD,2D;;;;;;;;;;;ACAA,8D;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,6E;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,uD","file":"panel-triggers/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./panel-triggers/module.js\");\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\n\nfunction toNumber(cssValue) {\n  return parseFloat(cssValue) || 0;\n}\n\nexport default function getBorders(element) {\n  var computedStyle = isHTMLElement(element) ? getComputedStyle(element) : {};\n  return {\n    top: toNumber(computedStyle.borderTopWidth),\n    right: toNumber(computedStyle.borderRightWidth),\n    bottom: toNumber(computedStyle.borderBottomWidth),\n    left: toNumber(computedStyle.borderLeftWidth)\n  };\n}","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDecorations from \"./getDecorations.js\";\nimport contains from \"./contains.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(element);\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement);\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    var decorations = getDecorations(isHTMLElement(clippingParent) ? clippingParent : getDocumentElement(element));\n    accRect.top = Math.max(rect.top + decorations.top, accRect.top);\n    accRect.right = Math.min(rect.right - decorations.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom - decorations.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left + decorations.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (!isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getBorders from \"./getBorders.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\"; // Borders + scrollbars\n\nexport default function getDecorations(element) {\n  var win = getWindow(element);\n  var borders = getBorders(element);\n  var isHTML = getNodeName(element) === 'html';\n  var winScrollBarX = getWindowScrollBarX(element);\n  var x = element.clientWidth + borders.right;\n  var y = element.clientHeight + borders.bottom; // HACK:\n  // document.documentElement.clientHeight on iOS reports the height of the\n  // viewport including the bottom bar, even if the bottom bar isn't visible.\n  // If the difference between window innerHeight and html clientHeight is more\n  // than 50, we assume it's a mobile bottom bar and ignore scrollbars.\n  // * A 50px thick scrollbar is likely non-existent (macOS is 15px and Windows\n  //   is about 17px)\n  // * The mobile bar is 114px tall\n\n  if (isHTML && win.innerHeight - element.clientHeight > 50) {\n    y = win.innerHeight - borders.bottom;\n  }\n\n  return {\n    top: isHTML ? 0 : element.clientTop,\n    right: // RTL scrollbar (scrolling containers only)\n    element.clientLeft > borders.left ? borders.right : // LTR scrollbar\n    isHTML ? win.innerWidth - x - winScrollBarX : element.offsetWidth - x,\n    bottom: isHTML ? win.innerHeight - y : element.offsetHeight - y,\n    left: isHTML ? winScrollBarX : element.clientLeft\n  };\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}","import getCompositeRect from \"./getCompositeRect.js\";\nimport getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getDocumentRect(element) {\n  var win = getWindow(element);\n  var winScroll = getWindowScroll(element);\n  var documentRect = getCompositeRect(getDocumentElement(element), win);\n  documentRect.height = Math.max(documentRect.height, win.innerHeight);\n  documentRect.width = Math.max(documentRect.width, win.innerWidth);\n  documentRect.x = -winScroll.scrollLeft;\n  documentRect.y = -winScroll.scrollTop;\n  return documentRect;\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element); // Find the nearest non-table offsetParent\n\n  while (offsetParent && isTableElement(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || window;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getWindow from \"./getWindow.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var visualViewport = win.visualViewport;\n  var width = win.innerWidth;\n  var height = win.innerHeight; // We don't know which browsers have buggy or odd implementations of this, so\n  // for now we're only applying it to iOS to fix the keyboard issue.\n  // Investigation required\n\n  if (visualViewport && /iPhone|iPod|iPad/.test(navigator.platform)) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: 0,\n    y: 0\n  };\n}","/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nexport default function getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nexport { isElement, isHTMLElement };","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nexport default function listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nexport * from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, {}, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, {}, state.options, {}, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator();","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","import { popperGenerator } from \"./index.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = (variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements).filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  }); // $FlowFixMe: Flow seems to have problems with two array unions...\n\n  var overflows = placements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, {}, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","export default function format(str) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return [].concat(args).reduce(function (p, c) {\n    return p.replace(/%s/, c);\n  }, str);\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, {}, current, {\n      options: Object.assign({}, existing.options, {}, current.options),\n      data: Object.assign({}, existing.data, {}, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), {}, paddingObject);\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","export default function uniqueBy(arr, fn) {\n  var identifiers = new Set();\n  return arr.filter(function (item) {\n    var identifier = fn(item);\n\n    if (!identifiers.has(identifier)) {\n      identifiers.add(identifier);\n      return true;\n    }\n  });\n}","import format from \"./format.js\";\nimport { modifierPhases } from \"../enums.js\";\nvar INVALID_MODIFIER_ERROR = 'Popper: modifier \"%s\" provided an invalid %s property, expected %s but got %s';\nvar MISSING_DEPENDENCY_ERROR = 'Popper: modifier \"%s\" requires \"%s\", but \"%s\" modifier is not available';\nvar VALID_PROPERTIES = ['name', 'enabled', 'phase', 'fn', 'effect', 'requires', 'options'];\nexport default function validateModifiers(modifiers) {\n  modifiers.forEach(function (modifier) {\n    Object.keys(modifier).forEach(function (key) {\n      switch (key) {\n        case 'name':\n          if (typeof modifier.name !== 'string') {\n            console.error(format(INVALID_MODIFIER_ERROR, String(modifier.name), '\"name\"', '\"string\"', \"\\\"\" + String(modifier.name) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'enabled':\n          if (typeof modifier.enabled !== 'boolean') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"enabled\"', '\"boolean\"', \"\\\"\" + String(modifier.enabled) + \"\\\"\"));\n          }\n\n        case 'phase':\n          if (modifierPhases.indexOf(modifier.phase) < 0) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"phase\"', \"either \" + modifierPhases.join(', '), \"\\\"\" + String(modifier.phase) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'fn':\n          if (typeof modifier.fn !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"fn\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'effect':\n          if (typeof modifier.effect !== 'function') {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"effect\"', '\"function\"', \"\\\"\" + String(modifier.fn) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requires':\n          if (!Array.isArray(modifier.requires)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requires\"', '\"array\"', \"\\\"\" + String(modifier.requires) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'requiresIfExists':\n          if (!Array.isArray(modifier.requiresIfExists)) {\n            console.error(format(INVALID_MODIFIER_ERROR, modifier.name, '\"requiresIfExists\"', '\"array\"', \"\\\"\" + String(modifier.requiresIfExists) + \"\\\"\"));\n          }\n\n          break;\n\n        case 'options':\n        case 'data':\n          break;\n\n        default:\n          console.error(\"PopperJS: an invalid property has been provided to the \\\"\" + modifier.name + \"\\\" modifier, valid properties are \" + VALID_PROPERTIES.map(function (s) {\n            return \"\\\"\" + s + \"\\\"\";\n          }).join(', ') + \"; but \\\"\" + key + \"\\\" was provided.\");\n      }\n\n      modifier.requires && modifier.requires.forEach(function (requirement) {\n        if (modifiers.find(function (mod) {\n          return mod.name === requirement;\n        }) == null) {\n          console.error(format(MISSING_DEPENDENCY_ERROR, String(modifier.name), requirement, requirement));\n        }\n      });\n    });\n  });\n}","export default function within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import * as React from 'react';\nexport var ManagerReferenceNodeContext = React.createContext();\nexport var ManagerReferenceNodeSetterContext = React.createContext();\nexport function Manager(_ref) {\n  var children = _ref.children;\n\n  var _React$useState = React.useState(null),\n      referenceNode = _React$useState[0],\n      setReferenceNode = _React$useState[1];\n\n  React.useEffect(function () {\n    return function () {\n      setReferenceNode(null);\n    };\n  }, [setReferenceNode]);\n  return /*#__PURE__*/React.createElement(ManagerReferenceNodeContext.Provider, {\n    value: referenceNode\n  }, /*#__PURE__*/React.createElement(ManagerReferenceNodeSetterContext.Provider, {\n    value: setReferenceNode\n  }, children));\n}","import * as React from 'react';\nimport { ManagerReferenceNodeContext } from './Manager';\nimport { unwrapArray, setRef } from './utils';\nimport { usePopper } from './usePopper';\n\nvar NOOP = function NOOP() {\n  return void 0;\n};\n\nvar NOOP_PROMISE = function NOOP_PROMISE() {\n  return Promise.resolve(null);\n};\n\nvar EMPTY_MODIFIERS = [];\nexport function Popper(_ref) {\n  var _ref$placement = _ref.placement,\n      placement = _ref$placement === void 0 ? 'bottom' : _ref$placement,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'absolute' : _ref$strategy,\n      _ref$modifiers = _ref.modifiers,\n      modifiers = _ref$modifiers === void 0 ? EMPTY_MODIFIERS : _ref$modifiers,\n      referenceElement = _ref.referenceElement,\n      onFirstUpdate = _ref.onFirstUpdate,\n      innerRef = _ref.innerRef,\n      children = _ref.children;\n  var referenceNode = React.useContext(ManagerReferenceNodeContext);\n\n  var _React$useState = React.useState(null),\n      popperElement = _React$useState[0],\n      setPopperElement = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      arrowElement = _React$useState2[0],\n      setArrowElement = _React$useState2[1];\n\n  React.useEffect(function () {\n    return setRef(innerRef, popperElement);\n  }, [innerRef, popperElement]);\n  var options = React.useMemo(function () {\n    return {\n      placement: placement,\n      strategy: strategy,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: [].concat(modifiers, [{\n        name: 'arrow',\n        enabled: arrowElement != null,\n        options: {\n          element: arrowElement\n        }\n      }])\n    };\n  }, [placement, strategy, onFirstUpdate, modifiers, arrowElement]);\n\n  var _usePopper = usePopper(referenceElement || referenceNode, popperElement, options),\n      state = _usePopper.state,\n      styles = _usePopper.styles,\n      forceUpdate = _usePopper.forceUpdate,\n      update = _usePopper.update;\n\n  var childrenProps = React.useMemo(function () {\n    return {\n      ref: setPopperElement,\n      style: styles.popper,\n      placement: state ? state.placement : placement,\n      hasPopperEscaped: state && state.modifiersData.hide ? state.modifiersData.hide.hasPopperEscaped : null,\n      isReferenceHidden: state && state.modifiersData.hide ? state.modifiersData.hide.isReferenceHidden : null,\n      arrowProps: {\n        style: styles.arrow,\n        ref: setArrowElement\n      },\n      forceUpdate: forceUpdate || NOOP,\n      update: update || NOOP_PROMISE\n    };\n  }, [setPopperElement, setArrowElement, placement, state, styles, update, forceUpdate]);\n  return unwrapArray(children)(childrenProps);\n}","import * as React from 'react';\nimport warning from 'warning';\nimport { ManagerReferenceNodeSetterContext } from './Manager';\nimport { safeInvoke, unwrapArray, setRef } from './utils';\nexport function Reference(_ref) {\n  var children = _ref.children,\n      innerRef = _ref.innerRef;\n  var setReferenceNode = React.useContext(ManagerReferenceNodeSetterContext);\n  var refHandler = React.useCallback(function (node) {\n    setRef(innerRef, node);\n    safeInvoke(setReferenceNode, node);\n  }, [innerRef, setReferenceNode]); // ran on unmount\n\n  React.useEffect(function () {\n    return function () {\n      return setRef(innerRef, null);\n    };\n  });\n  React.useEffect(function () {\n    warning(Boolean(setReferenceNode), '`Reference` should not be used outside of a `Manager` component.');\n  }, [setReferenceNode]);\n  return unwrapArray(children)({\n    ref: refHandler\n  });\n}","// Public components\nimport { Popper } from './Popper';\nimport { Manager } from './Manager';\nimport { Reference } from './Reference';\nimport { usePopper } from './usePopper';\nexport { Popper, Manager, Reference, usePopper }; // Public types","import * as React from 'react';\nimport { createPopper as defaultCreatePopper } from '@popperjs/core';\nimport isEqual from 'react-fast-compare';\nimport { fromEntries, useIsomorphicLayoutEffect } from './utils';\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  var _React$useState = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      }\n    },\n    attributes: {}\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      fn: function fn(_ref) {\n        var state = _ref.state;\n        var elements = Object.keys(state.elements);\n        setState({\n          styles: fromEntries(elements.map(function (element) {\n            return [element, state.styles[element] || {}];\n          })),\n          attributes: fromEntries(elements.map(function (element) {\n            return [element, state.attributes[element]];\n          }))\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(optionsWithDefaults.modifiers, [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","import * as React from 'react';\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array,\n * otherwise returns the argument. Used for Preact compatibility.\n */\nexport var unwrapArray = function unwrapArray(arg) {\n  return Array.isArray(arg) ? arg[0] : arg;\n};\n/**\n * Takes a maybe-undefined function and arbitrary args and invokes the function\n * only if it is defined.\n */\n\nexport var safeInvoke = function safeInvoke(fn) {\n  if (typeof fn === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return fn.apply(void 0, args);\n  }\n};\n/**\n * Sets a ref using either a ref callback or a ref object\n */\n\nexport var setRef = function setRef(ref, node) {\n  // if its a function call it\n  if (typeof ref === 'function') {\n    return safeInvoke(ref, node);\n  } // otherwise we should treat it as a ref object\n  else if (ref != null) {\n      ref.current = node;\n    }\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\n\nexport var fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n/**\n * Small wrapper around `useLayoutEffect` to get rid of the warning on SSR envs\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","import React from 'react'\nimport classnames from 'classnames'\n//\nimport _ from './utils'\nimport Pagination from './pagination'\n\nconst emptyObj = () => ({})\n\nexport default {\n  // General\n  data: [],\n  resolveData: data => data,\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPage: 0,\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line no-unused-vars\n  defaultFilterMethod: (filter, row, column) => {\n    const id = filter.pivotId || filter.id\n    return row[id] !== undefined ? String(row[id]).startsWith(filter.value) : true\n  },\n  // eslint-disable-next-line no-unused-vars\n  defaultSortMethod: (a, b, desc) => {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a\n    b = b === null || b === undefined ? '' : b\n    // force any string values to lowercase\n    a = typeof a === 'string' ? a.toLowerCase() : a\n    b = typeof b === 'string' ? b.toLowerCase() : b\n    // Return either 1 or -1 to indicate a sort priority\n    if (a > b) {\n      return 1\n    }\n    if (a < b) {\n      return -1\n    }\n    // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n    return 0\n  },\n\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n\n  // Pivoting\n  pivotBy: undefined,\n\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n\n  // Server-side Callbacks\n  onFetchData: () => null,\n\n  // Classes\n  className: '',\n  style: {},\n\n  // Component decorators\n  getProps: emptyObj,\n  getTableProps: emptyObj,\n  getTheadGroupProps: emptyObj,\n  getTheadGroupTrProps: emptyObj,\n  getTheadGroupThProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: emptyObj,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: emptyObj,\n  getTheadFilterThProps: emptyObj,\n  getTbodyProps: emptyObj,\n  getTrGroupProps: emptyObj,\n  getTrProps: emptyObj,\n  getTdProps: emptyObj,\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: emptyObj,\n  getPaginationProps: emptyObj,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    Placeholder: undefined,\n    // All Columns\n    sortable: undefined, // use table default\n    resizable: undefined, // use table default\n    filterable: undefined, // use table default\n    show: true,\n    minWidth: 100,\n    minResizeWidth: 11,\n    // Cells only\n    className: '',\n    style: {},\n    getProps: emptyObj,\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    headerClassName: '',\n    headerStyle: {},\n    getHeaderProps: emptyObj,\n    // Footers only\n    footerClassName: '',\n    footerStyle: {},\n    getFooterProps: emptyObj,\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined,\n  },\n\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 35,\n  },\n\n  pivotDefaults: {\n    // extend the defaults for pivoted columns here\n  },\n\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  pageJumpText: 'jump to page',\n  rowsSelectorText: 'rows per page',\n\n  // Components\n  TableComponent: ({ children, className, ...rest }) => (\n    <div\n      className={classnames('rt-table', className)}\n      role=\"grid\"\n      // tabIndex='0'\n      {...rest}\n    >\n      {children}\n    </div>\n  ),\n  TheadComponent: _.makeTemplateComponent('rt-thead', 'Thead'),\n  TbodyComponent: _.makeTemplateComponent('rt-tbody', 'Tbody'),\n  TrGroupComponent: ({ children, className, ...rest }) => (\n    <div className={classnames('rt-tr-group', className)} role=\"rowgroup\" {...rest}>\n      {children}\n    </div>\n  ),\n  TrComponent: ({ children, className, ...rest }) => (\n    <div className={classnames('rt-tr', className)} role=\"row\" {...rest}>\n      {children}\n    </div>\n  ),\n  ThComponent: ({\n    toggleSort, className, children, ...rest\n  }) => (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n    <div\n      className={classnames('rt-th', className)}\n      onClick={e => toggleSort && toggleSort(e)}\n      role=\"columnheader\"\n      tabIndex=\"-1\" // Resolves eslint issues without implementing keyboard navigation incorrectly\n      {...rest}\n    >\n      {children}\n    </div>\n  ),\n  TdComponent: ({\n    toggleSort, className, children, ...rest\n  }) => (\n    <div className={classnames('rt-td', className)} role=\"gridcell\" {...rest}>\n      {children}\n    </div>\n  ),\n  TfootComponent: _.makeTemplateComponent('rt-tfoot', 'Tfoot'),\n  FilterComponent: ({ filter, onChange, column }) => (\n    <input\n      type=\"text\"\n      style={{\n        width: '100%',\n      }}\n      placeholder={column.Placeholder}\n      value={filter ? filter.value : ''}\n      onChange={event => onChange(event.target.value)}\n    />\n  ),\n  ExpanderComponent: ({ isExpanded }) => (\n    <div className={classnames('rt-expander', isExpanded && '-open')}>&bull;</div>\n  ),\n  PivotValueComponent: ({ subRows, value }) => (\n    <span>\n      {value} {subRows && `(${subRows.length})`}\n    </span>\n  ),\n  AggregatedComponent: ({ subRows, column }) => {\n    const previewValues = subRows.filter(d => typeof d[column.id] !== 'undefined').map((row, i) => (\n      // eslint-disable-next-line react/no-array-index-key\n      <span key={i}>\n        {row[column.id]}\n        {i < subRows.length - 1 ? ', ' : ''}\n      </span>\n    ))\n    return <span>{previewValues}</span>\n  },\n  PivotComponent: undefined, // this is a computed default generated using\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: Pagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent: ({\n    className, loading, loadingText, ...rest\n  }) => (\n    <div className={classnames('-loading', { '-active': loading }, className)} {...rest}>\n      <div className=\"-loading-inner\">{loadingText}</div>\n    </div>\n  ),\n  NoDataComponent: _.makeTemplateComponent('rt-noData', 'NoData'),\n  ResizerComponent: _.makeTemplateComponent('rt-resizer', 'Resizer'),\n  PadRowComponent: () => <span>&nbsp;</span>,\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n//\nimport _ from './utils'\nimport Lifecycle from './lifecycle'\nimport Methods from './methods'\nimport defaultProps from './defaultProps'\nimport propTypes from './propTypes'\n\nexport const ReactTableDefaults = defaultProps\n\nexport default class ReactTable extends Methods(Lifecycle(Component)) {\n  static propTypes = propTypes\n  static defaultProps = defaultProps\n\n  constructor (props) {\n    super()\n\n    this.getResolvedState = this.getResolvedState.bind(this)\n    this.getDataModel = this.getDataModel.bind(this)\n    this.getSortedData = this.getSortedData.bind(this)\n    this.fireFetchData = this.fireFetchData.bind(this)\n    this.getPropOrState = this.getPropOrState.bind(this)\n    this.getStateOrProp = this.getStateOrProp.bind(this)\n    this.filterData = this.filterData.bind(this)\n    this.sortData = this.sortData.bind(this)\n    this.getMinRows = this.getMinRows.bind(this)\n    this.onPageChange = this.onPageChange.bind(this)\n    this.onPageSizeChange = this.onPageSizeChange.bind(this)\n    this.sortColumn = this.sortColumn.bind(this)\n    this.filterColumn = this.filterColumn.bind(this)\n    this.resizeColumnStart = this.resizeColumnStart.bind(this)\n    this.resizeColumnEnd = this.resizeColumnEnd.bind(this)\n    this.resizeColumnMoving = this.resizeColumnMoving.bind(this)\n\n    this.state = {\n      page: props.defaultPage,\n      pageSize: props.defaultPageSize,\n      sorted: props.defaultSorted,\n      expanded: props.defaultExpanded,\n      filtered: props.defaultFiltered,\n      resized: props.defaultResized,\n      currentlyResizing: false,\n      skipNextSort: false,\n    }\n  }\n\n  render () {\n    const resolvedState = this.getResolvedState()\n    const {\n      children,\n      className,\n      style,\n      getProps,\n      getTableProps,\n      getTheadGroupProps,\n      getTheadGroupTrProps,\n      getTheadGroupThProps,\n      getTheadProps,\n      getTheadTrProps,\n      getTheadThProps,\n      getTheadFilterProps,\n      getTheadFilterTrProps,\n      getTheadFilterThProps,\n      getTbodyProps,\n      getTrGroupProps,\n      getTrProps,\n      getTdProps,\n      getTfootProps,\n      getTfootTrProps,\n      getTfootTdProps,\n      getPaginationProps,\n      getLoadingProps,\n      getNoDataProps,\n      getResizerProps,\n      showPagination,\n      showPaginationTop,\n      showPaginationBottom,\n      manual,\n      loadingText,\n      noDataText,\n      sortable,\n      multiSort,\n      resizable,\n      filterable,\n      // Pivoting State\n      pivotIDKey,\n      pivotValKey,\n      pivotBy,\n      subRowsKey,\n      aggregatedKey,\n      originalKey,\n      indexKey,\n      groupedByPivotKey,\n      // State\n      loading,\n      pageSize,\n      page,\n      sorted,\n      filtered,\n      resized,\n      expanded,\n      pages,\n      onExpandedChange,\n      // Components\n      TableComponent,\n      TheadComponent,\n      TbodyComponent,\n      TrGroupComponent,\n      TrComponent,\n      ThComponent,\n      TdComponent,\n      TfootComponent,\n      PaginationComponent,\n      LoadingComponent,\n      SubComponent,\n      NoDataComponent,\n      ResizerComponent,\n      ExpanderComponent,\n      PivotValueComponent,\n      PivotComponent,\n      AggregatedComponent,\n      FilterComponent,\n      PadRowComponent,\n      // Data model\n      resolvedData,\n      allVisibleColumns,\n      headerGroups,\n      hasHeaderGroups,\n      // Sorted Data\n      sortedData,\n      currentlyResizing,\n    } = resolvedState\n\n    // Pagination\n    const startRow = pageSize * page\n    const endRow = startRow + pageSize\n    let pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow)\n    const minRows = this.getMinRows()\n    const padRows = _.range(Math.max(minRows - pageRows.length, 0))\n\n    const hasColumnFooter = allVisibleColumns.some(d => d.Footer)\n    const hasFilters = filterable || allVisibleColumns.some(d => d.filterable)\n\n    const recurseRowsViewIndex = (rows, path = [], index = -1) => [\n      rows.map((row, i) => {\n        index += 1\n        const rowWithViewIndex = {\n          ...row,\n          _viewIndex: index,\n        }\n        const newPath = path.concat([i])\n        if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n          [rowWithViewIndex[subRowsKey], index] = recurseRowsViewIndex(\n            rowWithViewIndex[subRowsKey],\n            newPath,\n            index\n          )\n        }\n        return rowWithViewIndex\n      }),\n      index,\n    ];\n    [pageRows] = recurseRowsViewIndex(pageRows)\n\n    const canPrevious = page > 0\n    const canNext = page + 1 < pages\n\n    const rowMinWidth = _.sum(\n      allVisibleColumns.map(d => {\n        const resizedColumn = resized.find(x => x.id === d.id) || {}\n        return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth)\n      })\n    )\n\n    let rowIndex = -1\n\n    const finalState = {\n      ...resolvedState,\n      startRow,\n      endRow,\n      pageRows,\n      minRows,\n      padRows,\n      hasColumnFooter,\n      canPrevious,\n      canNext,\n      rowMinWidth,\n    }\n\n    const rootProps = _.splitProps(getProps(finalState, undefined, undefined, this))\n    const tableProps = _.splitProps(getTableProps(finalState, undefined, undefined, this))\n    const tBodyProps = _.splitProps(getTbodyProps(finalState, undefined, undefined, this))\n    const loadingProps = getLoadingProps(finalState, undefined, undefined, this)\n    const noDataProps = getNoDataProps(finalState, undefined, undefined, this)\n\n    // Visual Components\n\n    const makeHeaderGroup = (column, i) => {\n      const resizedValue = col => (resized.find(x => x.id === col.id) || {}).value\n      const flex = _.sum(\n        column.columns.map(col => (col.width || resizedValue(col) ? 0 : col.minWidth))\n      )\n      const width = _.sum(\n        column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.minWidth))\n      )\n      const maxWidth = _.sum(\n        column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.maxWidth))\n      )\n\n      const theadGroupThProps = _.splitProps(\n        getTheadGroupThProps(finalState, undefined, column, this)\n      )\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        column.headerClassName,\n        theadGroupThProps.className,\n        columnHeaderProps.className,\n      ]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadGroupThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadGroupThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const flexStyles = {\n        flex: `${flex} 0 auto`,\n        width: _.asPx(width),\n        maxWidth: _.asPx(maxWidth),\n      }\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes)}\n          style={{\n            ...styles,\n            ...flexStyles,\n          }}\n          {...rest}\n        >\n          {_.normalizeComponent(column.Header, {\n            data: sortedData,\n            column,\n          })}\n        </ThComponent>\n      )\n    }\n\n    const makeHeaderGroups = () => {\n      const theadGroupProps = _.splitProps(\n        getTheadGroupProps(finalState, undefined, undefined, this)\n      )\n      const theadGroupTrProps = _.splitProps(\n        getTheadGroupTrProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <TheadComponent\n          className={classnames('-headerGroups', theadGroupProps.className)}\n          style={{\n            ...theadGroupProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadGroupProps.rest}\n        >\n          <TrComponent\n            className={theadGroupTrProps.className}\n            style={theadGroupTrProps.style}\n            {...theadGroupTrProps.rest}\n          >\n            {headerGroups.map(makeHeaderGroup)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makeHeader = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const sort = sorted.find(d => d.id === column.id)\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const theadThProps = _.splitProps(getTheadThProps(finalState, undefined, column, this))\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const isResizable = _.getFirstDefined(column.resizable, resizable, false)\n      const resizer = isResizable ? (\n        <ResizerComponent\n          onMouseDown={e => this.resizeColumnStart(e, column, false)}\n          onTouchStart={e => this.resizeColumnStart(e, column, true)}\n          {...getResizerProps('finalState', undefined, column, this)}\n        />\n      ) : null\n\n      const isSortable = _.getFirstDefined(column.sortable, sortable, false)\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(\n            classes,\n            isResizable && 'rt-resizable-header',\n            sort ? (sort.desc ? '-sort-desc' : '-sort-asc') : '',\n            isSortable && '-cursor-pointer',\n            !show && '-hidden',\n            pivotBy && pivotBy.slice(0, -1).includes(column.id) && 'rt-header-pivot'\n          )}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          toggleSort={e => {\n            if (isSortable) this.sortColumn(column, multiSort ? e.shiftKey : false)\n          }}\n          {...rest}\n        >\n          <div className={classnames(isResizable && 'rt-resizable-header-content')}>\n            {_.normalizeComponent(column.Header, {\n              data: sortedData,\n              column,\n            })}\n          </div>\n          {resizer}\n        </ThComponent>\n      )\n    }\n\n    const makeHeaders = () => {\n      const theadProps = _.splitProps(getTheadProps(finalState, undefined, undefined, this))\n      const theadTrProps = _.splitProps(getTheadTrProps(finalState, undefined, undefined, this))\n      return (\n        <TheadComponent\n          className={classnames('-header', theadProps.className)}\n          style={{\n            ...theadProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadProps.rest}\n        >\n          <TrComponent\n            className={theadTrProps.className}\n            style={theadTrProps.style}\n            {...theadTrProps.rest}\n          >\n            {allVisibleColumns.map(makeHeader)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makeFilter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const theadFilterThProps = _.splitProps(\n        getTheadFilterThProps(finalState, undefined, column, this)\n      )\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        column.headerClassName,\n        theadFilterThProps.className,\n        columnHeaderProps.className,\n      ]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadFilterThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadFilterThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const filter = filtered.find(filter => filter.id === column.id)\n\n      const ResolvedFilterComponent = column.Filter || FilterComponent\n\n      const isFilterable = _.getFirstDefined(column.filterable, filterable, false)\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes)}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...rest}\n        >\n          {isFilterable\n            ? _.normalizeComponent(\n                ResolvedFilterComponent,\n                {\n                  column,\n                  filter,\n                  onChange: value => this.filterColumn(column, value),\n                },\n                defaultProps.column.Filter\n              )\n            : null}\n        </ThComponent>\n      )\n    }\n\n    const makeFilters = () => {\n      const theadFilterProps = _.splitProps(\n        getTheadFilterProps(finalState, undefined, undefined, this)\n      )\n      const theadFilterTrProps = _.splitProps(\n        getTheadFilterTrProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <TheadComponent\n          className={classnames('-filters', theadFilterProps.className)}\n          style={{\n            ...theadFilterProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadFilterProps.rest}\n        >\n          <TrComponent\n            className={theadFilterTrProps.className}\n            style={theadFilterTrProps.style}\n            {...theadFilterTrProps.rest}\n          >\n            {allVisibleColumns.map(makeFilter)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makePageRow = (row, i, path = []) => {\n      const rowInfo = {\n        original: row[originalKey],\n        row,\n        index: row[indexKey],\n        viewIndex: (rowIndex += 1),\n        pageSize,\n        page,\n        level: path.length,\n        nestingPath: path.concat([i]),\n        aggregated: row[aggregatedKey],\n        groupedByPivot: row[groupedByPivotKey],\n        subRows: row[subRowsKey],\n      }\n      const isExpanded = _.get(expanded, rowInfo.nestingPath)\n      const trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, this)\n      const trProps = _.splitProps(getTrProps(finalState, rowInfo, undefined, this))\n      return (\n        <TrGroupComponent key={rowInfo.nestingPath.join('_')} {...trGroupProps}>\n          <TrComponent\n            className={classnames(trProps.className, row._viewIndex % 2 ? '-even' : '-odd')}\n            style={trProps.style}\n            {...trProps.rest}\n          >\n            {allVisibleColumns.map((column, i2) => {\n              const resizedCol = resized.find(x => x.id === column.id) || {}\n              const show = typeof column.show === 'function' ? column.show() : column.show\n              const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n              const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n              const tdProps = _.splitProps(getTdProps(finalState, rowInfo, column, this))\n              const columnProps = _.splitProps(column.getProps(finalState, rowInfo, column, this))\n\n              const classes = [tdProps.className, column.className, columnProps.className]\n\n              const styles = {\n                ...tdProps.style,\n                ...column.style,\n                ...columnProps.style,\n              }\n\n              const cellInfo = {\n                ...rowInfo,\n                isExpanded,\n                column: { ...column },\n                value: rowInfo.row[column.id],\n                pivoted: column.pivoted,\n                expander: column.expander,\n                resized,\n                show,\n                width,\n                maxWidth,\n                tdProps,\n                columnProps,\n                classes,\n                styles,\n              }\n\n              const value = cellInfo.value\n\n              let useOnExpanderClick\n              let isBranch\n              let isPreview\n\n              const onExpanderClick = e => {\n                let newExpanded = _.clone(expanded)\n                if (isExpanded) {\n                  newExpanded = _.set(newExpanded, cellInfo.nestingPath, false)\n                } else {\n                  newExpanded = _.set(newExpanded, cellInfo.nestingPath, {})\n                }\n\n                return this.setStateWithData(\n                  {\n                    expanded: newExpanded,\n                  },\n                  () =>\n                    onExpandedChange &&\n                    onExpandedChange(newExpanded, cellInfo.nestingPath, e, cellInfo)\n                )\n              }\n\n              // Default to a standard cell\n              let resolvedCell = _.normalizeComponent(column.Cell, cellInfo, value)\n\n              // Resolve Renderers\n              const ResolvedAggregatedComponent =\n                column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell)\n              const ResolvedExpanderComponent = column.Expander || ExpanderComponent\n              const ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent\n              const DefaultResolvedPivotComponent =\n                PivotComponent ||\n                (props => (\n                  <div>\n                    <ResolvedExpanderComponent {...props} />\n                    <ResolvedPivotValueComponent {...props} />\n                  </div>\n                ))\n              const ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent\n\n              // Is this cell expandable?\n              if (cellInfo.pivoted || cellInfo.expander) {\n                // Make it expandable by defualt\n                cellInfo.expandable = true\n                useOnExpanderClick = true\n                // If pivoted, has no subRows, and does not have a subComponent,\n                // do not make expandable\n                if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n                  cellInfo.expandable = false\n                }\n              }\n\n              if (cellInfo.pivoted) {\n                // Is this column a branch?\n                isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows\n                // Should this column be blank?\n                isPreview =\n                  pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) &&\n                  cellInfo.subRows\n                // Pivot Cell Render Override\n                if (isBranch) {\n                  // isPivot\n                  resolvedCell = _.normalizeComponent(\n                    ResolvedPivotComponent,\n                    {\n                      ...cellInfo,\n                      value: row[pivotValKey],\n                    },\n                    row[pivotValKey]\n                  )\n                } else if (isPreview) {\n                  // Show the pivot preview\n                  resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value)\n                } else {\n                  resolvedCell = null\n                }\n              } else if (cellInfo.aggregated) {\n                resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value)\n              }\n\n              if (cellInfo.expander) {\n                resolvedCell = _.normalizeComponent(\n                  ResolvedExpanderComponent,\n                  cellInfo,\n                  row[pivotValKey]\n                )\n                if (pivotBy) {\n                  if (cellInfo.groupedByPivot) {\n                    resolvedCell = null\n                  }\n                  if (!cellInfo.subRows && !SubComponent) {\n                    resolvedCell = null\n                  }\n                }\n              }\n\n              const resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : () => {}\n\n              // If there are multiple onClick events, make sure they don't\n              // override eachother. This should maybe be expanded to handle all\n              // function attributes\n              const interactionProps = {\n                onClick: resolvedOnExpanderClick,\n              }\n\n              if (tdProps.rest.onClick) {\n                interactionProps.onClick = e => {\n                  tdProps.rest.onClick(e, () => resolvedOnExpanderClick(e))\n                }\n              }\n\n              if (columnProps.rest.onClick) {\n                interactionProps.onClick = e => {\n                  columnProps.rest.onClick(e, () => resolvedOnExpanderClick(e))\n                }\n              }\n\n              // Return the cell\n              return (\n                <TdComponent\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={`${i2}-${column.id}`}\n                  className={classnames(\n                    classes,\n                    !cellInfo.expandable && !show && 'hidden',\n                    cellInfo.expandable && 'rt-expandable',\n                    (isBranch || isPreview) && 'rt-pivot'\n                  )}\n                  style={{\n                    ...styles,\n                    flex: `${width} 0 auto`,\n                    width: _.asPx(width),\n                    maxWidth: _.asPx(maxWidth),\n                  }}\n                  {...tdProps.rest}\n                  {...columnProps.rest}\n                  {...interactionProps}\n                >\n                  {resolvedCell}\n                </TdComponent>\n              )\n            })}\n          </TrComponent>\n          {rowInfo.subRows &&\n            isExpanded &&\n            rowInfo.subRows.map((d, i) => makePageRow(d, i, rowInfo.nestingPath))}\n          {SubComponent &&\n            !rowInfo.subRows &&\n            isExpanded &&\n            SubComponent(rowInfo, () => {\n              const newExpanded = _.clone(expanded)\n\n              _.set(newExpanded, rowInfo.nestingPath, false)\n            })}\n        </TrGroupComponent>\n      )\n    }\n\n    const makePadColumn = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const flex = width\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const tdProps = _.splitProps(getTdProps(finalState, undefined, column, this))\n      const columnProps = _.splitProps(column.getProps(finalState, undefined, column, this))\n\n      const classes = [tdProps.className, column.className, columnProps.className]\n\n      const styles = {\n        ...tdProps.style,\n        ...column.style,\n        ...columnProps.style,\n      }\n\n      return (\n        <TdComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes, !show && 'hidden')}\n          style={{\n            ...styles,\n            flex: `${flex} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...tdProps.rest}\n        >\n          {_.normalizeComponent(PadRowComponent)}\n        </TdComponent>\n      )\n    }\n\n    const makePadRow = (row, i) => {\n      const trGroupProps = getTrGroupProps(finalState, undefined, undefined, this)\n      const trProps = _.splitProps(getTrProps(finalState, undefined, undefined, this))\n      return (\n        <TrGroupComponent key={`pad-${i}`} {...trGroupProps}>\n          <TrComponent\n            className={classnames(\n              '-padRow',\n              (pageRows.length + i) % 2 ? '-even' : '-odd',\n              trProps.className\n            )}\n            style={trProps.style || {}}\n          >\n            {allVisibleColumns.map(makePadColumn)}\n          </TrComponent>\n        </TrGroupComponent>\n      )\n    }\n\n    const makeColumnFooter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const tFootTdProps = _.splitProps(getTfootTdProps(finalState, undefined, column, this))\n      const columnProps = _.splitProps(column.getProps(finalState, undefined, column, this))\n      const columnFooterProps = _.splitProps(\n        column.getFooterProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        tFootTdProps.className,\n        column.className,\n        columnProps.className,\n        columnFooterProps.className,\n      ]\n\n      const styles = {\n        ...tFootTdProps.style,\n        ...column.style,\n        ...columnProps.style,\n        ...columnFooterProps.style,\n      }\n\n      return (\n        <TdComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes, !show && 'hidden')}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...columnProps.rest}\n          {...tFootTdProps.rest}\n          {...columnFooterProps.rest}\n        >\n          {_.normalizeComponent(column.Footer, {\n            data: sortedData,\n            column,\n          })}\n        </TdComponent>\n      )\n    }\n\n    const makeColumnFooters = () => {\n      const tFootProps = _.splitProps(getTfootProps(finalState, undefined, undefined, this))\n      const tFootTrProps = _.splitProps(getTfootTrProps(finalState, undefined, undefined, this))\n      return (\n        <TfootComponent\n          className={tFootProps.className}\n          style={{\n            ...tFootProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...tFootProps.rest}\n        >\n          <TrComponent\n            className={classnames(tFootTrProps.className)}\n            style={tFootTrProps.style}\n            {...tFootTrProps.rest}\n          >\n            {allVisibleColumns.map(makeColumnFooter)}\n          </TrComponent>\n        </TfootComponent>\n      )\n    }\n\n    const makePagination = isTop => {\n      const paginationProps = _.splitProps(\n        getPaginationProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <PaginationComponent\n          {...resolvedState}\n          pages={pages}\n          canPrevious={canPrevious}\n          canNext={canNext}\n          onPageChange={this.onPageChange}\n          onPageSizeChange={this.onPageSizeChange}\n          className={paginationProps.className}\n          style={paginationProps.style}\n          isTop={isTop}\n          {...paginationProps.rest}\n        />\n      )\n    }\n\n    const makeTable = () => (\n      <div\n        className={classnames('ReactTable', className, rootProps.className)}\n        style={{\n          ...style,\n          ...rootProps.style,\n        }}\n        {...rootProps.rest}\n      >\n        {showPagination && showPaginationTop ? (\n          <div className=\"pagination-top\">{makePagination(true)}</div>\n        ) : null}\n        <TableComponent\n          className={classnames(tableProps.className, currentlyResizing ? 'rt-resizing' : '')}\n          style={tableProps.style}\n          {...tableProps.rest}\n        >\n          {hasHeaderGroups ? makeHeaderGroups() : null}\n          {makeHeaders()}\n          {hasFilters ? makeFilters() : null}\n          <TbodyComponent\n            className={classnames(tBodyProps.className)}\n            style={{\n              ...tBodyProps.style,\n              minWidth: `${rowMinWidth}px`,\n            }}\n            {...tBodyProps.rest}\n          >\n            {pageRows.map((d, i) => makePageRow(d, i))}\n            {padRows.map(makePadRow)}\n          </TbodyComponent>\n          {hasColumnFooter ? makeColumnFooters() : null}\n        </TableComponent>\n        {showPagination && showPaginationBottom ? (\n          <div className=\"pagination-bottom\">{makePagination(false)}</div>\n        ) : null}\n        {!pageRows.length && (\n          <NoDataComponent {...noDataProps}>{_.normalizeComponent(noDataText)}</NoDataComponent>\n        )}\n        <LoadingComponent loading={loading} loadingText={loadingText} {...loadingProps} />\n      </div>\n    )\n\n    // childProps are optionally passed to a function-as-a-child\n    return children ? children(finalState, makeTable, this) : makeTable()\n  }\n}\n","export default Base =>\n  class extends Base {\n    UNSAFE_componentWillMount () {\n      this.setStateWithData(this.getDataModel(this.getResolvedState(), true))\n    }\n\n    componentDidMount () {\n      this.fireFetchData()\n    }\n\n    UNSAFE_componentWillReceiveProps (nextProps, nextState) {\n      const oldState = this.getResolvedState()\n      const newState = this.getResolvedState(nextProps, nextState)\n\n      // Do a deep compare of new and old `defaultOption` and\n      // if they are different reset `option = defaultOption`\n      const defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded']\n      defaultableOptions.forEach(x => {\n        const defaultName = `default${x.charAt(0).toUpperCase() + x.slice(1)}`\n        if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n          newState[x] = newState[defaultName]\n        }\n      })\n\n      // If they change these table options, we need to reset defaults\n      // or else we could get into a state where the user has changed the UI\n      // and then disabled the ability to change it back.\n      // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n      const resettableOptions = ['sortable', 'filterable', 'resizable']\n      resettableOptions.forEach(x => {\n        if (oldState[x] !== newState[x]) {\n          const baseName = x.replace('able', '')\n          const optionName = `${baseName}ed`\n          const defaultName = `default${optionName.charAt(0).toUpperCase() + optionName.slice(1)}`\n          newState[optionName] = newState[defaultName]\n        }\n      })\n\n      // Props that trigger a data update\n      if (\n        oldState.data !== newState.data ||\n        oldState.columns !== newState.columns ||\n        oldState.pivotBy !== newState.pivotBy ||\n        oldState.sorted !== newState.sorted ||\n        oldState.filtered !== newState.filtered\n      ) {\n        this.setStateWithData(this.getDataModel(newState, oldState.data !== newState.data))\n      }\n    }\n\n    setStateWithData (newState, cb) {\n      const oldState = this.getResolvedState()\n      const newResolvedState = this.getResolvedState({}, newState)\n      const { freezeWhenExpanded } = newResolvedState\n\n      // Default to unfrozen state\n      newResolvedState.frozen = false\n\n      // If freezeWhenExpanded is set, check for frozen conditions\n      if (freezeWhenExpanded) {\n        // if any rows are expanded, freeze the existing data and sorting\n        const keys = Object.keys(newResolvedState.expanded)\n        for (let i = 0; i < keys.length; i += 1) {\n          if (newResolvedState.expanded[keys[i]]) {\n            newResolvedState.frozen = true\n            break\n          }\n        }\n      }\n\n      // If the data isn't frozen and either the data or\n      // sorting model has changed, update the data\n      if (\n        (oldState.frozen && !newResolvedState.frozen) ||\n        oldState.sorted !== newResolvedState.sorted ||\n        oldState.filtered !== newResolvedState.filtered ||\n        oldState.showFilters !== newResolvedState.showFilters ||\n        (!newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData)\n      ) {\n        // Handle collapseOnsortedChange & collapseOnDataChange\n        if (\n          (oldState.sorted !== newResolvedState.sorted && this.props.collapseOnSortingChange) ||\n          oldState.filtered !== newResolvedState.filtered ||\n          oldState.showFilters !== newResolvedState.showFilters ||\n          (oldState.sortedData &&\n            !newResolvedState.frozen &&\n            oldState.resolvedData !== newResolvedState.resolvedData &&\n            this.props.collapseOnDataChange)\n        ) {\n          newResolvedState.expanded = {}\n        }\n\n        Object.assign(newResolvedState, this.getSortedData(newResolvedState))\n      }\n\n      // Set page to 0 if filters change\n      if (oldState.filtered !== newResolvedState.filtered) {\n        newResolvedState.page = 0\n      }\n\n      // Calculate pageSize all the time\n      if (newResolvedState.sortedData) {\n        newResolvedState.pages = newResolvedState.manual\n          ? newResolvedState.pages\n          : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize)\n        newResolvedState.page = newResolvedState.manual ? newResolvedState.page : Math.max(\n          newResolvedState.page >= newResolvedState.pages\n            ? newResolvedState.pages - 1\n            : newResolvedState.page,\n          0\n        )\n      }\n\n      return this.setState(newResolvedState, () => {\n        if (cb) {\n          cb()\n        }\n        if (\n          oldState.page !== newResolvedState.page ||\n          oldState.pageSize !== newResolvedState.pageSize ||\n          oldState.sorted !== newResolvedState.sorted ||\n          oldState.filtered !== newResolvedState.filtered\n        ) {\n          this.fireFetchData()\n        }\n      })\n    }\n  }\n","import React from 'react'\nimport _ from './utils'\n\nexport default Base =>\n  class extends Base {\n    getResolvedState (props, state) {\n      const resolvedState = {\n        ..._.compactObject(this.state),\n        ..._.compactObject(this.props),\n        ..._.compactObject(state),\n        ..._.compactObject(props),\n      }\n      return resolvedState\n    }\n\n    getDataModel (newState, dataChanged) {\n      const {\n        columns,\n        pivotBy = [],\n        data,\n        resolveData,\n        pivotIDKey,\n        pivotValKey,\n        subRowsKey,\n        aggregatedKey,\n        nestingLevelKey,\n        originalKey,\n        indexKey,\n        groupedByPivotKey,\n        SubComponent,\n      } = newState\n\n      // Determine Header Groups\n      let hasHeaderGroups = false\n      columns.forEach(column => {\n        if (column.columns) {\n          hasHeaderGroups = true\n        }\n      })\n\n      let columnsWithExpander = [...columns]\n\n      let expanderColumn = columns.find(\n        col => col.expander || (col.columns && col.columns.some(col2 => col2.expander))\n      )\n      // The actual expander might be in the columns field of a group column\n      if (expanderColumn && !expanderColumn.expander) {\n        expanderColumn = expanderColumn.columns.find(col => col.expander)\n      }\n\n      // If we have SubComponent's we need to make sure we have an expander column\n      if (SubComponent && !expanderColumn) {\n        expanderColumn = { expander: true }\n        columnsWithExpander = [expanderColumn, ...columnsWithExpander]\n      }\n\n      const makeDecoratedColumn = (column, parentColumn) => {\n        let dcol\n        if (column.expander) {\n          dcol = {\n            ...this.props.column,\n            ...this.props.expanderDefaults,\n            ...column,\n          }\n        } else {\n          dcol = {\n            ...this.props.column,\n            ...column,\n          }\n        }\n\n        // Ensure minWidth is not greater than maxWidth if set\n        if (dcol.maxWidth < dcol.minWidth) {\n          dcol.minWidth = dcol.maxWidth\n        }\n\n        if (parentColumn) {\n          dcol.parentColumn = parentColumn\n        }\n\n        // First check for string accessor\n        if (typeof dcol.accessor === 'string') {\n          dcol.id = dcol.id || dcol.accessor\n          const accessorString = dcol.accessor\n          dcol.accessor = row => _.get(row, accessorString)\n          return dcol\n        }\n\n        // Fall back to functional accessor (but require an ID)\n        if (dcol.accessor && !dcol.id) {\n          console.warn(dcol)\n          throw new Error(\n            'A column id is required if using a non-string accessor for column above.'\n          )\n        }\n\n        // Fall back to an undefined accessor\n        if (!dcol.accessor) {\n          dcol.accessor = () => undefined\n        }\n\n        return dcol\n      }\n\n      const allDecoratedColumns = []\n\n      // Decorate the columns\n      const decorateAndAddToAll = (column, parentColumn) => {\n        const decoratedColumn = makeDecoratedColumn(column, parentColumn)\n        allDecoratedColumns.push(decoratedColumn)\n        return decoratedColumn\n      }\n\n      const decoratedColumns = columnsWithExpander.map(column => {\n        if (column.columns) {\n          return {\n            ...column,\n            columns: column.columns.map(d => decorateAndAddToAll(d, column)),\n          }\n        }\n        return decorateAndAddToAll(column)\n      })\n\n      // Build the visible columns, headers and flat column list\n      let visibleColumns = decoratedColumns.slice()\n      let allVisibleColumns = []\n\n      visibleColumns = visibleColumns.map(column => {\n        if (column.columns) {\n          const visibleSubColumns = column.columns.filter(d =>\n            pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true)\n          )\n          return {\n            ...column,\n            columns: visibleSubColumns,\n          }\n        }\n        return column\n      })\n\n      visibleColumns = visibleColumns.filter(column =>\n        column.columns\n          ? column.columns.length\n          : pivotBy.indexOf(column.id) > -1\n            ? false\n            : _.getFirstDefined(column.show, true)\n      )\n\n      // Find any custom pivot location\n      const pivotIndex = visibleColumns.findIndex(col => col.pivot)\n\n      // Handle Pivot Columns\n      if (pivotBy.length) {\n        // Retrieve the pivot columns in the correct pivot order\n        const pivotColumns = []\n        pivotBy.forEach(pivotID => {\n          const found = allDecoratedColumns.find(d => d.id === pivotID)\n          if (found) {\n            pivotColumns.push(found)\n          }\n        })\n\n        const PivotParentColumn = pivotColumns.reduce(\n          (prev, current) => prev && prev === current.parentColumn && current.parentColumn,\n          pivotColumns[0].parentColumn\n        )\n\n        let PivotGroupHeader = hasHeaderGroups && PivotParentColumn.Header\n        PivotGroupHeader = PivotGroupHeader || (() => <strong>Pivoted</strong>)\n\n        let pivotColumnGroup = {\n          Header: PivotGroupHeader,\n          columns: pivotColumns.map(col => ({\n            ...this.props.pivotDefaults,\n            ...col,\n            pivoted: true,\n          })),\n        }\n\n        // Place the pivotColumns back into the visibleColumns\n        if (pivotIndex >= 0) {\n          pivotColumnGroup = {\n            ...visibleColumns[pivotIndex],\n            ...pivotColumnGroup,\n          }\n          visibleColumns.splice(pivotIndex, 1, pivotColumnGroup)\n        } else {\n          visibleColumns.unshift(pivotColumnGroup)\n        }\n      }\n\n      // Build Header Groups\n      const headerGroups = []\n      let currentSpan = []\n\n      // A convenience function to add a header and reset the currentSpan\n      const addHeader = (columns, column) => {\n        headerGroups.push({\n          ...this.props.column,\n          ...column,\n          columns,\n        })\n        currentSpan = []\n      }\n\n      // Build flast list of allVisibleColumns and HeaderGroups\n      visibleColumns.forEach(column => {\n        if (column.columns) {\n          allVisibleColumns = allVisibleColumns.concat(column.columns)\n          if (currentSpan.length > 0) {\n            addHeader(currentSpan)\n          }\n          addHeader(column.columns, column)\n          return\n        }\n        allVisibleColumns.push(column)\n        currentSpan.push(column)\n      })\n      if (hasHeaderGroups && currentSpan.length > 0) {\n        addHeader(currentSpan)\n      }\n\n      // Access the data\n      const accessRow = (d, i, level = 0) => {\n        const row = {\n          [originalKey]: d,\n          [indexKey]: i,\n          [subRowsKey]: d[subRowsKey],\n          [nestingLevelKey]: level,\n        }\n        allDecoratedColumns.forEach(column => {\n          if (column.expander) return\n          row[column.id] = column.accessor(d)\n        })\n        if (row[subRowsKey]) {\n          row[subRowsKey] = row[subRowsKey].map((d, i) => accessRow(d, i, level + 1))\n        }\n        return row\n      }\n\n      // // If the data hasn't changed, just use the cached data\n      let resolvedData = this.resolvedData\n      // If the data has changed, run the data resolver and cache the result\n      if (!this.resolvedData || dataChanged) {\n        resolvedData = resolveData(data)\n        this.resolvedData = resolvedData\n      }\n      // Use the resolved data\n      resolvedData = resolvedData.map((d, i) => accessRow(d, i))\n\n      // TODO: Make it possible to fabricate nested rows without pivoting\n      const aggregatingColumns = allVisibleColumns.filter(d => !d.expander && d.aggregate)\n\n      // If pivoting, recursively group the data\n      const aggregate = rows => {\n        const aggregationValues = {}\n        aggregatingColumns.forEach(column => {\n          const values = rows.map(d => d[column.id])\n          aggregationValues[column.id] = column.aggregate(values, rows)\n        })\n        return aggregationValues\n      }\n      if (pivotBy.length) {\n        const groupRecursively = (rows, keys, i = 0) => {\n          // This is the last level, just return the rows\n          if (i === keys.length) {\n            return rows\n          }\n          // Group the rows together for this level\n          let groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(([key, value]) => ({\n            [pivotIDKey]: keys[i],\n            [pivotValKey]: key,\n            [keys[i]]: key,\n            [subRowsKey]: value,\n            [nestingLevelKey]: i,\n            [groupedByPivotKey]: true,\n          }))\n          // Recurse into the subRows\n          groupedRows = groupedRows.map(rowGroup => {\n            const subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1)\n            return {\n              ...rowGroup,\n              [subRowsKey]: subRows,\n              [aggregatedKey]: true,\n              ...aggregate(subRows),\n            }\n          })\n          return groupedRows\n        }\n        resolvedData = groupRecursively(resolvedData, pivotBy)\n      }\n\n      return {\n        ...newState,\n        resolvedData,\n        allVisibleColumns,\n        headerGroups,\n        allDecoratedColumns,\n        hasHeaderGroups,\n      }\n    }\n\n    getSortedData (resolvedState) {\n      const {\n        manual,\n        sorted,\n        filtered,\n        defaultFilterMethod,\n        resolvedData,\n        allDecoratedColumns,\n      } = resolvedState\n\n      const sortMethodsByColumnID = {}\n\n      allDecoratedColumns\n        .filter(col => col.sortMethod)\n        .forEach(col => {\n          sortMethodsByColumnID[col.id] = col.sortMethod\n        })\n\n      // Resolve the data from either manual data or sorted data\n      return {\n        sortedData: manual\n          ? resolvedData\n          : this.sortData(\n            this.filterData(resolvedData, filtered, defaultFilterMethod, allDecoratedColumns),\n            sorted,\n            sortMethodsByColumnID\n          ),\n      }\n    }\n\n    fireFetchData () {\n      // determine the current state, preferring certain state values over props\n      const currentState = {\n        ...this.getResolvedState(),\n        page: this.getStateOrProp('page'),\n        pageSize: this.getStateOrProp('pageSize'),\n        filtered: this.getStateOrProp('filtered'),\n      }\n\n      this.props.onFetchData(currentState, this)\n    }\n\n    getPropOrState (key) {\n      return _.getFirstDefined(this.props[key], this.state[key])\n    }\n\n    getStateOrProp (key) {\n      return _.getFirstDefined(this.state[key], this.props[key])\n    }\n\n    filterData (data, filtered, defaultFilterMethod, allVisibleColumns) {\n      let filteredData = data\n\n      if (filtered.length) {\n        filteredData = filtered.reduce((filteredSoFar, nextFilter) => {\n          const column = allVisibleColumns.find(x => x.id === nextFilter.id)\n\n          // Don't filter hidden columns or columns that have had their filters disabled\n          if (!column || column.filterable === false) {\n            return filteredSoFar\n          }\n\n          const filterMethod = column.filterMethod || defaultFilterMethod\n\n          // If 'filterAll' is set to true, pass the entire dataset to the filter method\n          if (column.filterAll) {\n            return filterMethod(nextFilter, filteredSoFar, column)\n          }\n          return filteredSoFar.filter(row => filterMethod(nextFilter, row, column))\n        }, filteredData)\n\n        // Apply the filter to the subrows if we are pivoting, and then\n        // filter any rows without subcolumns because it would be strange to show\n        filteredData = filteredData\n          .map(row => {\n            if (!row[this.props.subRowsKey]) {\n              return row\n            }\n            return {\n              ...row,\n              [this.props.subRowsKey]: this.filterData(\n                row[this.props.subRowsKey],\n                filtered,\n                defaultFilterMethod,\n                allVisibleColumns\n              ),\n            }\n          })\n          .filter(row => {\n            if (!row[this.props.subRowsKey]) {\n              return true\n            }\n            return row[this.props.subRowsKey].length > 0\n          })\n      }\n\n      return filteredData\n    }\n\n    sortData (data, sorted, sortMethodsByColumnID = {}) {\n      if (!sorted.length) {\n        return data\n      }\n\n      const sortedData = (this.props.orderByMethod || _.orderBy)(\n        data,\n        sorted.map(sort => {\n          // Support custom sorting methods for each column\n          if (sortMethodsByColumnID[sort.id]) {\n            return (a, b) => sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc)\n          }\n          return (a, b) => this.props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc)\n        }),\n        sorted.map(d => !d.desc),\n        this.props.indexKey\n      )\n\n      sortedData.forEach(row => {\n        if (!row[this.props.subRowsKey]) {\n          return\n        }\n        row[this.props.subRowsKey] = this.sortData(\n          row[this.props.subRowsKey],\n          sorted,\n          sortMethodsByColumnID\n        )\n      })\n\n      return sortedData\n    }\n\n    getMinRows () {\n      return _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'))\n    }\n\n    // User actions\n    onPageChange (page) {\n      const { onPageChange, collapseOnPageChange } = this.props\n\n      const newState = { page }\n      if (collapseOnPageChange) {\n        newState.expanded = {}\n      }\n      this.setStateWithData(newState, () => onPageChange && onPageChange(page))\n    }\n\n    onPageSizeChange (newPageSize) {\n      const { onPageSizeChange } = this.props\n      const { pageSize, page } = this.getResolvedState()\n\n      // Normalize the page to display\n      const currentRow = pageSize * page\n      const newPage = Math.floor(currentRow / newPageSize)\n\n      this.setStateWithData(\n        {\n          pageSize: newPageSize,\n          page: newPage,\n        },\n        () => onPageSizeChange && onPageSizeChange(newPageSize, newPage)\n      )\n    }\n\n    sortColumn (column, additive) {\n      const { sorted, skipNextSort, defaultSortDesc } = this.getResolvedState()\n\n      const firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc')\n        ? column.defaultSortDesc\n        : defaultSortDesc\n      const secondSortDirection = !firstSortDirection\n\n      // we can't stop event propagation from the column resize move handlers\n      // attached to the document because of react's synthetic events\n      // so we have to prevent the sort function from actually sorting\n      // if we click on the column resize element within a header.\n      if (skipNextSort) {\n        this.setStateWithData({\n          skipNextSort: false,\n        })\n        return\n      }\n\n      const { onSortedChange } = this.props\n\n      let newSorted = _.clone(sorted || []).map(d => {\n        d.desc = _.isSortingDesc(d)\n        return d\n      })\n      if (!_.isArray(column)) {\n        // Single-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column.id)\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex]\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, 1)\n            } else {\n              existing.desc = firstSortDirection\n              newSorted = [existing]\n            }\n          } else {\n            existing.desc = secondSortDirection\n            if (!additive) {\n              newSorted = [existing]\n            }\n          }\n        } else if (additive) {\n          newSorted.push({\n            id: column.id,\n            desc: firstSortDirection,\n          })\n        } else {\n          newSorted = [\n            {\n              id: column.id,\n              desc: firstSortDirection,\n            },\n          ]\n        }\n      } else {\n        // Multi-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column[0].id)\n        // Existing Sorted Column\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex]\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, column.length)\n            } else {\n              column.forEach((d, i) => {\n                newSorted[existingIndex + i].desc = firstSortDirection\n              })\n            }\n          } else {\n            column.forEach((d, i) => {\n              newSorted[existingIndex + i].desc = secondSortDirection\n            })\n          }\n          if (!additive) {\n            newSorted = newSorted.slice(existingIndex, column.length)\n          }\n          // New Sort Column\n        } else if (additive) {\n          newSorted = newSorted.concat(\n            column.map(d => ({\n              id: d.id,\n              desc: firstSortDirection,\n            }))\n          )\n        } else {\n          newSorted = column.map(d => ({\n            id: d.id,\n            desc: firstSortDirection,\n          }))\n        }\n      }\n\n      this.setStateWithData(\n        {\n          page: (!sorted.length && newSorted.length) || !additive ? 0 : this.state.page,\n          sorted: newSorted,\n        },\n        () => onSortedChange && onSortedChange(newSorted, column, additive)\n      )\n    }\n\n    filterColumn (column, value) {\n      const { filtered } = this.getResolvedState()\n      const { onFilteredChange } = this.props\n\n      // Remove old filter first if it exists\n      const newFiltering = (filtered || []).filter(x => x.id !== column.id)\n\n      if (value !== '') {\n        newFiltering.push({\n          id: column.id,\n          value,\n        })\n      }\n\n      this.setStateWithData(\n        {\n          filtered: newFiltering,\n        },\n        () => onFilteredChange && onFilteredChange(newFiltering, column, value)\n      )\n    }\n\n    resizeColumnStart (event, column, isTouch) {\n      event.stopPropagation()\n      const parentWidth = event.target.parentElement.getBoundingClientRect().width\n\n      let pageX\n      if (isTouch) {\n        pageX = event.changedTouches[0].pageX\n      } else {\n        pageX = event.pageX\n      }\n\n      this.trapEvents = true\n      this.setStateWithData(\n        {\n          currentlyResizing: {\n            id: column.id,\n            startX: pageX,\n            parentWidth,\n          },\n        },\n        () => {\n          if (isTouch) {\n            document.addEventListener('touchmove', this.resizeColumnMoving)\n            document.addEventListener('touchcancel', this.resizeColumnEnd)\n            document.addEventListener('touchend', this.resizeColumnEnd)\n          } else {\n            document.addEventListener('mousemove', this.resizeColumnMoving)\n            document.addEventListener('mouseup', this.resizeColumnEnd)\n            document.addEventListener('mouseleave', this.resizeColumnEnd)\n          }\n        }\n      )\n    }\n\n    resizeColumnMoving (event) {\n      event.stopPropagation()\n      const { onResizedChange, column } = this.props\n      const { resized, currentlyResizing, columns } = this.getResolvedState()\n      const currentColumn = columns.find(\n        c => c.accessor === currentlyResizing.id || c.id === currentlyResizing.id\n      )\n      const minResizeWidth =\n        currentColumn && currentColumn.minResizeWidth != null\n          ? currentColumn.minResizeWidth\n          : column.minResizeWidth\n\n      // Delete old value\n      const newResized = resized.filter(x => x.id !== currentlyResizing.id)\n\n      let pageX\n\n      if (event.type === 'touchmove') {\n        pageX = event.changedTouches[0].pageX\n      } else if (event.type === 'mousemove') {\n        pageX = event.pageX\n      }\n\n      const newWidth = Math.max(\n        currentlyResizing.parentWidth + pageX - currentlyResizing.startX,\n        minResizeWidth\n      )\n\n      newResized.push({\n        id: currentlyResizing.id,\n        value: newWidth,\n      })\n\n      this.setStateWithData(\n        {\n          resized: newResized,\n        },\n        () => onResizedChange && onResizedChange(newResized, event)\n      )\n    }\n\n    resizeColumnEnd (event) {\n      event.stopPropagation()\n      const isTouch = event.type === 'touchend' || event.type === 'touchcancel'\n\n      if (isTouch) {\n        document.removeEventListener('touchmove', this.resizeColumnMoving)\n        document.removeEventListener('touchcancel', this.resizeColumnEnd)\n        document.removeEventListener('touchend', this.resizeColumnEnd)\n      }\n\n      // If its a touch event clear the mouse one's as well because sometimes\n      // the mouseDown event gets called as well, but the mouseUp event doesn't\n      document.removeEventListener('mousemove', this.resizeColumnMoving)\n      document.removeEventListener('mouseup', this.resizeColumnEnd)\n      document.removeEventListener('mouseleave', this.resizeColumnEnd)\n\n      // The touch events don't propagate up to the sorting's onMouseDown event so\n      // no need to prevent it from happening or else the first click after a touch\n      // event resize will not sort the column.\n      if (!isTouch) {\n        this.setStateWithData({\n          skipNextSort: true,\n          currentlyResizing: false,\n        })\n      }\n    }\n  }\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n\nconst defaultButton = props => (\n  <button type=\"button\" {...props} className=\"-btn\">\n    {props.children}\n  </button>\n)\n\nexport default class ReactTablePagination extends Component {\n  static defaultProps = {\n    PreviousComponent: defaultButton,\n    NextComponent: defaultButton,\n    renderPageJump: ({\n      onChange, value, onBlur, onKeyPress, inputType, pageJumpText,\n    }) => (\n      <div className=\"-pageJump\">\n        <input\n          aria-label={pageJumpText}\n          type={inputType}\n          onChange={onChange}\n          value={value}\n          onBlur={onBlur}\n          onKeyPress={onKeyPress}\n        />\n      </div>\n    ),\n    renderCurrentPage: page => <span className=\"-currentPage\">{page + 1}</span>,\n    renderTotalPagesCount: pages => <span className=\"-totalPages\">{pages || 1}</span>,\n    renderPageSizeOptions: ({\n      pageSize,\n      pageSizeOptions,\n      rowsSelectorText,\n      onPageSizeChange,\n      rowsText,\n    }) => (\n      <span className=\"select-wrap -pageSizeOptions\">\n        <select\n          aria-label={rowsSelectorText}\n          onChange={e => onPageSizeChange(Number(e.target.value))}\n          value={pageSize}\n        >\n          {pageSizeOptions.map((option, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <option key={i} value={option}>\n              {`${option} ${rowsText}`}\n            </option>\n          ))}\n        </select>\n      </span>\n    ),\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.getSafePage = this.getSafePage.bind(this)\n    this.changePage = this.changePage.bind(this)\n    this.applyPage = this.applyPage.bind(this)\n\n    this.state = {\n      page: props.page,\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (this.props.page !== nextProps.page) {\n      this.setState({ page: nextProps.page })\n    }\n  }\n\n  getSafePage (page) {\n    if (Number.isNaN(page)) {\n      page = this.props.page\n    }\n    return Math.min(Math.max(page, 0), this.props.pages - 1)\n  }\n\n  changePage (page) {\n    page = this.getSafePage(page)\n    this.setState({ page })\n    if (this.props.page !== page) {\n      this.props.onPageChange(page)\n    }\n  }\n\n  applyPage (e) {\n    if (e) {\n      e.preventDefault()\n    }\n    const page = this.state.page\n    this.changePage(page === '' ? this.props.page : page)\n  }\n\n  getPageJumpProperties () {\n    return {\n      onKeyPress: e => {\n        if (e.which === 13 || e.keyCode === 13) {\n          this.applyPage()\n        }\n      },\n      onBlur: this.applyPage,\n      value: this.state.page === '' ? '' : this.state.page + 1,\n      onChange: e => {\n        const val = e.target.value\n        const page = val - 1\n        if (val === '') {\n          return this.setState({ page: val })\n        }\n        this.setState({ page: this.getSafePage(page) })\n      },\n      inputType: this.state.page === '' ? 'text' : 'number',\n      pageJumpText: this.props.pageJumpText,\n    }\n  }\n\n  render () {\n    const {\n      // Computed\n      pages,\n      // Props\n      page,\n      showPageSizeOptions,\n      pageSizeOptions,\n      pageSize,\n      showPageJump,\n      canPrevious,\n      canNext,\n      onPageSizeChange,\n      className,\n      PreviousComponent,\n      NextComponent,\n      renderPageJump,\n      renderCurrentPage,\n      renderTotalPagesCount,\n      renderPageSizeOptions,\n    } = this.props\n\n    return (\n      <div className={classnames(className, '-pagination')} style={this.props.style}>\n        <div className=\"-previous\">\n          <PreviousComponent\n            onClick={() => {\n              if (!canPrevious) return\n              this.changePage(page - 1)\n            }}\n            disabled={!canPrevious}\n          >\n            {this.props.previousText}\n          </PreviousComponent>\n        </div>\n        <div className=\"-center\">\n          <span className=\"-pageInfo\">\n            {this.props.pageText}{' '}\n            {showPageJump ? renderPageJump(this.getPageJumpProperties()) : renderCurrentPage(page)}{' '}\n            {this.props.ofText} {renderTotalPagesCount(pages)}\n          </span>\n          {showPageSizeOptions &&\n            renderPageSizeOptions({\n              pageSize,\n              rowsSelectorText: this.props.rowsSelectorText,\n              pageSizeOptions,\n              onPageSizeChange,\n              rowsText: this.props.rowsText,\n            })}\n        </div>\n        <div className=\"-next\">\n          <NextComponent\n            onClick={() => {\n              if (!canNext) return\n              this.changePage(page + 1)\n            }}\n            disabled={!canNext}\n          >\n            {this.props.nextText}\n          </NextComponent>\n        </div>\n      </div>\n    )\n  }\n}\n","import PropTypes from 'prop-types'\n\nexport default {\n  // General\n  data: PropTypes.any,\n  loading: PropTypes.bool,\n  showPagination: PropTypes.bool,\n  showPaginationTop: PropTypes.bool,\n  showPaginationBottom: PropTypes.bool,\n  showPageSizeOptions: PropTypes.bool,\n  pageSizeOptions: PropTypes.array,\n  defaultPageSize: PropTypes.number,\n  showPageJump: PropTypes.bool,\n  collapseOnSortingChange: PropTypes.bool,\n  collapseOnPageChange: PropTypes.bool,\n  collapseOnDataChange: PropTypes.bool,\n  freezeWhenExpanded: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resizable: PropTypes.bool,\n  filterable: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  defaultSorted: PropTypes.array,\n  defaultFiltered: PropTypes.array,\n  defaultResized: PropTypes.array,\n  defaultExpanded: PropTypes.object,\n  defaultFilterMethod: PropTypes.func,\n  defaultSortMethod: PropTypes.func,\n\n  // Controlled State Callbacks\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func,\n  onSortedChange: PropTypes.func,\n  onFilteredChange: PropTypes.func,\n  onResizedChange: PropTypes.func,\n  onExpandedChange: PropTypes.func,\n\n  // Pivoting\n  pivotBy: PropTypes.array,\n\n  // Key Constants\n  pivotValKey: PropTypes.string,\n  pivotIDKey: PropTypes.string,\n  subRowsKey: PropTypes.string,\n  aggregatedKey: PropTypes.string,\n  nestingLevelKey: PropTypes.string,\n  originalKey: PropTypes.string,\n  indexKey: PropTypes.string,\n  groupedByPivotKey: PropTypes.string,\n\n  // Server-side Callbacks\n  onFetchData: PropTypes.func,\n\n  // Classes\n  className: PropTypes.string,\n  style: PropTypes.object,\n\n  // Component decorators\n  getProps: PropTypes.func,\n  getTableProps: PropTypes.func,\n  getTheadGroupProps: PropTypes.func,\n  getTheadGroupTrProps: PropTypes.func,\n  getTheadGroupThProps: PropTypes.func,\n  getTheadProps: PropTypes.func,\n  getTheadTrProps: PropTypes.func,\n  getTheadThProps: PropTypes.func,\n  getTheadFilterProps: PropTypes.func,\n  getTheadFilterTrProps: PropTypes.func,\n  getTheadFilterThProps: PropTypes.func,\n  getTbodyProps: PropTypes.func,\n  getTrGroupProps: PropTypes.func,\n  getTrProps: PropTypes.func,\n  getTdProps: PropTypes.func,\n  getTfootProps: PropTypes.func,\n  getTfootTrProps: PropTypes.func,\n  getTfootTdProps: PropTypes.func,\n  getPaginationProps: PropTypes.func,\n  getLoadingProps: PropTypes.func,\n  getNoDataProps: PropTypes.func,\n  getResizerProps: PropTypes.func,\n\n  // Global Column Defaults\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      // Renderers\n      Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Header: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Footer: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Aggregated: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Pivot: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      PivotValue: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Expander: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n      // All Columns\n      sortable: PropTypes.bool, // use table default\n      resizable: PropTypes.bool, // use table default\n      filterable: PropTypes.bool, // use table default\n      show: PropTypes.bool,\n      minWidth: PropTypes.number,\n      minResizeWidth: PropTypes.number,\n\n      // Cells only\n      className: PropTypes.string,\n      style: PropTypes.object,\n      getProps: PropTypes.func,\n\n      // Pivot only\n      aggregate: PropTypes.func,\n\n      // Headers only\n      headerClassName: PropTypes.string,\n      headerStyle: PropTypes.object,\n      getHeaderProps: PropTypes.func,\n\n      // Footers only\n      footerClassName: PropTypes.string,\n      footerStyle: PropTypes.object,\n      getFooterProps: PropTypes.func,\n      filterMethod: PropTypes.func,\n      filterAll: PropTypes.bool,\n      sortMethod: PropTypes.func,\n    })\n  ),\n\n  // Global Expander Column Defaults\n  expanderDefaults: PropTypes.shape({\n    sortable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    filterable: PropTypes.bool,\n    width: PropTypes.number,\n  }),\n\n  pivotDefaults: PropTypes.object,\n\n  // Text\n  previousText: PropTypes.node,\n  nextText: PropTypes.node,\n  loadingText: PropTypes.node,\n  noDataText: PropTypes.node,\n  pageText: PropTypes.node,\n  ofText: PropTypes.node,\n  rowsText: PropTypes.node,\n  pageJumpText: PropTypes.node,\n  rowsSelectorText: PropTypes.node,\n\n  // Components\n  TableComponent: PropTypes.elementType,\n  TheadComponent: PropTypes.elementType,\n  TbodyComponent: PropTypes.elementType,\n  TrGroupComponent: PropTypes.elementType,\n  TrComponent: PropTypes.elementType,\n  ThComponent: PropTypes.elementType,\n  TdComponent: PropTypes.elementType,\n  TfootComponent: PropTypes.elementType,\n  FilterComponent: PropTypes.elementType,\n  ExpanderComponent: PropTypes.elementType,\n  PivotValueComponent: PropTypes.elementType,\n  AggregatedComponent: PropTypes.elementType,\n  // this is a computed default generated using\n  PivotComponent: PropTypes.elementType,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: PropTypes.elementType,\n  PreviousComponent: PropTypes.elementType,\n  NextComponent: PropTypes.elementType,\n  LoadingComponent: PropTypes.elementType,\n  NoDataComponent: PropTypes.elementType,\n  ResizerComponent: PropTypes.elementType,\n  PadRowComponent: PropTypes.elementType,\n}\n","import React from 'react'\nimport classnames from 'classnames'\n//\nexport default {\n  get,\n  set,\n  takeRight,\n  last,\n  orderBy,\n  range,\n  remove,\n  clone,\n  getFirstDefined,\n  sum,\n  makeTemplateComponent,\n  groupBy,\n  isArray,\n  splitProps,\n  compactObject,\n  isSortingDesc,\n  normalizeComponent,\n  asPx,\n}\n\nfunction get (obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nfunction set (obj = {}, path, value) {\n  const keys = makePathArray(path)\n  let keyPart\n  let cursor = obj\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {}\n    }\n    cursor = cursor[keyPart]\n  }\n  cursor[keyPart] = value\n  return obj\n}\n\nfunction takeRight (arr, n) {\n  const start = n > arr.length ? 0 : arr.length - n\n  return arr.slice(start)\n}\n\nfunction last (arr) {\n  return arr[arr.length - 1]\n}\n\nfunction range (n) {\n  const arr = []\n  for (let i = 0; i < n; i += 1) {\n    arr.push(n)\n  }\n  return arr\n}\n\nfunction orderBy (arr, funcs, dirs, indexKey) {\n  return arr.sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const comp = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = comp(rowA, rowB)\n      if (sortInt) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    // Use the row index for tie breakers\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey]\n  })\n}\n\nfunction remove (a, b) {\n  return a.filter((o, i) => {\n    const r = b(o)\n    if (r) {\n      a.splice(i, 1)\n      return true\n    }\n    return false\n  })\n}\n\nfunction clone (a) {\n  try {\n    return JSON.parse(\n      JSON.stringify(a, (key, value) => {\n        if (typeof value === 'function') {\n          return value.toString()\n        }\n        return value\n      })\n    )\n  } catch (e) {\n    return a\n  }\n}\n\nfunction getFirstDefined (...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nfunction sum (arr) {\n  return arr.reduce((a, b) => a + b, 0)\n}\n\nfunction makeTemplateComponent (compClass, displayName) {\n  if (!displayName) {\n    throw new Error('No displayName found for template component:', compClass)\n  }\n  const cmp = ({ children, className, ...rest }) => (\n    <div className={classnames(compClass, className)} {...rest}>\n      {children}\n    </div>\n  )\n  cmp.displayName = displayName\n  return cmp\n}\n\nfunction groupBy (xs, key) {\n  return xs.reduce((rv, x, i) => {\n    const resKey = typeof key === 'function' ? key(x, i) : x[key]\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : []\n    rv[resKey].push(x)\n    return rv\n  }, {})\n}\n\nfunction asPx (value) {\n  value = Number(value)\n  return Number.isNaN(value) ? null : `${value}px`\n}\n\nfunction isArray (a) {\n  return Array.isArray(a)\n}\n\n// ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\nfunction makePathArray (obj) {\n  return flattenDeep(obj)\n    .join('.')\n    .replace(/\\[/g, '.')\n    .replace(/\\]/g, '')\n    .split('.')\n}\n\nfunction flattenDeep (arr, newArr = []) {\n  if (!isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n\nfunction splitProps ({ className, style, ...rest }) {\n  return {\n    className,\n    style,\n    rest: rest || {},\n  }\n}\n\nfunction compactObject (obj) {\n  const newObj = {}\n  if (obj) {\n    Object.keys(obj).map(key => {\n      if (\n        Object.prototype.hasOwnProperty.call(obj, key) &&\n        obj[key] !== undefined &&\n        typeof obj[key] !== 'undefined'\n      ) {\n        newObj[key] = obj[key]\n      }\n      return true\n    })\n  }\n  return newObj\n}\n\nfunction isSortingDesc (d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false)\n}\n\nfunction normalizeComponent(Comp, props, fallback = Comp) {\n  return isReactComponent(Comp) ? <Comp {...props} /> : typeof Comp === 'function' ? Comp(props) : fallback\n}\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' &&\n    !!Object.getPrototypeOf(component).isReactComponent\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return (\n    typeof component === 'function' &&\n    String(component).includes('.createElement')\n  )\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","import React from 'react';\nexport default React.createContext(null);","export default {\n  disabled: false\n};","import PropTypes from 'prop-types';\nexport var timeoutsShape = process.env.NODE_ENV !== 'production' ? PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n  enter: PropTypes.number,\n  exit: PropTypes.number,\n  appear: PropTypes.number\n}).isRequired]) : null;\nexport var classNamesShape = process.env.NODE_ENV !== 'production' ? PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n  enter: PropTypes.string,\n  exit: PropTypes.string,\n  active: PropTypes.string\n}), PropTypes.shape({\n  enter: PropTypes.string,\n  enterDone: PropTypes.string,\n  enterActive: PropTypes.string,\n  exit: PropTypes.string,\n  exitDone: PropTypes.string,\n  exitActive: PropTypes.string\n})]) : null;","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0];\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var splits = value.split(':');\n      url.username = splits[0];\n      url.password = splits.length === 2 ? splits[1] : '';\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import React, { FC } from 'react';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  className?: string;\n  onClick(): void;\n}\n\nexport const AckButton: FC<Props> = ({ className, onClick }) => {\n  return (\n    <ActionButton className={className} icon=\"reply-all\" tooltip=\"Acknowledge problem\" onClick={onClick} />\n  );\n};\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { stylesFactory, useTheme } from '@grafana/ui';\nimport { GrafanaTheme, GrafanaThemeType } from '@grafana/data';\nimport { FAIcon } from '../FAIcon/FAIcon';\nimport { Tooltip } from '../Tooltip/Tooltip';\n\ninterface Props {\n  icon?: string;\n  width?: number;\n  tooltip?: string;\n  className?: string;\n  onClick(event: React.MouseEvent<HTMLButtonElement>): void;\n}\n\nexport const ActionButton: FC<Props> = ({ icon, width, tooltip, className, children, onClick }) => {\n  const theme = useTheme();\n  const styles = getStyles(theme);\n  const buttonClass = cx(\n    'btn',\n    styles.button,\n    css`width: ${width || 3}rem`,\n    className,\n  );\n\n  let button = (\n    <button className={buttonClass} onClick={onClick}>\n      {icon && <FAIcon icon={icon} customClass={styles.icon} />}\n      {children}\n    </button>\n  );\n\n  if (tooltip) {\n    button = (\n      <Tooltip placement=\"bottom\" content={tooltip}>\n        {button}\n      </Tooltip>\n    );\n  }\n\n  return button;\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const actionBlue = theme.type === GrafanaThemeType.Light ? '#497dc0' : '#005f81';\n  const hoverBlue = theme.type === GrafanaThemeType.Light ? '#456ba4' : '#354f77';\n\n  return {\n    button: css`\n      height: 2rem;\n      background-image: none;\n      background-color: ${actionBlue};\n      border: 1px solid ${theme.palette.gray1};\n      border-radius: 1px;\n      color: ${theme.colors.text};\n\n      i {\n        vertical-align: middle;\n      }\n\n      &:hover {\n        background-color: ${hoverBlue};\n      }\n    `,\n    icon: css`\n      i {\n        color: ${theme.colors.text};\n      }\n    `,\n  };\n});\n","import React from 'react';\nimport { config, GrafanaBootConfig } from '@grafana/runtime';\nimport { ThemeContext, getTheme } from '@grafana/ui';\nimport { GrafanaThemeType } from '@grafana/data';\n\nexport const ConfigContext = React.createContext<GrafanaBootConfig>(config);\nexport const ConfigConsumer = ConfigContext.Consumer;\n\nexport const provideConfig = (component: React.ComponentType<any>) => {\n  const ConfigProvider = (props: any) => (\n    <ConfigContext.Provider value={config}>{React.createElement(component, { ...props })}</ConfigContext.Provider>\n  );\n\n  return ConfigProvider;\n};\n\nexport const getCurrentThemeName = () =>\n  config.bootData.user.lightTheme ? GrafanaThemeType.Light : GrafanaThemeType.Dark;\n\nexport const getCurrentTheme = () => getTheme(getCurrentThemeName());\n\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <ConfigConsumer>\n      {config => {\n        return <ThemeContext.Provider value={getCurrentTheme()}>{children}</ThemeContext.Provider>;\n      }}\n    </ConfigConsumer>\n  );\n};\n\nexport const provideTheme = (component: React.ComponentType<any>) => {\n  return provideConfig((props: any) => <ThemeProvider>{React.createElement(component, { ...props })}</ThemeProvider>);\n};\n","import React, { FC } from 'react';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  className?: string;\n  onClick(): void;\n}\n\nexport const ExecScriptButton: FC<Props> = ({ className, onClick }) => {\n  return (\n    <ActionButton className={className} icon=\"terminal\" tooltip=\"Execute script\" onClick={onClick} />\n  );\n};\n","import React, { FC } from 'react';\nimport { getLocationSrv } from '@grafana/runtime';\nimport { MODE_METRICS, MODE_ITEMID } from '../../datasource-zabbix/constants';\nimport { renderUrl } from '../../panel-triggers/utils';\nimport { expandItemName } from '../../datasource-zabbix/utils';\nimport { ProblemDTO } from '../../datasource-zabbix/types';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  problem: ProblemDTO;\n  panelId: number;\n}\n\nexport const ExploreButton: FC<Props> = ({ problem, panelId }) => {\n  return (\n    <ActionButton icon=\"compass\" width={6} onClick={() => openInExplore(problem, panelId)}>\n      Explore\n    </ActionButton>\n  );\n};\n\nconst openInExplore = (problem: ProblemDTO, panelId: number) => {\n  let query: any = {};\n\n  if (problem.items?.length === 1 && problem.hosts?.length === 1) {\n    const item = problem.items[0];\n    const host = problem.hosts[0];\n    const itemName = expandItemName(item.name, item.key_);\n    query = {\n      queryType: MODE_METRICS,\n      group: { filter: '/.*/' },\n      application: { filter: '' },\n      host: { filter: host.name },\n      item: { filter: itemName },\n    };\n  } else {\n    const itemids = problem.items?.map(p => p.itemid).join(',');\n    query = {\n      queryType: MODE_ITEMID,\n      itemids: itemids,\n    };\n  }\n\n  const state: any = {\n    datasource: problem.datasource,\n    context: 'explore',\n    originPanelId: panelId,\n    queries: [query],\n  };\n\n  const exploreState = JSON.stringify(state);\n  const url = renderUrl('/explore', { left: exploreState });\n  getLocationSrv().update({ path: url, query: {} });\n};\n","import React, { FC } from 'react';\nimport { cx } from 'emotion';\n\ninterface Props {\n  icon: string;\n  customClass?: string;\n}\n\nexport const FAIcon: FC<Props> = ({ icon, customClass }) => {\n  const wrapperClass = cx(customClass, 'fa-icon-container');\n\n  return (\n    <span className={wrapperClass}>\n      <i className={`fa fa-${icon}`}></i>\n    </span>\n  );\n};\n\nexport default FAIcon;\n","import React, { FC } from 'react';\nimport { cx } from 'emotion';\n\ninterface Props {\n  status: 'critical' | 'warning' | 'online' | 'ok' | 'problem';\n  className?: string;\n}\n\nexport const GFHeartIcon: FC<Props> = ({ status, className }) => {\n  const iconClass = cx(\n    className,\n    'icon-gf',\n    { \"icon-gf-critical\": status === 'critical' || status === 'problem' || status === 'warning'},\n    { \"icon-gf-online\": status === 'online' || status === 'ok' },\n  );\n\n  return (\n    <i className={iconClass}></i>\n  );\n};\n\nexport default GFHeartIcon;\n","import React, { FC } from 'react';\nimport ReactDOM from 'react-dom';\nimport { provideTheme } from '../ConfigProvider/ConfigProvider';\n\ninterface ModalWrapperProps {\n  showModal: <T>(component: React.ComponentType<T>, props: T) => void;\n  hideModal: () => void;\n}\n\ntype ModalWrapper<T> = FC<ModalWrapperProps>;\n\ninterface Props {\n  children: ModalWrapper<any>;\n}\n\ninterface State {\n  component: React.ComponentType<any> | null;\n  props: any;\n}\n\nexport class ModalController extends React.Component<Props, State> {\n  modalRoot = document.body;\n  modalNode = document.createElement('div');\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      component: null,\n      props: {},\n    };\n  }\n\n  showModal = (component: React.ComponentType<any>, props: any) => {\n    this.setState({\n      component,\n      props\n    });\n  };\n\n  hideModal = () => {\n    this.modalRoot.removeChild(this.modalNode);\n    this.setState({\n      component: null,\n      props: {},\n    });\n  };\n\n  renderModal() {\n    const { component, props } = this.state;\n    if (!component) {\n      return null;\n    }\n\n    this.modalRoot.appendChild(this.modalNode);\n    const modal = React.createElement(provideTheme(component), props);\n    return ReactDOM.createPortal(modal, this.modalNode);\n  }\n\n  render() {\n    const { children } = this.props;\n    const ChildrenComponent = children;\n\n    return (\n      <>\n        <ChildrenComponent showModal={this.showModal} hideModal={this.hideModal} />\n        {this.renderModal()}\n      </>\n    );\n  }\n}\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { Manager, Popper as ReactPopper, Reference } from 'react-popper';\nimport Transition from 'react-transition-group/Transition';\nimport { stylesFactory } from '@grafana/ui';\nimport BodyPortal from './Portal';\n\nconst getStyles = stylesFactory(() => ({\n  defaultTransitionStyles: css`\n    transition: opacity 200ms linear;\n    opacity: 0;\n  `,\n  tooltipContent: css`\n    overflow-wrap: break-word;\n  `,\n}));\n\nconst transitionStyles = {\n  exited: { opacity: 0 },\n  entering: { opacity: 0 },\n  entered: { opacity: 1 },\n  exiting: { opacity: 0 },\n};\n\ninterface Props {\n  renderContent: (content: any) => any;\n  show: boolean;\n  placement?: any;\n  content: string | ((props: any) => JSX.Element);\n  refClassName?: string;\n  popperClassName?: string;\n}\n\nconst Popper: FC<Props> = ({ show, placement, popperClassName, refClassName, content, children, renderContent }) => {\n  const refClass = cx('popper_ref', refClassName);\n  const styles = getStyles();\n  const popperClass = cx('popper', popperClassName, styles.defaultTransitionStyles);\n\n  return (\n    <Manager>\n      <Reference>\n        {({ ref }) => (\n          <div className={refClass} ref={ref}>\n            {children}\n          </div>\n        )}\n      </Reference>\n      <Transition in={show} timeout={100} mountOnEnter={true} unmountOnExit={true}>\n        {transitionState => (\n          <BodyPortal>\n            <ReactPopper placement={placement}>\n              {({ ref, style, placement, arrowProps }) => {\n                return (\n                  <div\n                    ref={ref}\n                    style={{\n                      ...style,\n                      ...transitionStyles[transitionState],\n                    }}\n                    data-placement={placement}\n                    className={popperClass}\n                  >\n                    <div className=\"popper__background\">\n                      <div className={styles.tooltipContent}>\n                        {renderContent(content)}\n                      </div>\n                      <div ref={arrowProps.ref} data-placement={placement} className=\"popper__arrow\" />\n                    </div>\n                  </div>\n                );\n              }}\n            </ReactPopper>\n          </BodyPortal>\n        )}\n      </Transition>\n    </Manager>\n  );\n};\n\nexport default Popper;\n","import { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\n\ninterface Props {\n  className?: string;\n  root?: HTMLElement;\n}\n\nexport default class BodyPortal extends PureComponent<Props> {\n  node: HTMLElement;\n  portalRoot: HTMLElement;\n\n  constructor(props) {\n    super(props);\n    const {\n      className,\n      root = document.body\n    } = this.props;\n\n    this.node = document.createElement('div');\n    if (className) {\n      this.node.classList.add(className);\n    }\n\n    this.portalRoot = root;\n    this.portalRoot.appendChild(this.node);\n  }\n\n  componentWillUnmount() {\n    this.portalRoot.removeChild(this.node);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.node);\n  }\n}\n","import React, { FC } from 'react';\nimport Popper from './Popper';\nimport withPopper, { UsingPopperProps } from './withPopper';\n\nconst TooltipWrapper: FC<UsingPopperProps> = ({ hidePopper, showPopper, className, children, ...restProps }) => {\n  return (\n    <div className={`popper__manager ${className}`} onMouseEnter={showPopper} onMouseLeave={hidePopper}>\n      <Popper {...restProps}>{children}</Popper>\n    </div>\n  );\n};\n\nexport const Tooltip = withPopper(TooltipWrapper);\n\nexport default Tooltip;\n","import React from 'react';\n\nexport interface UsingPopperProps {\n  showPopper: (prevState: object) => void;\n  hidePopper: (prevState: object) => void;\n  renderContent: (content: any) => any;\n  show: boolean;\n  placement?: string;\n  content: string | ((props: any) => JSX.Element);\n  className?: string;\n  refClassName?: string;\n  popperClassName?: string;\n}\n\ninterface Props {\n  placement?: string;\n  className?: string;\n  refClassName?: string;\n  popperClassName?: string;\n  content: string | ((props: any) => JSX.Element);\n}\n\ninterface State {\n  show: boolean;\n}\n\nexport const withPopper = (WrappedComponent) => {\n  return class extends React.Component<Props, State> {\n    static defaultProps: Partial<Props> = {\n      placement: 'auto',\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        show: false,\n      };\n    }\n\n    showPopper = () => {\n      this.setState({ show: true });\n    };\n\n    hidePopper = () => {\n      this.setState({ show: false });\n    };\n\n    renderContent(content) {\n      if (typeof content === 'function') {\n        // If it's a function we assume it's a React component\n        const ReactComponent = content;\n        return <ReactComponent />;\n      }\n      return content;\n    }\n\n    render() {\n      const { show } = this.state;\n      const { placement, className } = this.props;\n\n      return (\n        <WrappedComponent\n          {...this.props}\n          showPopper={this.showPopper}\n          hidePopper={this.hidePopper}\n          renderContent={this.renderContent}\n          placement={placement}\n          className={className}\n          show={show}\n        />\n      );\n    }\n  };\n};\n\nexport default withPopper;\n","export { GFHeartIcon } from './GFHeartIcon/GFHeartIcon';\nexport { FAIcon } from './FAIcon/FAIcon';\nexport { AckButton } from './AckButton/AckButton';\nexport { ExploreButton } from './ExploreButton/ExploreButton';\nexport { ExecScriptButton } from './ExecScriptButton/ExecScriptButton';\nexport { Tooltip } from './Tooltip/Tooltip';\nexport { ModalController } from './Modal/ModalController';\n","// Plugin IDs\nexport const ZABBIX_PROBLEMS_PANEL_ID = 'iiris-zabbix-problems-panel';\nexport const ZABBIX_DS_ID = 'iiris-zabbix-datasource';\n\n// Data point\nexport const DATAPOINT_VALUE = 0;\nexport const DATAPOINT_TS = 1;\n\n// Editor modes\nexport const MODE_METRICS = 0;\nexport const MODE_ITSERVICE = 1;\nexport const MODE_TEXT = 2;\nexport const MODE_ITEMID = 3;\nexport const MODE_TRIGGERS = 4;\nexport const MODE_PROBLEMS = 5;\n\n// Triggers severity\nexport const SEV_NOT_CLASSIFIED = 0;\nexport const SEV_INFORMATION = 1;\nexport const SEV_WARNING = 2;\nexport const SEV_AVERAGE = 3;\nexport const SEV_HIGH = 4;\nexport const SEV_DISASTER = 5;\n\nexport const SHOW_ALL_TRIGGERS = [0, 1];\nexport const SHOW_ALL_EVENTS = [0, 1];\nexport const SHOW_OK_EVENTS = 1;\n\n// Acknowledge\nexport const ZBX_ACK_ACTION_NONE = 0;\nexport const ZBX_ACK_ACTION_CLOSE = 1;\nexport const ZBX_ACK_ACTION_ACK = 2;\nexport const ZBX_ACK_ACTION_ADD_MESSAGE = 4;\nexport const ZBX_ACK_ACTION_CHANGE_SEVERITY = 8;\n\nexport const TRIGGER_SEVERITY = [\n  {val: 0, text: 'Not classified'},\n  {val: 1, text: 'Information'},\n  {val: 2, text: 'Warning'},\n  {val: 3, text: 'Average'},\n  {val: 4, text: 'High'},\n  {val: 5, text: 'Disaster'}\n];\n\n/** Minimum interval for SLA over time (1 hour) */\nexport const MIN_SLA_INTERVAL = 3600;\n\nexport const RANGE_VARIABLE_VALUE = 'range_series';\n\nexport const DEFAULT_ZABBIX_PROBLEMS_LIMIT = 1001;\n","import { SelectableValue, DataQuery, DataSourceJsonData } from \"@grafana/data\";\n\nexport interface ZabbixDSOptions extends DataSourceJsonData {\n  username: string;\n  password?: string;\n  trends: boolean;\n  trendsFrom: string;\n  trendsRange: string;\n  cacheTTL: string;\n  timeout?: string;\n  dbConnectionEnable: boolean;\n  dbConnectionDatasourceId?: number;\n  dbConnectionDatasourceName?: string;\n  dbConnectionRetentionPolicy?: string;\n  disableReadOnlyUsersAck: boolean;\n  disableDataAlignment: boolean;\n}\n\nexport interface ZabbixSecureJSONData {\n  password?: string;\n}\n\nexport interface ZabbixConnectionInfo {\n  zabbixVersion: string;\n  dbConnectorStatus: {\n    dsType: string;\n    dsName: string;\n  };\n}\n\nexport interface ZabbixConnectionTestQuery {\n  datasourceId: number;\n  queryType: string;\n}\n\nexport interface ZabbixMetricsQuery extends DataQuery {\n  triggers: { minSeverity: string; acknowledged: boolean; count: number; };\n  queryType: string;\n  datasourceId: number;\n  group: { filter: string; name?: string; };\n  host: { filter: string; name?: string; };\n  application: { filter: string; name?: string; };\n  item: { filter: string; name?: string; };\n  textFilter: string;\n  mode: number;\n  itemids: number[];\n  useCaptureGroups: boolean;\n  proxy?: { filter: string; };\n  trigger?: { filter: string; };\n  itServiceFilter?: string;\n  tags?: { filter: string; };\n  functions: ZabbixMetricFunction[];\n  options: ZabbixQueryOptions;\n  // Problems\n  showProblems?: ShowProblemTypes;\n  // Deprecated\n  hostFilter?: string;\n  itemFilter?: string;\n}\n\nexport interface ZabbixQueryOptions {\n  showDisabledItems?: boolean;\n  skipEmptyValues?: boolean;\n  disableDataAlignment?: boolean;\n  useZabbixValueMapping?: boolean;\n  // Problems options\n  minSeverity?: number;\n  sortProblems?: string;\n  acknowledged?: number;\n  hostsInMaintenance?: boolean;\n  hostProxy?: boolean;\n  limit?: number;\n  useTimeRange?: boolean;\n  severities?: number[];\n}\n\nexport interface ZabbixMetricFunction {\n  name: string;\n  params: any;\n  def: { name: string; params: any; };\n}\n\n// The paths of these files have moved around in Grafana and they don't resolve properly\n// either. Safer not to bother trying to import them just for type hinting.\n\nexport interface TemplateSrv {\n  variables: {\n    name: string;\n  };\n  highlightVariablesAsHtml(str: any): any;\n  replace(target: any, scopedVars?: any, format?: any): any;\n}\n\nexport interface DashboardSrv {\n  dash: any;\n}\n\n// Grafana types from backend code\n\ntype RowValues = object[];\ntype TimePoint = [number?, number?];\ntype TimeSeriesPoints = TimePoint[];\ntype TimeSeriesSlice = TimeSeries[];\n\ninterface TimeSeries {\n  name: string;\n  points: TimeSeriesPoints;\n  tags: { [key: string]: string };\n}\n\ninterface TableColumn {\n  text: string;\n}\n\ninterface Table {\n  columns: TableColumn[];\n  rows: RowValues[];\n}\n\ninterface QueryResult {\n  error: string;\n  refId: string;\n  meta: any;\n  series: TimeSeriesSlice[];\n  tables: Table[];\n}\n\nexport interface TSDBResponse {\n  results: { [key: string]: QueryResult };\n  message: string;\n}\n\nexport interface VariableQueryProps {\n  query: LegacyVariableQuery;\n  onChange: (query: VariableQuery, definition: string) => void;\n  datasource: any;\n  templateSrv: any;\n}\n\nexport interface VariableQueryData extends VariableQuery {\n  selectedQueryType: SelectableValue<VariableQueryTypes>;\n  legacyQuery?: string;\n}\n\nexport interface VariableQuery {\n  queryType: VariableQueryTypes;\n  group?: string;\n  host?: string;\n  application?: string;\n  item?: string;\n}\n\nexport type LegacyVariableQuery = VariableQuery | string;\n\nexport enum VariableQueryTypes {\n  Group = 'group',\n  Host = 'host',\n  Application = 'application',\n  Item = 'item',\n  ItemValues = 'itemValues',\n}\n\nexport enum ShowProblemTypes {\n  Problems = 'problems',\n  Recent = 'recent',\n  History = 'history',\n}\n\nexport interface ProblemDTO {\n  triggerid?: string;\n  eventid?: string;\n  timestamp: number;\n\n  /** Name of the trigger. */\n  name?: string;\n\n  /** Same as a name. */\n  description?: string;\n\n  /** Whether the trigger is in OK or problem state. */\n  value?: string;\n\n  datasource?: string;\n  comments?: string;\n  host?: string;\n  hostTechName?: string;\n  proxy?: string;\n  severity?: string;\n\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n\n  groups?: ZBXGroup[];\n  hosts?: ZBXHost[];\n  items?: ZBXItem[];\n  alerts?: ZBXAlert[];\n  tags?: ZBXTag[];\n  url?: string;\n\n  expression?: string;\n  correlation_mode?: string;\n  correlation_tag?: string;\n  suppressed?: string;\n  suppression_data?: any[];\n  state?: string;\n  maintenance?: boolean;\n  manual_close?: string;\n  error?: string;\n\n  showAckButton?: boolean;\n  opdata?: string;\n}\n\nexport interface ZBXProblem {\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n  clock: string;\n  ns: string;\n  correlationid?: string;\n  datasource?: string;\n  name?: string;\n  eventid?: string;\n  maintenance?: boolean;\n  object?: string;\n  objectid?: string;\n  opdata?: any;\n  r_eventid?: string;\n  r_clock?: string;\n  r_ns?: string;\n  severity?: string;\n  showAckButton?: boolean;\n  source?: string;\n  suppressed?: string;\n  suppression_data?: any[];\n  tags?: ZBXTag[];\n  userid?: string;\n}\n\nexport interface ZBXTrigger {\n  acknowledges?: ZBXAcknowledge[];\n  showAckButton?: boolean;\n  alerts?: ZBXAlert[];\n  age?: string;\n  color?: string;\n  comments?: string;\n  correlation_mode?: string;\n  correlation_tag?: string;\n  datasource?: string;\n  description?: string;\n  error?: string;\n  expression?: string;\n  flags?: string;\n  groups?: ZBXGroup[];\n  host?: string;\n  hostTechName?: string;\n  hosts?: ZBXHost[];\n  items?: ZBXItem[];\n  lastEvent?: ZBXEvent;\n  lastchange?: string;\n  lastchangeUnix?: number;\n  maintenance?: boolean;\n  manual_close?: string;\n  priority?: string;\n  proxy?: string;\n  recovery_expression?: string;\n  recovery_mode?: string;\n  severity?: string;\n  state?: string;\n  status?: string;\n  tags?: ZBXTag[];\n  templateid?: string;\n  triggerid?: string;\n  /** Whether the trigger can generate multiple problem events. */\n  type?: string;\n  url?: string;\n  value?: string;\n  opdata?: string;\n}\n\nexport interface ZBXGroup {\n  groupid: string;\n  name: string;\n}\n\nexport interface ZBXHost {\n  hostid: string;\n  name: string;\n  host: string;\n  maintenance_status?: string;\n  proxy_hostid?: string;\n}\n\nexport interface ZBXItem {\n  itemid: string;\n  name: string;\n  key_: string;\n  lastvalue?: string;\n}\n\nexport interface ZBXEvent {\n  eventid: string;\n  clock: string;\n  ns?: string;\n  value?: string;\n  name?: string;\n  source?: string;\n  object?: string;\n  objectid?: string;\n  severity?: string;\n  hosts?: ZBXHost[];\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n  tags?: ZBXTag[];\n  suppressed?: string;\n}\n\nexport interface ZBXTag {\n  tag: string;\n  value?: string;\n}\n\nexport interface ZBXAcknowledge {\n  acknowledgeid: string;\n  eventid: string;\n  userid: string;\n  action: string;\n  clock: string;\n  time: string;\n  message?: string;\n  user: string;\n  alias: string;\n  name: string;\n  surname: string;\n}\n\nexport interface ZBXAlert {\n  eventid: string;\n  clock: string;\n  message: string;\n  error: string;\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport * as c from './constants';\nimport { VariableQuery, VariableQueryTypes } from './types';\nimport { MappingType, ValueMapping, getValueFormats, DataFrame, FieldType, rangeUtil } from '@grafana/data';\n\n/*\n * This regex matches 3 types of variable reference with an optional format specifier\n * \\$(\\w+)                          $var1\n * \\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]    [[var2]] or [[var2:fmt2]]\n * \\${(\\w+)(?::(\\w+))?}             ${var3} or ${var3:fmt3}\n */\nexport const variableRegex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::(\\w+))?}/g;\n\n/**\n * Expand Zabbix item name\n *\n * @param  {string} name item name, ie \"CPU $2 time\"\n * @param  {string} key  item key, ie system.cpu.util[,system,avg1]\n * @return {string}      expanded name, ie \"CPU system time\"\n */\nexport function expandItemName(name: string, key: string): string {\n\n  // extract params from key:\n  // \"system.cpu.util[,system,avg1]\" --> [\"\", \"system\", \"avg1\"]\n  const key_params_str = key.substring(key.indexOf('[') + 1, key.lastIndexOf(']'));\n  const key_params = splitKeyParams(key_params_str);\n\n  // replace item parameters\n  for (let i = key_params.length; i >= 1; i--) {\n    name = name.replace('$' + i, key_params[i - 1]);\n  }\n  return name;\n}\n\nexport function expandItems(items) {\n  _.forEach(items, item => {\n    item.item = item.name;\n    item.name = expandItemName(item.item, item.key_);\n    return item;\n  });\n  return items;\n}\n\nfunction splitKeyParams(paramStr) {\n  const params = [];\n  let quoted = false;\n  let in_array = false;\n  const split_symbol = ',';\n  let param = '';\n\n  _.forEach(paramStr, symbol => {\n    if (symbol === '\"' && in_array) {\n      param += symbol;\n    } else if (symbol === '\"' && quoted) {\n      quoted = false;\n    } else if (symbol === '\"' && !quoted) {\n      quoted = true;\n    } else if (symbol === '[' && !quoted) {\n      in_array  = true;\n    } else if (symbol === ']' && !quoted) {\n      in_array = false;\n    } else if (symbol === split_symbol && !quoted && !in_array) {\n      params.push(param);\n      param = '';\n    } else {\n      param += symbol;\n    }\n  });\n\n  params.push(param);\n  return params;\n}\n\nconst MACRO_PATTERN = /{\\$[A-Z0-9_\\.]+}/g;\n\nexport function containsMacro(itemName) {\n  return MACRO_PATTERN.test(itemName);\n}\n\nexport function replaceMacro(item, macros, isTriggerItem?, parentHosts?) {\n  let itemName = isTriggerItem ? item.url : item.name;\n  const item_macros = itemName.match(MACRO_PATTERN);\n  _.forEach(item_macros, macro => {\n    const host_macros = _.filter(macros, m => {\n      if (m.hostid) {\n        if (isTriggerItem) {\n          // Trigger item can have multiple hosts\n          // Check all trigger host ids against macro host id\n          let hostIdFound = false;\n          _.forEach(item.hosts, h => {\n            // Check for parent templates hostid and macros\n            const parentHost = parentHosts.find(pHost => pHost.hostid === h.hostid) || {};\n            const isTemplateMacro = parentHost.parentTemplates.findIndex(tmpl => tmpl.templateid === m.hostid && m.value) > -1;\n            // Check if host already has that same macro, host is overruling\n            const hostHasMacro = macros.findIndex(aMacro => aMacro.hostid === h.hostid && aMacro.value && aMacro.macro === m.macro) > -1;\n            // Check if macro's hostid is same as hosts or parent templates hostid\n            if ((h.hostid === m.hostid && m.value) || (isTemplateMacro && !hostHasMacro)) {\n              hostIdFound = true;\n            }\n          });\n          return hostIdFound;\n        } else {\n          // Check app host id against macro host id\n          return m.hostid === item.hostid;\n        }\n      } else {\n        // Add global macros\n        return true;\n      }\n    });\n\n    const macro_def = _.find(host_macros, { macro: macro });\n    if (macro_def && macro_def.value) {\n      const macro_value = macro_def.value;\n      const macro_regex = new RegExp(escapeMacro(macro));\n      itemName = itemName.replace(macro_regex, macro_value);\n    }\n  });\n\n  return itemName;\n}\n\nfunction escapeMacro(macro) {\n  macro = macro.replace(/\\$/, '\\\\\\$');\n  return macro;\n}\n\nexport function parseLegacyVariableQuery(query: string): VariableQuery {\n  let queryType: VariableQueryTypes;\n  const parts = [];\n\n  // Split query. Query structure: group.host.app.item\n  _.each(splitTemplateQuery(query), part => {\n    // Replace wildcard to regex\n    if (part === '*') {\n      part = '/.*/';\n    }\n    parts.push(part);\n  });\n  const template = _.zipObject(['group', 'host', 'app', 'item'], parts);\n\n  if (parts.length === 4 && template.app === '/.*/') {\n    // Search for all items, even it's not belong to any application\n    template.app = '';\n  }\n\n  switch (parts.length) {\n    case 1:\n      queryType = VariableQueryTypes.Group;\n      break;\n    case 2:\n      queryType = VariableQueryTypes.Host;\n      break;\n    case 3:\n      queryType = VariableQueryTypes.Application;\n      break;\n    case 4:\n      queryType = VariableQueryTypes.Item;\n      break;\n  }\n\n  const variableQuery: VariableQuery = {\n    queryType,\n    group: template.group || '',\n    host: template.host || '',\n    application: template.app || '',\n    item: template.item || '',\n  };\n\n  return variableQuery;\n}\n\n/**\n * Split template query to parts of zabbix entities\n * group.host.app.item -> [group, host, app, item]\n * {group}{host.com} -> [group, host.com]\n */\nexport function splitTemplateQuery(query) {\n  const splitPattern = /\\{[^\\{\\}]*\\}|\\{\\/.*\\/\\}/g;\n  let split;\n\n  if (isContainsBraces(query)) {\n    const result = query.match(splitPattern);\n    split = _.map(result, part => {\n      return _.trim(part, '{}');\n    });\n  } else {\n    split = query.split('.');\n  }\n\n  return split;\n}\n\nfunction isContainsBraces(query) {\n  const bracesPattern = /^\\{.+\\}$/;\n  return bracesPattern.test(query);\n}\n\n// Pattern for testing regex\nexport const regexPattern = /^\\/(.*)\\/([gmi]*)$/m;\n\nexport function isRegex(str) {\n  return regexPattern.test(str);\n}\n\nexport function isTemplateVariable(str, templateVariables) {\n  const variablePattern = /^\\$\\w+/;\n  if (variablePattern.test(str)) {\n    const variables = _.map(templateVariables, variable => {\n      return '$' + variable.name;\n    });\n    return _.includes(variables, str);\n  } else {\n    return false;\n  }\n}\n\nexport function getRangeScopedVars(range) {\n  const msRange = range.to.diff(range.from);\n  const sRange = Math.round(msRange / 1000);\n  const regularRange = rangeUtil.secondsToHms(msRange / 1000);\n  return {\n    __range_ms: { text: msRange, value: msRange },\n    __range_s: { text: sRange, value: sRange },\n    __range: { text: regularRange, value: regularRange },\n    __range_series: {text: c.RANGE_VARIABLE_VALUE, value: c.RANGE_VARIABLE_VALUE},\n  };\n}\n\nexport function buildRegex(str) {\n  const matches = str.match(regexPattern);\n  const pattern = matches[1];\n  const flags = matches[2] !== \"\" ? matches[2] : undefined;\n  return new RegExp(pattern, flags);\n}\n\n// Need for template variables replace\n// From Grafana's templateSrv.js\nexport function escapeRegex(value) {\n  return value.replace(/[\\\\^$*+?.()|[\\]{}\\/]/g, '\\\\$&');\n}\n\n/**\n * Parses Zabbix item update interval. Returns 0 in case of custom intervals.\n */\nexport function parseItemInterval(interval: string): number {\n  const normalizedInterval = normalizeZabbixInterval(interval);\n  if (normalizedInterval) {\n    return parseInterval(normalizedInterval);\n  }\n  return 0;\n}\n\nexport function normalizeZabbixInterval(interval: string): string {\n  const intervalPattern = /(^[\\d]+)(y|M|w|d|h|m|s)?/g;\n  const parsedInterval = intervalPattern.exec(interval);\n  if (!parsedInterval || !interval || (parsedInterval.length > 2 && !parsedInterval[2])) {\n    return '';\n  }\n  return parsedInterval[1] + (parsedInterval.length > 2 ? parsedInterval[2] : 's');\n}\n\nexport function parseInterval(interval: string): number {\n  const intervalPattern = /(^[\\d]+)(y|M|w|d|h|m|s)/g;\n  const momentInterval: any[] = intervalPattern.exec(interval);\n  const duration = moment.duration(Number(momentInterval[1]), momentInterval[2]);\n  return (duration.valueOf() as number);\n}\n\nexport function parseTimeShiftInterval(interval) {\n  const intervalPattern = /^([\\+\\-]*)([\\d]+)(y|M|w|d|h|m|s)/g;\n  const momentInterval: any[] = intervalPattern.exec(interval);\n  let duration: any = 0;\n\n  if (momentInterval[1] === '+') {\n    duration = 0 - (moment.duration(Number(momentInterval[2]), momentInterval[3]).valueOf() as any);\n  } else {\n    duration = moment.duration(Number(momentInterval[2]), momentInterval[3]).valueOf();\n  }\n\n  return duration;\n}\n\n/**\n * Format acknowledges.\n *\n * @param  {array} acknowledges array of Zabbix acknowledge objects\n * @return {string} HTML-formatted table\n */\nexport function formatAcknowledges(acknowledges) {\n  if (acknowledges.length) {\n    let formatted_acknowledges = '<br><br>Acknowledges:<br><table><tr><td><b>Time</b></td>'\n      + '<td><b>User</b></td><td><b>Comments</b></td></tr>';\n    _.each(_.map(acknowledges, ack => {\n      const timestamp = moment.unix(ack.clock);\n      return '<tr><td><i>' + timestamp.format(\"DD MMM YYYY HH:mm:ss\") + '</i></td><td>' + ack.alias\n        + ' (' + ack.name + ' ' + ack.surname + ')' + '</td><td>' + ack.message + '</td></tr>';\n    }), ack => {\n      formatted_acknowledges = formatted_acknowledges.concat(ack);\n    });\n    formatted_acknowledges = formatted_acknowledges.concat('</table>');\n    return formatted_acknowledges;\n  } else {\n    return '';\n  }\n}\n\nexport function convertToZabbixAPIUrl(url) {\n  const zabbixAPIUrlPattern = /.*api_jsonrpc.php$/;\n  const trimSlashPattern = /(.*?)[\\/]*$/;\n  if (url.match(zabbixAPIUrlPattern)) {\n    return url;\n  } else {\n    return url.replace(trimSlashPattern, \"$1\");\n  }\n}\n\n/**\n * Wrap function to prevent multiple calls\n * when waiting for result.\n */\nexport function callOnce(func, promiseKeeper) {\n  return function() {\n    if (!promiseKeeper) {\n      promiseKeeper = Promise.resolve(\n        func.apply(this, arguments)\n        .then(result => {\n          promiseKeeper = null;\n          return result;\n        }).catch(err => {\n          promiseKeeper = null;\n          throw err;\n        })\n      );\n    }\n    return promiseKeeper;\n  };\n}\n\n/**\n * Apply function one by one: `sequence([a(), b(), c()]) = c(b(a()))`\n * @param {*} funcsArray functions to apply\n */\nexport function sequence(funcsArray) {\n  return function(result) {\n    for (let i = 0; i < funcsArray.length; i++) {\n      result = funcsArray[i].call(this, result);\n    }\n    return result;\n  };\n}\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\n\nexport function isValidVersion(version) {\n  return versionPattern.exec(version);\n}\n\nexport function parseVersion(version: string) {\n  const match = versionPattern.exec(version);\n  if (!match) {\n    return null;\n  }\n  const major = Number(match[1]);\n  const minor = Number(match[2] || 0);\n  const patch = Number(match[3] || 0);\n  const meta = match[4];\n  return { major, minor, patch, meta };\n}\n\n/**\n * Replaces any space-like symbols (tabs, new lines, spaces) by single whitespace.\n */\nexport function compactQuery(query) {\n  return query.replace(/\\s+/g, ' ').trim();\n}\n\nexport function getArrayDepth(a, level = 0) {\n  if (a.length === 0) {\n    return 1;\n  }\n  const elem = a[0];\n  if (_.isArray(elem)) {\n    return getArrayDepth(elem, level + 1);\n  }\n  return level + 1;\n}\n\n/**\n * Checks whether its argument represents a numeric value.\n */\nexport function isNumeric(n: any): boolean {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Parses tags string into array of {tag: value} objects\n */\nexport function parseTags(tagStr: string): any[] {\n  if (!tagStr) {\n    return [];\n  }\n\n  let tags: any[] = _.map(tagStr.split(','), (tag) => tag.trim());\n  tags = _.map(tags, (tag) => {\n    const tagParts = tag.split(':');\n    return {tag: tagParts[0].trim(), value: tagParts[1].trim()};\n  });\n  return tags;\n}\n\nexport function mustArray(result: any): any[] {\n  return result || [];\n}\n\nconst getUnitsMap = () => ({\n  '%': 'percent',\n  'b': 'decbits', // bits(SI)\n  'bps': 'bps', // bits/sec(SI)\n  'B': 'bytes', // bytes(IEC)\n  'Bps': 'binBps', // bytes/sec(IEC)\n  // 'unixtime': 'dateTimeAsSystem',\n  'uptime': 'dtdhms',\n  'qps': 'qps', // requests/sec (rps)\n  'iops': 'iops', // I/O ops/sec (iops)\n  'Hz': 'hertz', // Hertz (1/s)\n  'V': 'volt', // Volt (V)\n  'C': 'celsius', // Celsius (C)\n  'RPM': 'rotrpm', // Revolutions per minute (rpm)\n  'dBm': 'dBm', // Decibel-milliwatt (dBm)\n});\n\nconst getKnownGrafanaUnits = () => {\n  const units = {};\n  const categories = getValueFormats();\n  for (const category of categories) {\n    for (const unitDesc of category.submenu) {\n      const unit = unitDesc.value;\n      units[unit] = unit;\n    }\n  }\n  return units;\n};\n\nconst unitsMap = getUnitsMap();\nconst knownGrafanaUnits = getKnownGrafanaUnits();\n\nexport function convertZabbixUnit(zabbixUnit: string): string {\n  let unit = unitsMap[zabbixUnit];\n  if (!unit) {\n    unit = knownGrafanaUnits[zabbixUnit];\n  }\n  return unit;\n}\n\nexport function getValueMapping(item, valueMappings: any[]): ValueMapping[] | null {\n  const { valuemapid } = item;\n  const mapping = valueMappings?.find(m => m.valuemapid === valuemapid);\n  if (!mapping) {\n    return null;\n  }\n\n  return (mapping.mappings as any[]).map((m, i) => {\n    const valueMapping: ValueMapping = {\n      id: i,\n      type: MappingType.ValueToText,\n      value: m.value,\n      text: m.newvalue,\n    };\n    return valueMapping;\n  });\n}\n\nexport function isProblemsDataFrame(data: DataFrame): boolean {\n  return data.fields.length && data.fields[0].type === FieldType.other && data.fields[0].config.custom['type'] === 'problems';\n}\n","import React, { PureComponent } from 'react';\nimport { cx, css } from 'emotion';\nimport { ZBX_ACK_ACTION_ADD_MESSAGE, ZBX_ACK_ACTION_ACK, ZBX_ACK_ACTION_CHANGE_SEVERITY, ZBX_ACK_ACTION_CLOSE } from '../../datasource-zabbix/constants';\nimport { Button, VerticalGroup, Spinner, Modal, Input, Checkbox, RadioButtonGroup, stylesFactory, withTheme, Themeable, TextArea } from '@grafana/ui';\nimport { FAIcon } from '../../components';\nimport { getSeverityOptions } from '../triggers_panel_ctrl';\nimport { GrafanaTheme } from '@grafana/data';\n\nconst KEYBOARD_ENTER_KEY = 13;\nconst KEYBOARD_ESCAPE_KEY = 27;\n\ninterface Props extends Themeable {\n  canAck?: boolean;\n  canClose?: boolean;\n  severity?: number;\n  withBackdrop?: boolean;\n  onSubmit: (data?: AckProblemData) => Promise<any> | any;\n  onDismiss?: () => void;\n  texts: any;\n}\n\ninterface State {\n  value: string;\n  error: boolean;\n  errorMessage: string;\n  ackError: string;\n  acknowledge: boolean;\n  closeProblem: boolean;\n  changeSeverity: boolean;\n  selectedSeverity: number;\n  loading: boolean;\n}\n\nexport interface AckProblemData {\n  message: string;\n  closeProblem?: boolean;\n  action?: number;\n  severity?: number;\n}\n\nconst severityOptions = [\n  {value: 0, label: 'Not classified'},\n  {value: 1, label: 'Information'},\n  {value: 2, label: 'Warning'},\n  {value: 3, label: 'Average'},\n  {value: 4, label: 'High'},\n  {value: 5, label: 'Disaster'}\n];\n\nexport class AckModalUnthemed extends PureComponent<Props, State> {\n  static defaultProps: Partial<Props> = {\n    withBackdrop: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      error: false,\n      errorMessage: '',\n      ackError: '',\n      acknowledge: false,\n      closeProblem: false,\n      changeSeverity: false,\n      selectedSeverity: props.severity || 0,\n      loading: false,\n    };\n  }\n\n  handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ value: event.target.value, error: false });\n  }\n\n  handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (event.which === KEYBOARD_ENTER_KEY || event.key === 'Enter') {\n      // this.submit();\n    } else if (event.which === KEYBOARD_ESCAPE_KEY || event.key === 'Escape') {\n      this.dismiss();\n    }\n  }\n\n  handleBackdropClick = () => {\n    this.dismiss();\n  }\n\n  onAcknowledgeToggle = () => {\n    this.setState({ acknowledge: !this.state.acknowledge, error: false });\n  }\n\n  onChangeSeverityToggle = () => {\n    this.setState({ changeSeverity: !this.state.changeSeverity, error: false });\n  }\n\n  onCloseProblemToggle = () => {\n    this.setState({ closeProblem: !this.state.closeProblem, error: false });\n  }\n\n  onChangeSelectedSeverity = v => {\n    this.setState({ selectedSeverity: v });\n  };\n\n  dismiss = () => {\n    this.setState({ value: '', error: false, errorMessage: '', ackError: '', loading: false });\n    this.props.onDismiss();\n  }\n\n  submit = () => {\n    const { acknowledge, changeSeverity, closeProblem } = this.state;\n\n    const actionSelected = acknowledge || changeSeverity || closeProblem;\n    if (!this.state.value && !actionSelected) {\n      return this.setState({\n        error: true,\n        errorMessage: 'Enter message text or select an action'\n      });\n    }\n\n    this.setState({ ackError: '', loading: true });\n\n    const ackData: AckProblemData = {\n      message: this.state.value,\n    };\n\n    let action = ZBX_ACK_ACTION_ADD_MESSAGE;\n    if (this.state.acknowledge) {\n      action += ZBX_ACK_ACTION_ACK;\n    }\n    if (this.state.changeSeverity) {\n      action += ZBX_ACK_ACTION_CHANGE_SEVERITY;\n      ackData.severity = this.state.selectedSeverity;\n    }\n    if (this.state.closeProblem) {\n      action += ZBX_ACK_ACTION_CLOSE;\n    }\n    ackData.action = action;\n\n    this.props.onSubmit(ackData).then(() => {\n      this.dismiss();\n    }).catch(err => {\n      const errorMessage = err.data?.message || err.data?.error || err.data || err.statusText || '';\n      this.setState({\n        ackError: errorMessage,\n        loading: false,\n      });\n    });\n  }\n\n  renderActions() {\n    const { canClose, texts } = this.props;\n\n    const actions = [\n      <Checkbox key=\"ack\" label={texts.acknowledge} value={this.state.acknowledge} onChange={this.onAcknowledgeToggle} />,\n      <Checkbox\n        key=\"change-severity\"\n        label={texts.changeSeverity}\n        description=\"\"\n        value={this.state.changeSeverity}\n        onChange={this.onChangeSeverityToggle}\n      />,\n      this.state.changeSeverity &&\n        <RadioButtonGroup\n          key=\"severity\"\n          size=\"sm\"\n          options={getSeverityOptions(texts)}\n          value={this.state.selectedSeverity}\n          onChange={this.onChangeSelectedSeverity}\n        />,\n      canClose &&\n        <Checkbox key=\"close\" label={texts.closeProblem} disabled={!canClose} value={this.state.closeProblem} onChange={this.onCloseProblemToggle} />,\n    ];\n\n    // <VerticalGroup /> doesn't handle empty elements properly, so don't return it\n    return actions.filter(e => e);\n  }\n\n  render() {\n    const { theme, texts } = this.props;\n\n    const styles = getStyles(theme);\n    const modalClass = cx(styles.modal);\n    const modalTitleClass = cx(styles.modalHeaderTitle);\n    const inputGroupClass = cx('gf-form', styles.inputGroup);\n    const inputClass = cx(this.state.error && styles.input);\n    const inputHintClass = cx('gf-form-hint-text', styles.inputHint);\n    const inputErrorClass = cx('gf-form-hint-text', styles.inputError);\n\n    return (\n      <Modal\n        isOpen={true}\n        onDismiss={this.dismiss}\n        className={modalClass}\n        title={\n          <div className={modalTitleClass}>\n            {this.state.loading ? <Spinner size={18} /> : <FAIcon icon=\"reply-all\" />}\n            <span className=\"p-l-1\">{texts.acknowledgeProblem}</span>\n          </div>\n        }\n      >\n        <div className={inputGroupClass}>\n          <label className=\"gf-form-hint\">\n            <TextArea className={inputClass}\n              type=\"text\"\n              name=\"message\"\n              placeholder={texts.message}\n              autoComplete=\"off\"\n              autoFocus={true}\n              value={this.state.value}\n              onChange={this.handleChange}\n              onKeyDown={this.handleKeyPress}>\n            </TextArea>\n            <small className={inputHintClass}>{texts.pressEnterToSubmit}</small>\n            {this.state.error &&\n              <small className={inputErrorClass}>{this.state.errorMessage}</small>\n            }\n          </label>\n        </div>\n\n        <div className=\"gf-form\">\n          <VerticalGroup>\n            {this.renderActions()}\n          </VerticalGroup>\n        </div>\n\n        {this.state.ackError &&\n          <div className=\"gf-form ack-request-error\">\n            <span className={styles.ackError}>{this.state.ackError}</span>\n          </div>\n        }\n\n        <div className=\"gf-form-button-row text-center\">\n          <Button variant=\"primary\" onClick={this.submit}>{texts.update}</Button>\n          <Button variant=\"secondary\" onClick={this.dismiss}>{texts.cancel}</Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const red = theme.palette.red;\n  return {\n    modal: css`\n      width: 500px;\n    `,\n    modalHeaderTitle: css`\n      font-size: ${theme.typography.heading.h3};\n      padding-top: ${theme.spacing.sm};\n      margin: 0 ${theme.spacing.md};\n      display: flex;\n    `,\n    inputGroup: css`\n      margin-bottom: 16px;\n    `,\n    input: css`\n      border-color: ${red};\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ${theme.colors.bg1}, 0 0 0px 4px ${red};\n    `,\n    inputHint: css`\n      display: inherit;\n      float: right;\n      color: ${theme.colors.textWeak};\n    `,\n    inputError: css`\n      float: left;\n      color: ${red};\n    `,\n    ackError: css`\n      color: ${red};\n    `,\n  };\n});\n\nexport const AckModal = withTheme(AckModalUnthemed);\n","import React, { PureComponent } from 'react';\nimport { ZBXTrigger } from '../../types';\n\ninterface AlertAcknowledgesProps {\n  problem: ZBXTrigger;\n  onClick: (event?) => void;\n  texts: any;\n}\n\nexport default class AlertAcknowledges extends PureComponent<AlertAcknowledgesProps> {\n  handleClick = (event) => {\n    this.props.onClick(event);\n  }\n\n  render() {\n    const { problem, texts } = this.props;\n    const ackRows = problem.acknowledges && problem.acknowledges.map(ack => {\n      return (\n        <tr key={ack.acknowledgeid}>\n          <td>{ack.time}</td>\n          <td>{ack.user}</td>\n          <td>{ack.message}</td>\n        </tr>\n      );\n    });\n    return (\n      <div className=\"ack-tooltip\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th className=\"ack-time\">{texts.time}</th>\n              <th className=\"ack-user\">{texts.user}</th>\n              <th className=\"ack-comments\">{texts.comments}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {ackRows}\n          </tbody>\n        </table>\n        {problem.showAckButton &&\n          <div className=\"ack-add-button\">\n            <button id=\"add-acknowledge-btn\" className=\"btn btn-mini btn-inverse gf-form-button\" onClick={this.handleClick}>\n              <i className=\"fa fa-plus\"></i>\n            </button>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { PureComponent, CSSProperties } from 'react';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { isNewProblem, formatLastChange } from '../../utils';\nimport { ProblemsPanelOptions, TriggerSeverity } from '../../types';\nimport { AckProblemData, AckModal } from '../AckModal';\nimport EventTag from '../EventTag';\nimport AlertAcknowledges from './AlertAcknowledges';\nimport AlertIcon from './AlertIcon';\nimport { ProblemDTO, ZBXTag } from '../../../datasource-zabbix/types';\nimport { ModalController, Tooltip } from '../../../components';\nimport { AlertModal } from './AlertModal';\nimport MaintenanceIcon from './MaintenanceIcon';\nconst Url = require(\"url-parse\");\n\ninterface AlertCardProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => Promise<any> | any;\n  texts: any;\n}\n\nexport default class AlertCard extends PureComponent<AlertCardProps> {\n\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.problem.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  ackProblem = (data: AckProblemData) => {\n    const problem = this.props.problem;\n    return this.props.onProblemAck(problem, data);\n  }\n\n  onAlertItemClick = (showModal: any, hideModal: any, priority: string, startTime: string, age: string) => {\n    const { texts, problem } = this.props;\n    showModal(AlertModal, { onSubmit: hideModal, onDismiss: hideModal, problem, texts, priority, startTime, age })\n  }\n\n  onLinkIconClick = (event: any, url: string) => {\n    event.stopPropagation();\n    // Add 'foldTabRow' query param so that Grafana tab row panel keeps folded\n    const urlObj = new Url(url, true);\n    urlObj.query['foldTabRow'] = 'all';\n    window.top.location.href = urlObj.toString();\n  }\n\n  getLinkIconElement = (problem) => {\n    const { texts } = this.props;\n    // Compare link url and current page url; no need to show icon if urls are the same\n    const url1 = new Url(problem.url, true);\n    const url2 = new Url(window.top.location.href, true);\n    if (problem.url && (\n      url1.origin + url1.pathname !== url2.origin + url2.pathname ||\n      !url1.query.dashboard ||\n      !url1.query.orgId ||\n      url1.query.dashboard !== url2.query.dashboard ||\n      url1.query.orgId !== url2.query.orgId\n    )) {\n      return (\n        <Tooltip placement=\"bottom\" content={texts.urlInfo}>\n          <a onClick={(event) => this.onLinkIconClick(event, problem.url)}><i className=\"fa fa-external-link\"></i></a>\n        </Tooltip>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const { problem, panelOptions, texts } = this.props;\n    // Hide datasource name always \n    const showDatasourceName = false; // panelOptions.targets && panelOptions.targets.length > 1;\n    const isTestAlert = problem && problem.tags ? _.find(problem.tags, tagItem => tagItem.tag === 'test') : false;\n    const cardClass = classNames('alert-rule-item', 'zbx-trigger-card', \n      { 'zbx-trigger-highlighted': panelOptions.highlightBackground, 'iiris-active-test-incident': isTestAlert }\n    );\n    const descriptionClass = classNames('alert-rule-item__text', { 'zbx-description--newline': panelOptions.descriptionAtNewLine });\n\n    const problemSeverity = Number(problem.severity);\n    let severityDesc: TriggerSeverity;\n    severityDesc = _.find(panelOptions.triggerSeverity, s => s.priority === problemSeverity);\n    if (problem.severity) {\n      severityDesc = _.find(panelOptions.triggerSeverity, s => s.priority === problemSeverity);\n    }\n\n    const lastchange = formatLastChange(problem.timestamp, panelOptions.customLastChangeFormat && panelOptions.lastChangeFormat);\n    const storedLanguage = localStorage.getItem('iiris_language') || 'fi';\n    const age = moment.unix(problem.timestamp).locale(storedLanguage).fromNow(true);\n    const startTime = moment.unix(problem.timestamp).format('DD.MM.YYYY HH:mm:ss');\n\n    let newProblem = false;\n    if (panelOptions.highlightNewerThan) {\n      newProblem = isNewProblem(problem, panelOptions.highlightNewerThan);\n    }\n    const blink = panelOptions.highlightNewEvents && newProblem;\n\n    let problemColor: string;\n    if (problem.value === '0') {\n      problemColor = panelOptions.okEventColor;\n    } else if (panelOptions.markAckEvents && problem.acknowledged === \"1\") {\n      problemColor = panelOptions.ackEventColor;\n    } else {\n      problemColor = severityDesc.color;\n    }\n\n    const cardStyle: CSSProperties = {};\n    if (panelOptions.highlightBackground) {\n      cardStyle.backgroundColor = problemColor;\n    }\n\n    return (\n      <ModalController>\n        {({ showModal, hideModal }) => (\n          <li className={cardClass} style={cardStyle} onClick={() => this.onAlertItemClick(showModal, hideModal, severityDesc.severity, startTime, age)}>\n            <AlertIcon problem={problem} color={problemColor} highlightBackground={panelOptions.highlightBackground} blink={blink} />\n            <MaintenanceIcon problem={problem} />\n            <div className=\"alert-rule-item__body\">\n              <div className=\"alert-rule-item__header\">\n                <div className=\"alert-rule-item__name\">\n                  <span className=\"zabbix-trigger-name\">{problem.description}</span>\n                  {(panelOptions.hostField || panelOptions.hostTechNameField) && (\n                    <AlertHost problem={problem} panelOptions={panelOptions} />\n                  )}\n                  {panelOptions.hostGroups && <AlertGroup problem={problem} panelOptions={panelOptions} />}\n\n                  {panelOptions.showTags && (\n                    <span className=\"zbx-trigger-tags\">\n                      {problem.tags && problem.tags.map(tag =>\n                        <EventTag\n                          key={tag.tag + tag.value}\n                          tag={tag}\n                          highlight={tag.tag === problem.correlation_tag}\n                          onClick={this.handleTagClick}\n                        />\n                      )}\n                    </span>\n                  )}\n                </div>\n\n                <div className={descriptionClass}>\n                  {panelOptions.statusField && <AlertStatus problem={problem} blink={blink} />}\n                  {panelOptions.severityField && (\n                    <AlertSeverity severityDesc={severityDesc} blink={blink} testAlert={isTestAlert ? texts.testIncident : ''}\n                      highlightBackground={panelOptions.highlightBackground} />\n                  )}\n                  <span className=\"alert-rule-item__time\">\n                    {panelOptions.ageField && texts.lastedFor + ' ' + age}\n                  </span>\n                  {panelOptions.descriptionField && !panelOptions.descriptionAtNewLine && (\n                    <span className=\"zbx-description\" dangerouslySetInnerHTML={{ __html: problem.comments }} />\n                  )}\n                </div>\n\n                {panelOptions.descriptionField && panelOptions.descriptionAtNewLine && (\n                  <div className=\"alert-rule-item__text zbx-description--newline\" >\n                    <span\n                      className=\"alert-rule-item__info zbx-description\"\n                      dangerouslySetInnerHTML={{ __html: problem.comments }}\n                    />\n                  </div>\n                )}\n\n              </div>\n            </div>\n\n            {showDatasourceName && (\n              <div className=\"alert-rule-item__time zabbix-trigger-source\">\n                <span>\n                  <i className=\"fa fa-database\"></i>\n                  {problem.datasource}\n                </span>\n              </div>\n            )}\n\n            <div className=\"alert-rule-item__time zbx-trigger-lastchange\">\n              <span>{startTime || \"last change unknown\"}</span>\n              <div className=\"trigger-info-block zbx-status-icons\">\n                {this.getLinkIconElement(problem)}\n                {problem.state === '1' && (\n                  <Tooltip placement=\"bottom\" content={problem.error}>\n                    <span><i className=\"fa fa-question-circle\"></i></span>\n                  </Tooltip>\n                )}\n                {problem.eventid && (\n                  <AlertAcknowledgesButton\n                    problem={problem}\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      showModal(AckModal, {\n                        canClose: problem.manual_close === '1',\n                        severity: problemSeverity,\n                        onSubmit: this.ackProblem,\n                        onDismiss: hideModal,\n                        texts: texts\n                      });\n                    }}\n                    texts={texts}\n                  />\n                )}\n              </div>\n            </div>\n        </li>)}\n      </ModalController>\n    );\n  }\n}\n\ninterface AlertHostProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n}\n\nfunction AlertHost(props: AlertHostProps) {\n  const problem = props.problem;\n  const panel = props.panelOptions;\n  let host = \"\";\n  if (panel.hostField && panel.hostTechNameField) {\n    host = `${problem.host} (${problem.hostTechName})`;\n  } else if (panel.hostField || panel.hostTechNameField) {\n    host = panel.hostField ? problem.host : problem.hostTechName;\n  }\n  if (panel.hostProxy && problem.proxy) {\n    host = `${problem.proxy}: ${host}`;\n  }\n\n  return (\n    <span className=\"zabbix-hostname\">\n      {problem.maintenance && <i className=\"fa fa-wrench zbx-maintenance-icon\"></i>}\n      {host}\n    </span>\n  );\n}\n\ninterface AlertGroupProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n}\n\nfunction AlertGroup(props: AlertGroupProps) {\n  const problem = props.problem;\n  const panel = props.panelOptions;\n  let groupNames = \"\";\n  if (panel.hostGroups) {\n    const groups = _.map(problem.groups, 'name').join(', ');\n    groupNames += `[ ${groups} ]`;\n  }\n\n  return (\n    <span className=\"zabbix-hostname\">{groupNames}</span>\n  );\n}\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\n\nfunction AlertStatus(props) {\n  const { problem, okColor, problemColor, blink } = props;\n  const status = problem.value === '0' ? 'RESOLVED' : 'PROBLEM';\n  const color = problem.value === '0' ? okColor || DEFAULT_OK_COLOR : problemColor || DEFAULT_PROBLEM_COLOR;\n  const className = classNames(\n    'zbx-trigger-state',\n    { 'alert-state-critical': problem.value === '1' },\n    { 'alert-state-ok': problem.value === '0' },\n    { 'zabbix-trigger--blinked': blink }\n  );\n  return (\n    <span className={className}>\n      {status}\n    </span>\n  );\n}\n\nfunction AlertSeverity(props) {\n  const { severityDesc, highlightBackground, blink, testAlert } = props;\n  const className = classNames('zbx-trigger-severity', { 'zabbix-trigger--blinked': blink });\n  const style: CSSProperties = {};\n  if (!highlightBackground) {\n    style.color = severityDesc.color;\n  }\n  return (\n    <span className={className} style={style}>\n      {severityDesc.severity + (testAlert ? ' ' + testAlert : '')}\n    </span>\n  );\n}\n\ninterface AlertAcknowledgesButtonProps {\n  problem: ProblemDTO;\n  onClick: (event?) => void;\n  texts: any;\n}\n\nclass AlertAcknowledgesButton extends PureComponent<AlertAcknowledgesButtonProps> {\n  handleClick = (event) => {\n    this.props.onClick(event);\n  }\n\n  renderTooltipContent = () => {\n    return <AlertAcknowledges problem={this.props.problem} onClick={this.handleClick} texts={this.props.texts} />;\n  }\n\n  render() {\n    const { problem, texts } = this.props;\n    let content = null;\n    if (problem.acknowledges && problem.acknowledges.length) {\n      content = (\n        <Tooltip placement=\"bottom\" popperClassName=\"ack-tooltip\" content={this.renderTooltipContent}>\n          <span role=\"button\" onClick={this.handleClick}><i className=\"fa fa-comments\"></i></span>\n        </Tooltip>\n      );\n    } else if (problem.showAckButton) {\n      content = (\n        <Tooltip placement=\"bottom\" content={texts.acknowledgeProblem}>\n          <span role=\"button\" onClick={this.handleClick}><i className=\"fa fa-comments-o\"></i></span>\n        </Tooltip>\n      );\n    }\n    return content;\n  }\n}\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { GFHeartIcon } from '../../../components';\nimport { ProblemDTO } from '../../../datasource-zabbix/types';\n\ninterface Props {\n  problem: ProblemDTO;\n  color: string;\n  blink?: boolean;\n  highlightBackground?: boolean;\n}\n\nexport const AlertIcon: FC<Props> = ({ problem, color, blink, highlightBackground }) => {\n  const severity = Number(problem.severity);\n  const status = problem.value === '1' && severity >= 2 ? 'critical' : 'online';\n\n  const iconClass = cx(\n    'icon-gf',\n    blink && 'zabbix-trigger--blinked',\n  );\n\n  const wrapperClass = cx(\n    'alert-rule-item__icon',\n    !highlightBackground && css`color: ${color}`\n  );\n\n  return (\n    <div className={wrapperClass}>\n      <GFHeartIcon status={status} className={iconClass} />\n    </div>\n  );\n};\n\nexport default AlertIcon;\n","import React, { PureComponent, CSSProperties } from 'react';\nimport classNames from 'classnames';\nimport { ProblemsPanelOptions, GFTimeRange } from '../../types';\nimport { AckProblemData } from '../AckModal';\nimport AlertCard from './AlertCard';\nimport { ProblemDTO, ZBXTag } from '../../../datasource-zabbix/types';\nimport { getSeverityOptions } from '../../triggers_panel_ctrl';\nimport _ from 'lodash';\n\nconst SORT_BY_PRIORITY = 'priority';\nconst SORT_BY_TIMESTAMP = 'lastchange';\n\nexport interface AlertListProps {\n  problems: ProblemDTO[];\n  panelOptions: ProblemsPanelOptions;\n  loading?: boolean;\n  timeRange?: GFTimeRange;\n  pageSize?: number;\n  fontSize?: number;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => void;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n  texts: any;\n}\n\ninterface AlertListState {\n  page: number;\n  currentProblems: ProblemDTO[];\n  filteredProblems: ProblemDTO[];\n  textFilter: string;\n  priorityFilter: number;\n  categoryFilter: string;\n  hideAlertsInMaintenance: boolean;\n  sortOption: string;\n}\n\nexport default class AlertList extends PureComponent<AlertListProps, AlertListState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0,\n      currentProblems: [],\n      filteredProblems: [],\n      textFilter: '',\n      priorityFilter: -1,\n      categoryFilter: 'all',\n      hideAlertsInMaintenance: props.panelOptions.hideAlertsInMaintenanceByDefault,\n      sortOption: props.panelOptions.sortProblems || SORT_BY_TIMESTAMP,\n    };\n  }\n\n  componentDidMount(): void {\n    const { textFilter, priorityFilter, categoryFilter, hideAlertsInMaintenance } = this.state;\n    if (this.props.problems) {\n      this.setState({ filteredProblems: this.getFilteredProblems(textFilter, priorityFilter, categoryFilter, hideAlertsInMaintenance) });\n    }\n  }\n\n  componentDidUpdate(prevProps: Readonly<AlertListProps>, prevState: Readonly<AlertListState>, snapshot?: any): void {\n    const { textFilter, priorityFilter, categoryFilter, hideAlertsInMaintenance } = this.state;\n    if (!_.isEqual(this.props.problems, prevProps.problems) && this.props.problems) {\n      this.setState({ filteredProblems: this.getFilteredProblems(textFilter, priorityFilter, categoryFilter, hideAlertsInMaintenance) });\n    }\n  }\n\n  getCurrentProblems(page: number, sortOption: string) {\n    const { pageSize } = this.props;\n    const { filteredProblems } = this.state;\n    const start = pageSize * page;\n    const end = Math.min(pageSize * (page + 1), filteredProblems.length);\n    let sortedProblems: ProblemDTO[];\n    if (sortOption === SORT_BY_PRIORITY) {\n      sortedProblems = _.orderBy(filteredProblems, ['severity'], ['desc']);\n    } else {\n      sortedProblems = _.orderBy(filteredProblems, ['timestamp'], ['desc']);\n    }\n    return sortedProblems.slice(start, end);\n  }\n\n  handlePageChange = (newPage: number) => {\n    const items = this.getCurrentProblems(newPage, this.state.sortOption);\n    this.setState({\n      page: newPage,\n      currentProblems: items,\n    });\n  }\n\n\n  handleTagClick = (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  handleProblemAck = (problem: ProblemDTO, data: AckProblemData) => {\n    return this.props.onProblemAck(problem, data);\n  }\n\n  getFilteredProblems = (textFilter: string, priorityFilter: number, categoryFilter: string, maintenanceFilter: boolean) => {\n    const textFilterLowerCase = textFilter.toLowerCase();\n    const filteredProblems = this.props.problems.filter((problem: ProblemDTO) => {\n      return (\n        (problem.comments.toLowerCase().indexOf(textFilterLowerCase) > -1 ||\n        problem.description.toLowerCase().indexOf(textFilterLowerCase) > -1) &&\n        (priorityFilter === -1 || problem.severity === priorityFilter.toString()) &&\n        (categoryFilter === 'all' || problem.opdata === categoryFilter) &&\n        (!maintenanceFilter || (problem.hosts.length > 0 && problem.hosts[0].maintenance_status === '0'))\n      );\n    });\n    return filteredProblems;\n  }\n\n  filterByText = (event: any) => {\n    const textFilter = event.target.value;\n    const filteredProblems = this.getFilteredProblems(textFilter, this.state.priorityFilter, this.state.categoryFilter,\n      this.state.hideAlertsInMaintenance);\n    this.setState({ textFilter, filteredProblems, page: 0 });\n  }\n\n  filterByPriority = (event: any) => {\n    const priorityFilter = parseInt(event.target.value, 10);\n    const filteredProblems = this.getFilteredProblems(this.state.textFilter, priorityFilter, this.state.categoryFilter,\n      this.state.hideAlertsInMaintenance);\n    this.setState({ priorityFilter, filteredProblems, page: 0 });\n  }\n\n  filterByCategory = (event: any) => {\n    const categoryFilter = event.target.value;\n    const filteredProblems = this.getFilteredProblems(this.state.textFilter, this.state.priorityFilter, categoryFilter,\n      this.state.hideAlertsInMaintenance);\n    this.setState({ categoryFilter, filteredProblems, page: 0 });\n  }\n\n  filterByMaintenance = () => {\n    const hideAlertsInMaintenance = !this.state.hideAlertsInMaintenance;\n    const filteredProblems = this.getFilteredProblems(this.state.textFilter, this.state.priorityFilter,\n      this.state.categoryFilter, hideAlertsInMaintenance);\n    this.setState({ hideAlertsInMaintenance, filteredProblems, page: 0 });\n  }\n\n  onChangeSortOption = (event: any) => {\n    this.setState({ sortOption: event.target.value, page: 0 });\n  }\n\n  render() {\n    const { problems, panelOptions, texts } = this.props;\n    const { filteredProblems, hideAlertsInMaintenance } = this.state;\n    const currentProblems = this.getCurrentProblems(this.state.page, this.state.sortOption);\n    let fontSize = parseInt(panelOptions.fontSize.slice(0, panelOptions.fontSize.length - 1), 10);\n    fontSize = fontSize && fontSize !== 100 ? fontSize : null;\n    const alertListClass = classNames('alert-rule-list', { [`font-size--${fontSize}`]: fontSize });\n    const severityOptions = getSeverityOptions(texts);\n    severityOptions.unshift({ value: -1, label: texts.selectPriority });\n    const categoryOptions = [{ value: 'all', label: texts.selectCategory }];\n    problems.forEach((problem: ProblemDTO) => {\n      if (categoryOptions.findIndex((category: any) => category.value === problem.opdata) === -1 && problem.opdata) {\n        categoryOptions.push({ value: problem.opdata, label: problem.opdata });\n      }\n    });\n    const sortOptions = [\n      { value: SORT_BY_PRIORITY, label: `${texts.sortBy}: ${texts.priority}` },\n      { value: SORT_BY_TIMESTAMP, label: `${texts.sortBy}: ${texts.startTime}` }\n    ]\n\n    return (\n      <div className=\"triggers-panel-container\" key=\"alertListContainer\">\n        {!panelOptions.hideAlertFilters ? <div className=\"triggers-panel-filters\">\n          <input type=\"text\" onChange={(event) => this.filterByText(event)} placeholder={texts.search} />\n          <select onChange={(event) => this.onChangeSortOption(event)} defaultValue={this.state.sortOption}>\n            {sortOptions.map((option: any) => <option value={option.value}>{option.label}</option>)}\n          </select>\n          <select onChange={(event) => this.filterByPriority(event)}>\n            {severityOptions.map((option: any) => <option value={option.value}>{option.label}</option>)}\n          </select>\n          <select onChange={(event) => this.filterByCategory(event)}>\n            {categoryOptions.map((option: any) => <option value={option.value}>{option.label}</option>)}\n          </select>\n          <div className=\"checkbox-filter\">\n            <input type=\"checkbox\" id=\"showMaintenance\" defaultChecked={hideAlertsInMaintenance} onChange={() => this.filterByMaintenance()} />\n            <label htmlFor=\"showMaintenance\">{texts.hideAlertsInMaintenance}</label>\n          </div>\n        </div> : null }\n        <section className=\"card-section card-list-layout-list\">\n          <ol className={alertListClass}>\n            {currentProblems.map(problem =>\n              <AlertCard\n                key={`${problem.triggerid}-${problem.eventid}-${problem.datasource}`}\n                problem={problem}\n                panelOptions={panelOptions}\n                onTagClick={this.handleTagClick}\n                onProblemAck={this.handleProblemAck}\n                texts={texts}\n              />\n            )}\n          </ol>\n        </section>\n        {(currentProblems.length === 0\n          ? <div className=\"no-data-container\">{texts.noActiveAlerts}</div>\n          : null)\n        }\n        <div className=\"triggers-panel-footer\" key=\"alertListFooter\">\n          <PaginationControl\n            itemsLength={filteredProblems.length}\n            pageSize={this.props.pageSize}\n            pageIndex={this.state.page}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface PaginationControlProps {\n  itemsLength: number;\n  pageIndex: number;\n  pageSize: number;\n  onPageChange: (index: number) => void;\n}\n\nclass PaginationControl extends PureComponent<PaginationControlProps> {\n\n  handlePageChange = (index: number) => () => {\n    this.props.onPageChange(index);\n  }\n\n  render() {\n    const { itemsLength, pageIndex, pageSize } = this.props;\n    const pageCount = Math.ceil(itemsLength / pageSize);\n    if (pageCount === 1) {\n      return <ul></ul>;\n    }\n\n    const startPage = Math.max(pageIndex - 3, 0);\n    const endPage = Math.min(pageCount, startPage + 9);\n\n\n    const pageLinks = [];\n    for (let i = startPage; i < endPage; i++) {\n      const pageLinkClass = classNames('triggers-panel-page-link', 'pointer', { 'active': i === pageIndex });\n      const value = i + 1;\n      const pageLinkElem = (\n        <li key={value.toString()}>\n          <a className={pageLinkClass} onClick={this.handlePageChange(i)}>{value}</a>\n        </li>\n      );\n      pageLinks.push(pageLinkElem);\n    }\n\n    return (\n      <ul>\n        {pageLinks}\n      </ul>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal } from '@grafana/ui';\nimport moment from 'moment';\n\ninterface Props {\n  onDismiss(): void;\n  problem: any;\n  texts: any;\n  priority: string;\n  startTime: string;\n  age: string;\n}\n\ninterface State {}\n\nexport class AlertModal extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n  }\n\n  onDismiss = () => {\n    this.props.onDismiss();\n  };\n\n  renderTitle(texts: any) {\n    return <div className=\"iiris-modal-title-text\">{texts.information}</div>;\n  }\n\n  getDescriptionArray(eventObj: any) {\n    const descriptionArray = [];\n    if (eventObj.comments) {\n      let description = eventObj.comments;\n      const urlId = new RegExp('https?://');\n      let startIndex = description.search(urlId);\n      let endIndex = -1;\n      \n      while (startIndex > -1) {\n        endIndex = description.slice(startIndex).search('\\\\s');\n        endIndex = endIndex >= 0 ? startIndex + endIndex : description.length;\n        const pairArray = [];\n        pairArray.push(description.substring(0, startIndex));\n        pairArray.push(description.substring(startIndex, endIndex));\n        descriptionArray.push(pairArray);\n        description = description.substring(endIndex);\n        startIndex = description.search(urlId);\n      }\n      if (description) {\n        descriptionArray.push([description, '']);\n      }\n    }\n    return descriptionArray;\n  }\n\n  render() {\n    const { problem, texts, priority, startTime, age } = this.props;\n    return (\n      <Modal isOpen={true} title={this.renderTitle(texts)} onDismiss={this.onDismiss} className=\"iiris-modal-box\">\n        <div className=\"iiris-modal-content\">\n          <div className=\"iiris-event-table full-width-container\">\n            <table className=\"table\">\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.priority}</td>\n                <td>{priority}</td>\n              </tr>\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.startTime}</td>\n                <td>{startTime}</td>\n              </tr>\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.duration}</td>\n                <td>{age}</td>\n              </tr>\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.title}</td>\n                <td>{problem.name}</td>\n              </tr>\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.description}</td>\n                <td>\n                  {\n                    this.getDescriptionArray(problem).map((pairArray: any[]) => {\n                      return (\n                        <span>\n                          <span>{pairArray[0]}</span>\n                          { pairArray[1] && <a href={pairArray[1]} target=\"_blank\">{pairArray[1]}</a> }\n                        </span>\n                      );\n                    })\n                  }\n                </td>\n              </tr>\n              {problem.url && <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.dashboard}</td>\n                <td>\n                  <a href={problem.url} target=\"_top\">{problem.url}</a>\n                </td>\n              </tr>}\n              <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.eventId}</td>\n                <td>{problem.eventid}</td>\n              </tr>\n              {problem.acknowledges.length > 0 && <tr>\n                <td className=\"iiris-table-title-cell iiris-cell-width-10 iiris-table-cell-no-wrap\">{texts.acknowledgements}</td>\n                <td>\n                  <table className=\"iiris-inner-table\">\n                    {\n                      problem.acknowledges.map((acknowledge: any) => {\n                        return (\n                          <tr>\n                            <td>{moment.unix(acknowledge.clock).format('DD.MM.YYYY HH:mm:ss')}</td>\n                            <td>{acknowledge.message}</td>\n                          </tr>\n                        )\n                      })\n                    }\n                  </table>\n                </td>\n              </tr>}\n            </table>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n","import React, { FC } from 'react';\nimport { ProblemDTO } from '../../../datasource-zabbix/types';\n\ninterface Props {\n  problem: ProblemDTO;\n}\n\nexport const MaintenanceIcon: FC<Props> = ({ problem }) => {\n  const ongoingMaintenance = problem.hosts && problem.hosts.length > 0 && problem.hosts[0].maintenance_status === '1';\n\n  return (\n    <>\n      { ongoingMaintenance ?\n        <div className=\"alert-maintenance-icon\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 120 120\">\n            <g>\n              <path\n                d=\"M60.5,59.7c-5.9-5.3-9.5-9.4-10.8-10.9L6.6,92.4c-6.7,6.7-8,15-1.3,21.7c6.7,6.7,16.3,4.1,23-2.6l43-43\n                C69.2,67,65.3,64.1,60.5,59.7z M17.4,108c-3.4,0-6.1-2.6-6.1-6.1s2.6-6.1,6.1-6.1s6.1,2.6,6.1,6.1S20.9,108,17.4,108z\"\n              />\n              <path\n                d=\"M116.1,27.6L95.5,48.2l-18.6-5.7l-4.2-17.4L92.8,4.9c-11.1-4-23.1-2-32.4,7.1c-9.1,9.1-10,22.2-6.4,32.5\n                c0,0,4.6,5.9,10.3,11c4.6,4.2,11.2,8.7,11.2,8.7c11.5,5.5,24.2,6,33.9-3.5C118.7,51.4,120.5,38.9,116.1,27.6z\"\n              />\n            </g>\n          </svg>\n        </div>\n      : null }\n    </>\n  );\n};\n\nexport default MaintenanceIcon;\n","import React, { PureComponent } from 'react';\nimport { ZBXTag } from '../types';\nimport Tooltip from '../../components/Tooltip/Tooltip';\n\nconst TAG_COLORS = [\n  '#E24D42',\n  '#1F78C1',\n  '#BA43A9',\n  '#705DA0',\n  '#466803',\n  '#508642',\n  '#447EBC',\n  '#C15C17',\n  '#890F02',\n  '#757575',\n  '#0A437C',\n  '#6D1F62',\n  '#584477',\n  '#629E51',\n  '#2F4F4F',\n  '#BF1B00',\n  '#806EB7',\n  '#8a2eb8',\n  '#699e00',\n  '#000000',\n  '#3F6833',\n  '#2F575E',\n  '#99440A',\n  '#E0752D',\n  '#0E4AB4',\n  '#58140C',\n  '#052B51',\n  '#511749',\n  '#3F2B5B',\n];\n\nconst TAG_BORDER_COLORS = [\n  '#FF7368',\n  '#459EE7',\n  '#E069CF',\n  '#9683C6',\n  '#6C8E29',\n  '#76AC68',\n  '#6AA4E2',\n  '#E7823D',\n  '#AF3528',\n  '#9B9B9B',\n  '#3069A2',\n  '#934588',\n  '#7E6A9D',\n  '#88C477',\n  '#557575',\n  '#E54126',\n  '#A694DD',\n  '#B054DE',\n  '#8FC426',\n  '#262626',\n  '#658E59',\n  '#557D84',\n  '#BF6A30',\n  '#FF9B53',\n  '#3470DA',\n  '#7E3A32',\n  '#2B5177',\n  '#773D6F',\n  '#655181',\n];\n\n/**\n * Returns tag badge background and border colors based on hashed tag name.\n * @param name tag name\n */\nexport function getTagColorsFromName(name: string): { color: string; borderColor: string } {\n  const hash = djb2(name.toLowerCase());\n  const color = TAG_COLORS[Math.abs(hash % TAG_COLORS.length)];\n  const borderColor = TAG_BORDER_COLORS[Math.abs(hash % TAG_BORDER_COLORS.length)];\n  return { color, borderColor };\n}\n\nfunction djb2(str) {\n  let hash = 5381;\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) + hash + str.charCodeAt(i); /* hash * 33 + c */\n  }\n  return hash;\n}\n\ninterface EventTagProps {\n  tag: ZBXTag;\n  highlight?: boolean;\n  onClick?: (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\nexport default class EventTag extends PureComponent<EventTagProps> {\n  handleClick = (event) => {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.tag, event.ctrlKey, event.shiftKey);\n    }\n  }\n\n  render() {\n    const { tag, highlight } = this.props;\n    const tagColor = getTagColorsFromName(tag.tag);\n    const style: React.CSSProperties = {\n      background: tagColor.color,\n      borderColor: tagColor.borderColor,\n    };\n    return (\n      <Tooltip placement=\"bottom\" content=\"Click to add tag filter or Ctrl/Shift+click to remove\">\n        <span className={`label label-tag zbx-tag ${highlight ? 'highlighted' : ''}`}\n          style={style}\n          onClick={this.handleClick}>\n          {tag.value ?\n            `${tag.tag}: ${tag.value}` :\n            `${tag.tag}`\n          }\n        </span>\n      </Tooltip>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { cx, css } from 'emotion';\nimport { GrafanaTheme, SelectableValue } from '@grafana/data';\nimport { Button, Spinner, Modal, Select, stylesFactory, withTheme, Themeable } from '@grafana/ui';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { FAIcon } from '../../components';\n\ninterface Props extends Themeable {\n  getScripts(): Promise<ZBXScript[]>;\n  onSubmit(data?: ExecScriptData): Promise<any> | any;\n  onDismiss?(): void;\n}\n\ninterface State {\n  selectedScript: SelectableValue<string>;\n  scriptOptions: Array<SelectableValue<string>>;\n  script: ZBXScript;\n  error: boolean;\n  errorMessage: string | JSX.Element;\n  result: string | JSX.Element;\n  selectError: string;\n  loading: boolean;\n}\n\nexport interface ExecScriptData {\n  scriptid: string;\n}\n\nexport class ExecScriptModalUnthemed extends PureComponent<Props, State> {\n  scripts: ZBXScript[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      errorMessage: '',\n      selectError: '',\n      selectedScript: null,\n      result: '',\n      loading: false,\n      scriptOptions: [],\n      script: null,\n    };\n  }\n\n  async componentDidMount() {\n    const scripts = await this.props.getScripts();\n    this.scripts = scripts;\n    const scriptOptions: Array<SelectableValue<string>> = scripts.map(s => {\n      return {\n        value: s.scriptid,\n        label: s.name,\n        description: s.description || s.command,\n      };\n    });\n\n    const selectedScript = scriptOptions?.length ? scriptOptions[0] : null;\n    const script = scripts.find(s => selectedScript.value === s.scriptid);\n\n    this.setState({ scriptOptions, selectedScript, script });\n  }\n\n  onChangeSelectedScript = (v: SelectableValue<string>) => {\n    const script = this.scripts.find(s => v.value === s.scriptid);\n    this.setState({ selectedScript: v, script, errorMessage: '', loading: false, result: '' });\n  };\n\n  dismiss = () => {\n    this.setState({ selectedScript: null, error: false, errorMessage: '', selectError: '', loading: false });\n    this.props.onDismiss();\n  }\n\n  submit = () => {\n    const { selectedScript } = this.state;\n\n    if (!selectedScript) {\n      return this.setState({\n        selectError: 'Select a script to execute.'\n      });\n    }\n\n    this.setState({ errorMessage: '', loading: true, result: '' });\n\n    const data: ExecScriptData = {\n      scriptid: selectedScript.value,\n    };\n\n    this.props.onSubmit(data).then((result: APIExecuteScriptResponse) => {\n      const message = this.formatResult(result?.value || '');\n      if (result?.response === 'success') {\n        this.setState({ result: message, loading: false });\n      } else {\n        this.setState({ error: true, errorMessage: message, loading: false });\n      }\n    }).catch(err => {\n      let errorMessage = err.data?.message || err.data?.error || err.data || err.statusText || '';\n      errorMessage = this.formatResult(errorMessage);\n      this.setState({\n        error: true,\n        loading: false,\n        errorMessage,\n      });\n    });\n  }\n\n  formatResult = (result: string) => {\n    const formatted = result.split('\\n').map((p, i) => {\n      return <p key={i}>{p}</p>;\n    });\n    return <>{formatted}</>;\n  }\n\n  render() {\n    const { theme } = this.props;\n    const { scriptOptions, selectedScript, script, result, selectError, errorMessage, error } = this.state;\n\n    const styles = getStyles(theme);\n    const modalClass = cx(styles.modal);\n    const modalTitleClass = cx(styles.modalHeaderTitle);\n    const selectErrorClass = cx('gf-form-hint-text', styles.inputError);\n    const scriptCommandContainerClass = cx('gf-form', styles.scriptCommandContainer);\n    const scriptCommandClass = cx('gf-form-hint-text', styles.scriptCommand);\n\n    return (\n      <Modal\n        isOpen={true}\n        onDismiss={this.dismiss}\n        className={modalClass}\n        title={\n          <div className={modalTitleClass}>\n            {this.state.loading ? <Spinner size={18} /> : <FAIcon icon=\"terminal\" />}\n            <span className=\"p-l-1\">Execute script</span>\n          </div>\n        }\n      >\n        <div className=\"gf-form\">\n          <label className=\"gf-form-hint\">\n            <Select\n              options={scriptOptions}\n              value={selectedScript}\n              onChange={this.onChangeSelectedScript}\n            />\n            {selectError &&\n              <small className={selectErrorClass}>{selectError}</small>\n            }\n          </label>\n        </div>\n        <div className={scriptCommandContainerClass}>\n          {script && <small className={scriptCommandClass}>{script.command}</small>}\n        </div>\n\n        <div className={styles.resultContainer}>\n        {result &&\n          <span className={styles.execResult}>{result}</span>\n        }\n        {error &&\n          <span className={styles.execError}>{errorMessage}</span>\n        }\n        </div>\n\n        <div className=\"gf-form-button-row text-center\">\n          <Button variant=\"primary\" onClick={this.submit}>Execute</Button>\n          <Button variant=\"secondary\" onClick={this.dismiss}>Cancel</Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const red = theme.palette.red;\n  return {\n    modal: css`\n      width: 600px;\n    `,\n    modalHeaderTitle: css`\n      font-size: ${theme.typography.heading.h3};\n      padding-top: ${theme.spacing.sm};\n      margin: 0 ${theme.spacing.md};\n      display: flex;\n    `,\n    input: css`\n      border-color: ${red};\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ${theme.colors.bg1}, 0 0 0px 4px ${red};\n    `,\n    scriptCommandContainer: css`\n      margin-bottom: ${theme.spacing.md};\n    `,\n    scriptCommand: css`\n      color: ${theme.colors.textWeak};\n      text-align: left;\n      font-family: ${theme.typography.fontFamily.monospace};\n    `,\n    inputHint: css`\n      display: inherit;\n      float: right;\n      color: ${theme.colors.textWeak};\n    `,\n    inputError: css`\n      float: left;\n      color: ${red};\n    `,\n    resultContainer: css`\n      min-height: 50px;\n      font-family: ${theme.typography.fontFamily.monospace};\n      font-size: ${theme.typography.size.sm};\n      p {\n        font-size: ${theme.typography.size.sm};\n        margin-bottom: 0px;\n      }\n    `,\n    execResult: css`\n    `,\n    execError: css`\n      color: ${red};\n    `,\n  };\n});\n\nexport const ExecScriptModal = withTheme(ExecScriptModalUnthemed);\n","import React from 'react';\nimport { css } from 'emotion';\nimport { RTCell } from '../../types';\nimport { ProblemDTO } from '../../../datasource-zabbix/types';\nimport { FAIcon } from '../../../components';\nimport { useTheme, stylesFactory } from '@grafana/ui';\nimport { GrafanaTheme } from '@grafana/data';\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  return {\n    countLabel: css`\n      font-size: ${theme.typography.size.sm};\n    `,\n  };\n});\n\nexport const AckCell: React.FC<RTCell<ProblemDTO>> = (props: RTCell<ProblemDTO>) => {\n  const problem = props.original;\n  const theme = useTheme();\n  const styles = getStyles(theme);\n\n  return (\n    <div>\n      {problem.acknowledges?.length > 0 &&\n        <>\n          <FAIcon icon=\"comments\" />\n          <span className={styles.countLabel}> ({problem.acknowledges?.length})</span>\n        </>\n      }\n    </div>\n  );\n};\n\nexport default AckCell;\n","import React from 'react';\nimport { ZBXAcknowledge } from '../../types';\n\ninterface AcknowledgesListProps {\n  acknowledges: ZBXAcknowledge[];\n}\n\nexport default function AcknowledgesList(props: AcknowledgesListProps) {\n  const { acknowledges } = props;\n  return (\n    <div className=\"problem-ack-list\">\n      <div className=\"problem-ack-col problem-ack-time\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-time\">{ack.time}</span>)}\n      </div>\n      <div className=\"problem-ack-col problem-ack-user\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-user\">{ack.user}</span>)}\n      </div>\n      <div className=\"problem-ack-col problem-ack-message\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-message\">{ack.message}</span>)}\n      </div>\n    </div>\n  );\n}\n","import React, { FC, PureComponent } from 'react';\nimport moment from 'moment';\nimport * as utils from '../../../datasource-zabbix/utils';\nimport { ProblemDTO, ZBXHost, ZBXGroup, ZBXEvent, ZBXTag, ZBXAlert } from '../../../datasource-zabbix/types';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { ZBXItem, GFTimeRange, RTRow } from '../../types';\nimport { AckModal, AckProblemData } from '../AckModal';\nimport EventTag from '../EventTag';\nimport ProblemStatusBar from './ProblemStatusBar';\nimport AcknowledgesList from './AcknowledgesList';\nimport ProblemTimeline from './ProblemTimeline';\nimport { FAIcon, ExploreButton, AckButton, Tooltip, ModalController, ExecScriptButton } from '../../../components';\nimport { ExecScriptModal, ExecScriptData } from '../ExecScriptModal';\nimport { Icon } from '@grafana/ui';\n\ninterface ProblemDetailsProps extends RTRow<ProblemDTO> {\n  rootWidth: number;\n  timeRange: GFTimeRange;\n  showTimeline?: boolean;\n  panelId?: number;\n  getProblemEvents: (problem: ProblemDTO) => Promise<ZBXEvent[]>;\n  getProblemAlerts: (problem: ProblemDTO) => Promise<ZBXAlert[]>;\n  getScripts: (problem: ProblemDTO) => Promise<ZBXScript[]>;\n  onExecuteScript(problem: ProblemDTO, scriptid: string): Promise<APIExecuteScriptResponse>;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => Promise<any> | any;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\ninterface ProblemDetailsState {\n  events: ZBXEvent[];\n  alerts: ZBXAlert[];\n  show: boolean;\n}\n\nexport class ProblemDetails extends PureComponent<ProblemDetailsProps, ProblemDetailsState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n      alerts: [],\n      show: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.showTimeline) {\n      this.fetchProblemEvents();\n    }\n    this.fetchProblemAlerts();\n    requestAnimationFrame(() => {\n      this.setState({ show: true });\n    });\n  }\n\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.original.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  fetchProblemEvents() {\n    const problem = this.props.original;\n    this.props.getProblemEvents(problem)\n    .then(events => {\n      this.setState({ events });\n    });\n  }\n\n  fetchProblemAlerts() {\n    const problem = this.props.original;\n    this.props.getProblemAlerts(problem)\n    .then(alerts => {\n      this.setState({ alerts });\n    });\n  }\n\n  ackProblem = (data: AckProblemData) => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.onProblemAck(problem, data);\n  }\n\n  getScripts = () => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.getScripts(problem);\n  }\n\n  onExecuteScript = (data: ExecScriptData) => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.onExecuteScript(problem, data.scriptid);\n  }\n\n  render() {\n    const problem = this.props.original as ProblemDTO;\n    const alerts = this.state.alerts;\n    const rootWidth = this.props.rootWidth;\n    const displayClass = this.state.show ? 'show' : '';\n    const wideLayout = rootWidth > 1200;\n    const compactStatusBar = rootWidth < 800 || problem.acknowledges && wideLayout && rootWidth < 1400;\n    const age = moment.unix(problem.timestamp).fromNow(true);\n    const showAcknowledges = problem.acknowledges && problem.acknowledges.length !== 0;\n    const problemSeverity = Number(problem.severity);\n\n    return (\n      <div className={`problem-details-container ${displayClass}`}>\n        <div className=\"problem-details\">\n          <div className=\"problem-details-row\">\n            <div className=\"problem-value-container\">\n              <div className=\"problem-age\">\n                <FAIcon icon=\"clock-o\" />\n                <span>{age}</span>\n              </div>\n              {problem.items && <ProblemItems items={problem.items} />}\n            </div>\n            <div className=\"problem-actions-left\">\n              <ExploreButton problem={problem} panelId={this.props.panelId} />\n            </div>\n            <ProblemStatusBar problem={problem} alerts={alerts} className={compactStatusBar && 'compact'} />\n            {problem.showAckButton &&\n              <div className=\"problem-actions\">\n                <ModalController>\n                  {({ showModal, hideModal }) => (\n                    <ExecScriptButton\n                      className=\"navbar-button navbar-button--settings\"\n                      onClick={() => {\n                        showModal(ExecScriptModal, {\n                          getScripts: this.getScripts,\n                          onSubmit: this.onExecuteScript,\n                          onDismiss: hideModal,\n                        });\n                      }}\n                    />\n                  )}\n                </ModalController>\n                <ModalController>\n                  {({ showModal, hideModal }) => (\n                    <AckButton\n                      className=\"navbar-button navbar-button--settings\"\n                      onClick={() => {\n                        showModal(AckModal, {\n                          canClose: problem.manual_close === '1',\n                          severity: problemSeverity,\n                          onSubmit: this.ackProblem,\n                          onDismiss: hideModal,\n                        });\n                      }}\n                    />\n                  )}\n                </ModalController>\n              </div>\n            }\n          </div>\n          {problem.comments &&\n            <div className=\"problem-description-row\">\n              <div className=\"problem-description\">\n                <Tooltip placement=\"right\" content={problem.comments}>\n                  <span className=\"description-label\">Description:&nbsp;</span>\n                </Tooltip>\n                <span>{problem.comments}</span>\n              </div>\n            </div>\n          }\n          {problem.tags && problem.tags.length > 0 &&\n            <div className=\"problem-tags\">\n              {problem.tags && problem.tags.map(tag =>\n                <EventTag\n                  key={tag.tag + tag.value}\n                  tag={tag}\n                  highlight={tag.tag === problem.correlation_tag}\n                  onClick={this.handleTagClick}\n                />)\n              }\n            </div>\n          }\n          {this.props.showTimeline && this.state.events.length > 0 &&\n            <ProblemTimeline events={this.state.events} timeRange={this.props.timeRange} />\n          }\n          {showAcknowledges && !wideLayout &&\n            <div className=\"problem-ack-container\">\n              <h6><FAIcon icon=\"reply-all\" /> Acknowledges</h6>\n              <AcknowledgesList acknowledges={problem.acknowledges} />\n            </div>\n          }\n        </div>\n        {showAcknowledges && wideLayout &&\n          <div className=\"problem-details-middle\">\n            <div className=\"problem-ack-container\">\n              <h6><FAIcon icon=\"reply-all\" /> Acknowledges</h6>\n              <AcknowledgesList acknowledges={problem.acknowledges} />\n            </div>\n          </div>\n        }\n        <div className=\"problem-details-right\">\n          <div className=\"problem-details-right-item\">\n            <FAIcon icon=\"database\" />\n            <span>{problem.datasource}</span>\n          </div>\n          {problem.proxy &&\n            <div className=\"problem-details-right-item\">\n              <FAIcon icon=\"cloud\" />\n              <span>{problem.proxy}</span>\n            </div>\n          }\n          {problem.groups && <ProblemGroups groups={problem.groups} className=\"problem-details-right-item\" />}\n          {problem.hosts && <ProblemHosts hosts={problem.hosts} className=\"problem-details-right-item\" />}\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface ProblemItemProps {\n  item: ZBXItem;\n  showName?: boolean;\n}\n\nfunction ProblemItem(props: ProblemItemProps) {\n  const { item, showName } = props;\n  const itemName = utils.expandItemName(item.name, item.key_);\n  const tooltipContent = () => <>{itemName}<br/>{item.lastvalue}</>;\n\n  return (\n    <div className=\"problem-item\">\n      <FAIcon icon=\"thermometer-three-quarters\" />\n      {showName && <span className=\"problem-item-name\">{item.name}: </span>}\n      <Tooltip placement=\"top-start\" content={tooltipContent}>\n        <span className=\"problem-item-value\">{item.lastvalue}</span>\n      </Tooltip>\n    </div>\n  );\n}\n\ninterface ProblemItemsProps {\n  items: ZBXItem[];\n}\n\nconst ProblemItems: FC<ProblemItemsProps> = ({ items }) => {\n  return (\n    <div className=\"problem-items-row\">\n      {items.length > 1 ?\n        items.map(item => <ProblemItem item={item} key={item.itemid} showName={true} />) :\n        <ProblemItem item={items[0]} />\n      }\n    </div>\n  );\n};\n\ninterface ProblemGroupsProps {\n  groups: ZBXGroup[];\n  className?: string;\n}\n\nclass ProblemGroups extends PureComponent<ProblemGroupsProps> {\n  render() {\n    return this.props.groups.map(g => (\n      <div className={this.props.className || ''} key={g.groupid}>\n        <FAIcon icon=\"folder\" />\n        <span>{g.name}</span>\n      </div>\n    ));\n  }\n}\n\ninterface ProblemHostsProps {\n  hosts: ZBXHost[];\n  className?: string;\n}\n\nclass ProblemHosts extends PureComponent<ProblemHostsProps> {\n  render() {\n    return this.props.hosts.map(h => (\n      <div className={this.props.className || ''} key={h.hostid}>\n        <FAIcon icon=\"server\" />\n        <span>{h.name}</span>\n      </div>\n    ));\n  }\n}\n","import React from 'react';\nimport FAIcon from '../../../components/FAIcon/FAIcon';\nimport Tooltip from '../../../components/Tooltip/Tooltip';\nimport { ZBXTrigger, ZBXAlert } from '../../types';\n\nexport interface ProblemStatusBarProps {\n  problem: ZBXTrigger;\n  alerts?: ZBXAlert[];\n  className?: string;\n}\n\nexport default function ProblemStatusBar(props: ProblemStatusBarProps) {\n  const { problem, alerts, className } = props;\n  const multiEvent = problem.type === '1';\n  const link = problem.url && problem.url !== '';\n  const maintenance = problem.maintenance;\n  const manualClose = problem.manual_close === '1';\n  const error = problem.error && problem.error !== '';\n  const stateUnknown = problem.state === '1';\n  const closeByTag = problem.correlation_mode === '1';\n  const actions = alerts && alerts.length !== 0;\n  const actionMessage = actions ? alerts[0].message : '';\n\n  return (\n    <div className={`problem-statusbar ${className || ''}`}>\n      <ProblemStatusBarItem icon=\"wrench\" fired={maintenance} tooltip=\"Host maintenance\" />\n      <ProblemStatusBarItem icon=\"globe\" fired={link} link={link && problem.url} tooltip=\"External link\" />\n      <ProblemStatusBarItem icon=\"bullhorn\" fired={multiEvent} tooltip=\"Trigger generates multiple problem events\" />\n      <ProblemStatusBarItem icon=\"tag\" fired={closeByTag} tooltip={`OK event closes problems matched to tag: ${problem.correlation_tag}`} />\n      <ProblemStatusBarItem icon=\"circle-o-notch\" fired={actions} tooltip={actionMessage} />\n      <ProblemStatusBarItem icon=\"question-circle\" fired={stateUnknown} tooltip=\"Current trigger state is unknown\" />\n      <ProblemStatusBarItem icon=\"warning\" fired={error} tooltip={problem.error} />\n      <ProblemStatusBarItem icon=\"window-close-o\" fired={manualClose} tooltip=\"Manual close problem\" />\n    </div>\n  );\n}\n\ninterface ProblemStatusBarItemProps {\n  icon: string;\n  fired?: boolean;\n  link?: string;\n  tooltip?: string;\n}\n\nfunction ProblemStatusBarItem(props: ProblemStatusBarItemProps) {\n  const { fired, icon, link, tooltip } = props;\n  let item = (\n    <div className={`problem-statusbar-item ${fired ? 'fired' : 'muted'}`}>\n      <FAIcon icon={icon} />\n    </div>\n  );\n  if (tooltip && fired) {\n    item = (\n      <Tooltip placement=\"bottom\" content={tooltip}>\n        {item}\n      </Tooltip>\n    );\n  }\n  return link ? <a href={link} target=\"_blank\">{item}</a> : item;\n}\n","import React, { PureComponent } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { GFTimeRange, ZBXEvent, ZBXAcknowledge } from '../../types';\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\nconst EVENT_POINT_SIZE = 16;\nconst INNER_POINT_SIZE = 0.6;\nconst HIGHLIGHTED_POINT_SIZE = 1.1;\nconst EVENT_REGION_HEIGHT = Math.round(EVENT_POINT_SIZE * 0.6);\n\nexport interface ProblemTimelineProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  okColor?: string;\n  problemColor?: string;\n  eventRegionHeight?: number;\n  eventPointSize?: number;\n}\n\ninterface ProblemTimelineState {\n  width: number;\n  highlightedEvent?: ZBXEvent | null;\n  highlightedRegion?: number | null;\n  showEventInfo?: boolean;\n  eventInfo?: EventInfo;\n}\n\ninterface EventInfo {\n  timestamp?: number;\n  duration?: number;\n  message?: string;\n}\n\nexport default class ProblemTimeline extends PureComponent<ProblemTimelineProps, ProblemTimelineState> {\n  rootRef: any;\n  sortedEvents: ZBXEvent[];\n\n  static defaultProps = {\n    okColor: DEFAULT_OK_COLOR,\n    problemColor: DEFAULT_PROBLEM_COLOR,\n    eventRegionHeight: EVENT_REGION_HEIGHT,\n    eventPointSize: EVENT_POINT_SIZE,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      highlightedEvent: null,\n      highlightedRegion: null,\n      showEventInfo: false,\n      eventInfo: {}\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.rootRef && prevState.width !== this.rootRef.clientWidth) {\n      const width = this.rootRef.clientWidth;\n      this.setState({ width });\n    }\n  }\n\n  setRootRef = ref => {\n    this.rootRef = ref;\n    const width = ref && ref.clientWidth || 0;\n    this.setState({ width });\n  }\n\n  handlePointHighlight = (index: number, secondIndex?: number) => {\n    const event: ZBXEvent = this.sortedEvents[index];\n    const regionToHighlight = this.getRegionToHighlight(index);\n    let duration: number;\n    if (secondIndex !== undefined) {\n      duration = this.getEventDuration(index, secondIndex);\n    }\n    this.setState({\n      highlightedEvent: event,\n      showEventInfo: true,\n      highlightedRegion: regionToHighlight,\n      eventInfo: {\n        duration\n      }\n    });\n    // this.showEventInfo(event);\n  }\n\n  handlePointUnHighlight = () => {\n    this.setState({ showEventInfo: false, highlightedRegion: null });\n  }\n\n  handleAckHighlight = (ack: ZBXAcknowledge, index: number) => {\n    this.setState({\n      showEventInfo: true,\n      eventInfo: {\n        timestamp: Number(ack.clock),\n        message: ack.message,\n      }\n    });\n  }\n\n  handleAckUnHighlight = () => {\n    this.setState({ showEventInfo: false });\n  }\n\n  showEventInfo = (event: ZBXEvent) => {\n    this.setState({ highlightedEvent: event, showEventInfo: true });\n  }\n\n  hideEventInfo = () => {\n    this.setState({ showEventInfo: false });\n  }\n\n  getRegionToHighlight = (index: number): number => {\n    const event = this.sortedEvents[index];\n    const regionToHighlight = event.value === '1' ? index + 1 : index;\n    return regionToHighlight;\n  }\n\n  getEventDuration(firstIndex: number, secondIndex: number): number {\n    return Math.abs(Number(this.sortedEvents[firstIndex].clock) - Number(this.sortedEvents[secondIndex].clock)) * 1000;\n  }\n\n  sortEvents() {\n    const events = _.sortBy(this.props.events, e => Number(e.clock));\n    this.sortedEvents = events;\n    return events;\n  }\n\n  getEventAcks(events: ZBXEvent[]): ZBXAcknowledge[] {\n    const acks: ZBXAcknowledge[] = [];\n    for (const event of events) {\n      if (event.acknowledges) {\n        for (const ack of event.acknowledges) {\n          acks.push(ack);\n        }\n      }\n    }\n    return _.sortBy(acks, ack => Number(ack.clock));\n  }\n\n  render() {\n    if (!this.rootRef) {\n      return <div className=\"event-timeline\" ref={this.setRootRef} />;\n    }\n\n    const { timeRange, eventPointSize, eventRegionHeight } = this.props;\n    const events = this.sortEvents();\n    const acknowledges = this.getEventAcks(events);\n    const boxWidth = this.state.width + eventPointSize;\n    const boxHeight = Math.round(eventPointSize * 2.5);\n    const width = boxWidth - eventPointSize;\n    const padding = Math.round(eventPointSize / 2);\n    const pointsYpos = eventRegionHeight / 2;\n    const timelineYpos = Math.round(boxHeight / 2 - eventPointSize / 2);\n\n    return (\n      <div className=\"event-timeline\" ref={this.setRootRef} style={{ transform: `translate(${-padding}px, 0)`}}>\n        <TimelineInfoContainer className=\"timeline-info-container\"\n          event={this.state.highlightedEvent}\n          eventInfo={this.state.eventInfo}\n          show={this.state.showEventInfo}\n          left={padding}\n      />\n        <svg className=\"event-timeline-canvas\" viewBox={`0 0 ${boxWidth} ${boxHeight}`}>\n          <defs>\n            <TimelineSVGFilters />\n          </defs>\n          <g className=\"event-timeline-group\" transform={`translate(${padding}, ${timelineYpos})`}>\n            <g className=\"event-timeline-regions\" filter=\"url(#boxShadow)\">\n              <TimelineRegions\n                events={events}\n                timeRange={timeRange}\n                width={width}\n                height={eventRegionHeight}\n                highlightedRegion={this.state.highlightedRegion}\n              />\n            </g>\n            <g className=\"timeline-acknowledges\" transform={`translate(0, ${pointsYpos})`}>\n              <TimelineAcks\n                acknowledges={acknowledges}\n                timeRange={timeRange}\n                width={width}\n                size={eventPointSize}\n                onHighlight={this.handleAckHighlight}\n                onUnHighlight={this.handleAckUnHighlight}\n              />\n            </g>\n            <g className=\"timeline-points\" transform={`translate(0, ${pointsYpos})`}>\n              <TimelinePoints\n                events={events}\n                timeRange={timeRange}\n                width={width}\n                pointSize={eventPointSize}\n                onPointHighlight={this.handlePointHighlight}\n                onPointUnHighlight={this.handlePointUnHighlight}\n              />\n            </g>\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nfunction TimelineSVGFilters() {\n  return (\n    <React.Fragment>\n      <filter id=\"dropShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"2\" />\n        <feOffset dx=\"1\" dy=\"1\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"boxShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\" />\n        <feComponentTransfer>\n          <feFuncA type=\"linear\" slope=\"0.7\" />\n        </feComponentTransfer>\n        <feOffset dx=\"1\" dy=\"1\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"glowShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"timelinePointBlur\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\" result=\"blurOut\" />\n      </filter>\n    </React.Fragment>\n  );\n}\n\ninterface TimelineInfoContainerProps {\n  event?: ZBXEvent | null;\n  eventInfo?: EventInfo | null;\n  show?: boolean;\n  left?: number;\n  className?: string;\n}\n\nclass TimelineInfoContainer extends PureComponent<TimelineInfoContainerProps> {\n  static defaultProps = {\n    left: 0,\n    className: '',\n    show: false,\n  };\n\n  render() {\n    const { event, eventInfo, show, className, left } = this.props;\n    let infoItems, durationItem;\n    if (event) {\n      const ts = moment(Number(event.clock) * 1000);\n      const tsFormatted = ts.format('HH:mm:ss');\n      infoItems = [\n        <span key=\"ts\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Time:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{tsFormatted}</span>\n        </span>\n      ];\n    }\n    if (eventInfo && eventInfo.duration) {\n      const duration = eventInfo.duration;\n      const durationFormatted = moment.utc(duration).format('HH:mm:ss');\n      durationItem = (\n        <span key=\"duration\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Duration:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{durationFormatted}</span>\n        </span>\n      );\n    }\n    if (eventInfo && eventInfo.timestamp) {\n      const ts = moment(eventInfo.timestamp * 1000);\n      const tsFormatted = ts.format('HH:mm:ss');\n      infoItems = [\n        <span key=\"ts\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Time:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{tsFormatted}</span>\n        </span>\n      ];\n    }\n\n    const containerStyle: React.CSSProperties = { left };\n    if (!show) {\n      containerStyle.opacity = 0;\n    }\n\n    return (\n      <div className={className} style={containerStyle}>\n        <div>\n          {infoItems}\n        </div>\n        <div>\n          {durationItem}\n        </div>\n        {eventInfo && eventInfo.message &&\n          <div>\n            <span key=\"duration\" className=\"event-timestamp\">\n              <span className=\"event-timestamp-label\">Message:&nbsp;</span>\n              <span className=\"event-timestamp-value\">{eventInfo.message}</span>\n            </span>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\ninterface TimelineRegionsProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  width: number;\n  height: number;\n  okColor?: string;\n  problemColor?: string;\n  highlightedRegion?: number | null;\n}\n\nclass TimelineRegions extends PureComponent<TimelineRegionsProps> {\n  static defaultProps = {\n    highlightedRegion: null,\n  };\n\n  render() {\n    const { events, timeRange, width, height, highlightedRegion } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n\n    let firstItem: React.ReactNode;\n    if (events.length) {\n      const firstTs = events.length ? Number(events[0].clock) : timeTo;\n      const duration = (firstTs - timeFrom) / range;\n      const regionWidth = Math.round(duration * width);\n      const highlighted = highlightedRegion === 0;\n      const valueClass = `problem-event--${events[0].value !== '1' ? 'problem' : 'ok'}`;\n      const className = `problem-event-region ${valueClass} ${highlighted ? 'highlighted' : ''}`;\n      const firstEventAttributes = {\n        x: 0,\n        y: 0,\n        width: regionWidth,\n        height: height,\n      };\n      firstItem = (\n        <rect key='0' className={className} {...firstEventAttributes}></rect>\n      );\n    }\n\n    const eventsIntervalItems = events.map((event, index) => {\n      const ts = Number(event.clock);\n      const nextTs = index < events.length - 1 ? Number(events[index + 1].clock) : timeTo;\n      const duration = (nextTs - ts) / range;\n      const regionWidth = Math.round(duration * width);\n      const posLeft = Math.round((ts - timeFrom) / range * width);\n      const highlighted = highlightedRegion && highlightedRegion - 1 === index;\n      const valueClass = `problem-event--${event.value === '1' ? 'problem' : 'ok'}`;\n      const className = `problem-event-region ${valueClass} ${highlighted ? 'highlighted' : ''}`;\n      const attributes = {\n        x: posLeft,\n        y: 0,\n        width: regionWidth,\n        height: height,\n      };\n\n      return (\n        <rect key={`${event.eventid}-${index}`} className={className} {...attributes} />\n      );\n    });\n\n    return [\n      firstItem,\n      eventsIntervalItems\n    ];\n  }\n}\n\ninterface TimelinePointsProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  width: number;\n  pointSize: number;\n  okColor?: string;\n  problemColor?: string;\n  highlightRegion?: boolean;\n  onPointHighlight?: (index: number, secondIndex?: number) => void;\n  onPointUnHighlight?: () => void;\n}\n\ninterface TimelinePointsState {\n  order: number[];\n  highlighted: number[];\n}\n\nclass TimelinePoints extends PureComponent<TimelinePointsProps, TimelinePointsState> {\n  static defaultProps = {\n    highlightRegion: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { order: [], highlighted: [] };\n  }\n\n  bringToFront = (indexes: number[], highlight = false) => {\n    const { events } = this.props;\n    let order = events.map((v, i) => i);\n    order = moveToEnd(order, indexes);\n    const highlighted = highlight ? indexes : null;\n    this.setState({ order, highlighted });\n  }\n\n  highlightPoint = (index: number) => () => {\n    let pointsToHighlight = [index];\n    if (this.props.onPointHighlight) {\n      if (this.props.highlightRegion) {\n        pointsToHighlight = this.getRegionEvents(index);\n        const secondIndex = pointsToHighlight.length === 2 ? pointsToHighlight[1] : undefined;\n        this.props.onPointHighlight(index, secondIndex);\n      } else {\n        this.props.onPointHighlight(index);\n      }\n    }\n    this.bringToFront(pointsToHighlight, true);\n  }\n\n  getRegionEvents(index: number) {\n    const events = this.props.events;\n    const event = events[index];\n    if (event.value === '1' && index < events.length ) {\n      // Problem event\n      for (let i = index; i < events.length; i++) {\n        if (events[i].value === '0') {\n          const okEventIndex = i;\n          return [index, okEventIndex];\n        }\n      }\n    } else if (event.value === '0' && index > 0) {\n      // OK event\n      let lastProblemIndex = null;\n      for (let i = index - 1; i >= 0; i--) {\n        if (events[i].value === '1') {\n          lastProblemIndex = i;\n        } else {\n          break;\n        }\n      }\n      if (lastProblemIndex !== null) {\n        return [index, lastProblemIndex];\n      }\n    }\n    return [index];\n  }\n\n  unHighlightPoint = index => () => {\n    if (this.props.onPointUnHighlight) {\n      this.props.onPointUnHighlight();\n    }\n    const order = this.props.events.map((v, i) => i);\n    this.setState({ order, highlighted: [] });\n  }\n\n  render() {\n    const { events, timeRange, width, pointSize } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n    const pointR = pointSize / 2;\n    const eventsItems = events.map((event, i) => {\n      const ts = Number(event.clock);\n      const posLeft = Math.round((ts - timeFrom) / range * width - pointR);\n      const className = `problem-event-item problem-event--${event.value === '1' ? 'problem' : 'ok'}`;\n      const highlighted = this.state.highlighted.indexOf(i) !== -1;\n\n      return (\n        <TimelinePoint\n          key={`${event.eventid}-${i}`}\n          className={className}\n          x={posLeft}\n          r={pointR}\n          highlighted={highlighted}\n          onPointHighlight={this.highlightPoint(i)}\n          onPointUnHighlight={this.unHighlightPoint(i)}\n        />\n      );\n    });\n    if (this.state.order.length) {\n      return this.state.order.map(i => eventsItems[i]);\n    }\n    return eventsItems;\n  }\n}\n\ninterface TimelinePointProps {\n  x: number;\n  r: number;\n  color?: string;\n  highlighted?: boolean;\n  className?: string;\n  onPointHighlight?: () => void;\n  onPointUnHighlight?: () => void;\n}\n\ninterface TimelinePointState {\n  highlighted?: boolean;\n}\n\nclass TimelinePoint extends PureComponent<TimelinePointProps, TimelinePointState> {\n  constructor(props) {\n    super(props);\n    this.state = { highlighted: false };\n  }\n\n  componentDidUpdate(prevProps: TimelinePointProps) {\n    // Update component after reordering to make animation working\n    if (prevProps.highlighted !== this.props.highlighted) {\n      this.setState({ highlighted: this.props.highlighted });\n    }\n  }\n\n  handleMouseOver = () => {\n    if (this.props.onPointHighlight) {\n      this.props.onPointHighlight();\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (this.props.onPointUnHighlight) {\n      this.props.onPointUnHighlight();\n    }\n  }\n\n  render() {\n    const { x } = this.props;\n    const r = this.state.highlighted ? Math.round(this.props.r * HIGHLIGHTED_POINT_SIZE) : this.props.r;\n    const cx = x + this.props.r;\n    const rInner = Math.round(r * INNER_POINT_SIZE);\n    const className = `${this.props.className || ''} ${this.state.highlighted ? 'highlighted' : ''}`;\n    return (\n      <g className={className}\n        transform={`translate(${cx}, 0)`}\n        filter=\"url(#dropShadow)\"\n        onMouseOver={this.handleMouseOver}\n        onMouseLeave={this.handleMouseLeave}>\n        <circle cx={0} cy={0} r={r} className=\"point-border\" />\n        <circle cx={0} cy={0} r={rInner} className=\"point-core\" />\n      </g>\n    );\n  }\n}\n\ninterface TimelineAcksProps {\n  acknowledges: ZBXAcknowledge[];\n  timeRange: GFTimeRange;\n  width: number;\n  size: number;\n  onHighlight?: (ack: ZBXAcknowledge, index: number) => void;\n  onUnHighlight?: () => void;\n}\n\ninterface TimelineAcksState {\n  order: number[];\n  highlighted: number;\n}\n\nclass TimelineAcks extends PureComponent<TimelineAcksProps, TimelineAcksState> {\n  constructor(props) {\n    super(props);\n    this.state = { order: [], highlighted: null };\n  }\n\n  handleHighlight = (index: number) => () => {\n    if (this.props.onHighlight) {\n      const ack = this.props.acknowledges[index];\n      this.props.onHighlight(ack, index);\n    }\n    this.bringToFront(index, true);\n  }\n\n  handleUnHighlight = () => {\n    if (this.props.onUnHighlight) {\n      this.props.onUnHighlight();\n    }\n    const order = this.props.acknowledges.map((v, i) => i);\n    this.setState({ order, highlighted: null });\n  }\n\n  bringToFront = (index: number, highlight = false) => {\n    const { acknowledges } = this.props;\n    let order = acknowledges.map((v, i) => i);\n    order = moveToEnd(order, [index]);\n    const highlighted = highlight ? index : null;\n    this.setState({ order, highlighted });\n  }\n\n  render() {\n    const { acknowledges, timeRange, width, size } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n    const pointR = size / 2;\n    const eventsItems = acknowledges.map((ack, i) => {\n      const ts = Number(ack.clock);\n      const posLeft = Math.round((ts - timeFrom) / range * width - pointR);\n      const highlighted = this.state.highlighted === i;\n\n      return (\n        <TimelineAck\n          key={`${ack.eventid}-${i}`}\n          x={posLeft}\n          r={pointR}\n          highlighted={highlighted}\n          onHighlight={this.handleHighlight(i)}\n          onUnHighlight={this.handleUnHighlight}\n        />\n      );\n    });\n    if (this.state.order.length) {\n      return this.state.order.map(i => eventsItems[i]);\n    }\n    return eventsItems;\n  }\n}\n\ninterface TimelineAckProps {\n  x: number;\n  r: number;\n  highlighted?: boolean;\n  onHighlight?: () => void;\n  onUnHighlight?: () => void;\n}\n\ninterface TimelineAckState {\n  highlighted?: boolean;\n}\n\nclass TimelineAck extends PureComponent<TimelineAckProps, TimelineAckState> {\n  constructor(props) {\n    super(props);\n    this.state = { highlighted: false };\n  }\n\n  componentDidUpdate(prevProps: TimelineAckProps) {\n    // Update component after reordering to make animation working\n    if (prevProps.highlighted !== this.props.highlighted) {\n      this.setState({ highlighted: this.props.highlighted });\n    }\n  }\n\n  handleHighlight = () => {\n    if (this.props.onHighlight) {\n      this.props.onHighlight();\n    }\n  }\n\n  handleUnHighlight = () => {\n    if (this.props.onUnHighlight) {\n      this.props.onUnHighlight();\n    }\n  }\n\n  render() {\n    const { x } = this.props;\n    const r = this.state.highlighted ? Math.round(this.props.r * HIGHLIGHTED_POINT_SIZE) : this.props.r;\n    const cx = x + this.props.r;\n    const rInner = Math.round(r * INNER_POINT_SIZE);\n    const className = `problem-event-ack ${this.state.highlighted ? 'highlighted' : ''}`;\n    return (\n      <g className={className}\n        transform={`translate(${cx}, 0)`}\n        filter=\"url(#dropShadow)\"\n        onMouseOver={this.handleHighlight}\n        onMouseLeave={this.handleUnHighlight}>\n        <circle cx={0} cy={0} r={r} className=\"point-border\" />\n        <circle cx={0} cy={0} r={rInner} className=\"point-core\" />\n      </g>\n    );\n  }\n}\n\nfunction moveToEnd<T>(array: T[], itemsToMove: number[]): T[] {\n  const removed = _.pullAt(array, itemsToMove);\n  removed.reverse();\n  array.push(...removed);\n  return array;\n}\n","import React, { PureComponent } from 'react';\nimport ReactTable from 'react-table-6';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { isNewProblem } from '../../utils';\nimport EventTag from '../EventTag';\nimport { ProblemDetails } from './ProblemDetails';\nimport { AckProblemData } from '../AckModal';\nimport { GFHeartIcon, FAIcon } from '../../../components';\nimport { ProblemsPanelOptions, GFTimeRange, RTCell, TriggerSeverity, RTResized } from '../../types';\nimport { ProblemDTO, ZBXEvent, ZBXTag, ZBXAlert } from '../../../datasource-zabbix/types';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { AckCell } from './AckCell';\n\nexport interface ProblemListProps {\n  problems: ProblemDTO[];\n  panelOptions: ProblemsPanelOptions;\n  loading?: boolean;\n  timeRange?: GFTimeRange;\n  pageSize?: number;\n  fontSize?: number;\n  panelId?: number;\n  getProblemEvents: (problem: ProblemDTO) => Promise<ZBXEvent[]>;\n  getProblemAlerts: (problem: ProblemDTO) => Promise<ZBXAlert[]>;\n  getScripts: (problem: ProblemDTO) => Promise<ZBXScript[]>;\n  onExecuteScript: (problem: ProblemDTO, scriptid: string) => Promise<APIExecuteScriptResponse>;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => void;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n  onPageSizeChange?: (pageSize: number, pageIndex: number) => void;\n  onColumnResize?: (newResized: RTResized) => void;\n  texts: any;\n}\n\ninterface ProblemListState {\n  expanded: any;\n  expandedProblems: any;\n  page: number;\n}\n\nexport default class ProblemList extends PureComponent<ProblemListProps, ProblemListState> {\n  rootWidth: number;\n  rootRef: any;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: {},\n      expandedProblems: {},\n      page: 0,\n    };\n  }\n\n  setRootRef = ref => {\n    this.rootRef = ref;\n  }\n\n  handleProblemAck = (problem: ProblemDTO, data: AckProblemData) => {\n    return this.props.onProblemAck(problem, data);\n  }\n\n  onExecuteScript = (problem: ProblemDTO, data: AckProblemData) => {\n  }\n\n  handlePageSizeChange = (pageSize, pageIndex) => {\n    if (this.props.onPageSizeChange) {\n      this.props.onPageSizeChange(pageSize, pageIndex);\n    }\n  }\n\n  handleResizedChange = (newResized, event) => {\n    if (this.props.onColumnResize) {\n      this.props.onColumnResize(newResized);\n    }\n  }\n\n  handleExpandedChange = (expanded: any, event: any) => {\n    const { problems, pageSize } = this.props;\n    const { page } = this.state;\n    const expandedProblems = {};\n\n    for (const row in expanded) {\n      const rowId = Number(row);\n      const problemIndex = pageSize * page + rowId;\n      if (expanded[row] && problemIndex < problems.length) {\n        const expandedProblem = problems[problemIndex].eventid;\n        if (expandedProblem) {\n          expandedProblems[expandedProblem] = true;\n        }\n      }\n    }\n\n    const nextExpanded = { ...this.state.expanded };\n    nextExpanded[page] = expanded;\n\n    const nextExpandedProblems = { ...this.state.expandedProblems };\n    nextExpandedProblems[page] = expandedProblems;\n\n    this.setState({\n      expanded: nextExpanded,\n      expandedProblems: nextExpandedProblems,\n    });\n  }\n\n  handleTagClick = (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  getExpandedPage = (page: number) => {\n    const { problems, pageSize } = this.props;\n    const { expandedProblems } = this.state;\n    const expandedProblemsPage = expandedProblems[page] || {};\n    const expandedPage = {};\n\n    // Go through the page and search for expanded problems\n    const startIndex = pageSize * page;\n    const endIndex = Math.min(startIndex + pageSize, problems.length);\n    for (let i = startIndex; i < endIndex; i++) {\n      const problem = problems[i];\n      if (expandedProblemsPage[problem.eventid]) {\n        expandedPage[i - startIndex] = {};\n      }\n    }\n\n    return expandedPage;\n  }\n\n  buildColumns() {\n    const result = [];\n    const options = this.props.panelOptions;\n    const highlightNewerThan = options.highlightNewEvents && options.highlightNewerThan;\n    const statusCell = props => StatusCell(props, highlightNewerThan);\n    const statusIconCell = props => StatusIconCell(props, highlightNewerThan);\n    const hostNameCell = props => <HostCell name={props.original.host} maintenance={props.original.maintenance} />;\n    const hostTechNameCell = props => <HostCell name={props.original.hostTechName} maintenance={props.original.maintenance} />;\n\n    const columns = [\n      { Header: 'Host', id: 'host', show: options.hostField, Cell: hostNameCell },\n      { Header: 'Host (Technical Name)', id: 'hostTechName', show: options.hostTechNameField, Cell: hostTechNameCell },\n      { Header: 'Host Groups', accessor: 'groups', show: options.hostGroups, Cell: GroupCell },\n      { Header: 'Proxy', accessor: 'proxy', show: options.hostProxy },\n      {\n        Header: 'Severity', show: options.severityField, className: 'problem-severity', width: 120,\n        accessor: problem => problem.priority,\n        id: 'severity',\n        Cell: props => SeverityCell(props, options.triggerSeverity, options.markAckEvents, options.ackEventColor, options.okEventColor),\n      },\n      {\n        Header: '', id: 'statusIcon', show: options.statusIcon, className: 'problem-status-icon', width: 50,\n        accessor: 'value',\n        Cell: statusIconCell,\n      },\n      { Header: 'Status', accessor: 'value', show: options.statusField, width: 100, Cell: statusCell },\n      { Header: 'Problem', accessor: 'description', minWidth: 200, Cell: ProblemCell},\n      {\n        Header: 'Ack', id: 'ack', show: options.ackField, width: 70,\n        Cell: props => <AckCell {...props} />\n      },\n      {\n        Header: 'Tags', accessor: 'tags', show: options.showTags, className: 'problem-tags',\n        Cell: props => <TagCell {...props} onTagClick={this.handleTagClick} />\n      },\n      {\n        Header: 'Age', className: 'problem-age', width: 100, show: options.ageField, accessor: 'timestamp',\n        id: 'age',\n        Cell: AgeCell,\n      },\n      {\n        Header: 'Time', className: 'last-change', width: 150, accessor: 'timestamp',\n        id: 'lastchange',\n        Cell: props => LastChangeCell(props, options.customLastChangeFormat && options.lastChangeFormat),\n      },\n      { Header: '', className: 'custom-expander', width: 60, expander: true, Expander: CustomExpander },\n    ];\n    for (const column of columns) {\n      if (column.show || column.show === undefined) {\n        delete column.show;\n        result.push(column);\n      }\n    }\n    return result;\n  }\n\n  render() {\n    const columns = this.buildColumns();\n    this.rootWidth = this.rootRef && this.rootRef.clientWidth;\n    const { pageSize, fontSize, panelOptions } = this.props;\n    const panelClass = classNames('panel-problems', { [`font-size--${fontSize}`]: fontSize });\n    let pageSizeOptions = [5, 10, 20, 25, 50, 100];\n    if (pageSize) {\n      pageSizeOptions.push(pageSize);\n      pageSizeOptions = _.uniq(_.sortBy(pageSizeOptions));\n    }\n\n    return (\n      <div className={panelClass} ref={this.setRootRef}>\n        <ReactTable\n          data={this.props.problems}\n          columns={columns}\n          defaultPageSize={10}\n          pageSize={pageSize}\n          pageSizeOptions={pageSizeOptions}\n          resized={panelOptions.resizedColumns}\n          minRows={0}\n          loading={this.props.loading}\n          noDataText=\"No problems found\"\n          SubComponent={props =>\n            <ProblemDetails {...props}\n              rootWidth={this.rootWidth}\n              timeRange={this.props.timeRange}\n              showTimeline={panelOptions.problemTimeline}\n              panelId={this.props.panelId}\n              getProblemEvents={this.props.getProblemEvents}\n              getProblemAlerts={this.props.getProblemAlerts}\n              getScripts={this.props.getScripts}\n              onProblemAck={this.handleProblemAck}\n              onExecuteScript={this.props.onExecuteScript}\n              onTagClick={this.handleTagClick}\n              subRows={false}\n            />\n          }\n          expanded={this.getExpandedPage(this.state.page)}\n          onExpandedChange={this.handleExpandedChange}\n          onPageChange={page => this.setState({ page })}\n          onPageSizeChange={this.handlePageSizeChange}\n          onResizedChange={this.handleResizedChange}\n        />\n      </div>\n    );\n  }\n}\n\ninterface HostCellProps {\n  name: string;\n  maintenance: boolean;\n}\n\nconst HostCell: React.FC<HostCellProps> = ({ name, maintenance }) => {\n  return (\n    <div>\n      <span style={{ paddingRight: '0.4rem' }}>{name}</span>\n      {maintenance && <FAIcon customClass=\"fired\" icon=\"wrench\" />}\n    </div>\n  );\n};\n\nfunction SeverityCell(\n  props: RTCell<ProblemDTO>,\n  problemSeverityDesc: TriggerSeverity[],\n  markAckEvents?: boolean,\n  ackEventColor?: string,\n  okColor = DEFAULT_OK_COLOR\n  ) {\n  const problem = props.original;\n  let color: string;\n\n  let severityDesc: TriggerSeverity;\n  const severity = Number(problem.severity);\n  severityDesc = _.find(problemSeverityDesc, s => s.priority === severity);\n  if (problem.severity && problem.value === '1') {\n    severityDesc = _.find(problemSeverityDesc, s => s.priority === severity);\n  }\n\n  color = problem.value === '0' ? okColor : severityDesc.color;\n\n  // Mark acknowledged triggers with different color\n  if (markAckEvents && problem.acknowledged === \"1\") {\n    color = ackEventColor;\n  }\n\n  return (\n    <div className='severity-cell' style={{ background: color }}>\n      {severityDesc.severity}\n    </div>\n  );\n}\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\n\nfunction StatusCell(props: RTCell<ProblemDTO>, highlightNewerThan?: string) {\n  const status = props.value === '0' ? 'RESOLVED' : 'PROBLEM';\n  const color = props.value === '0' ? DEFAULT_OK_COLOR : DEFAULT_PROBLEM_COLOR;\n  let newProblem = false;\n  if (highlightNewerThan) {\n    newProblem = isNewProblem(props.original, highlightNewerThan);\n  }\n  return (\n    <span className={newProblem ? 'problem-status--new' : ''} style={{ color }}>{status}</span>\n  );\n}\n\nfunction StatusIconCell(props: RTCell<ProblemDTO>, highlightNewerThan?: string) {\n  const status = props.value === '0' ? 'ok' : 'problem';\n  let newProblem = false;\n  if (highlightNewerThan) {\n    newProblem = isNewProblem(props.original, highlightNewerThan);\n  }\n  const className = classNames('zbx-problem-status-icon',\n    { 'problem-status--new': newProblem },\n    { 'zbx-problem': props.value === '1' },\n    { 'zbx-ok': props.value === '0' },\n  );\n  return <GFHeartIcon status={status} className={className} />;\n}\n\nfunction GroupCell(props: RTCell<ProblemDTO>) {\n  let groups = \"\";\n  if (props.value && props.value.length) {\n    groups = props.value.map(g => g.name).join(', ');\n  }\n  return (\n    <span>{groups}</span>\n  );\n}\n\nfunction ProblemCell(props: RTCell<ProblemDTO>) {\n  const comments = props.original.comments;\n  return (\n    <div>\n      <span className=\"problem-description\">{props.value}</span>\n      {/* {comments && <FAIcon icon=\"file-text-o\" customClass=\"comments-icon\" />} */}\n    </div>\n  );\n}\n\nfunction AgeCell(props: RTCell<ProblemDTO>) {\n  const problem = props.original;\n  const timestamp = moment.unix(problem.timestamp);\n  const age = timestamp.fromNow(true);\n  return <span>{age}</span>;\n}\n\nfunction LastChangeCell(props: RTCell<ProblemDTO>, customFormat?: string) {\n  const DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n  const problem = props.original;\n  const timestamp = moment.unix(problem.timestamp);\n  const format = customFormat || DEFAULT_TIME_FORMAT;\n  const lastchange = timestamp.format(format);\n  return <span>{lastchange}</span>;\n}\n\ninterface TagCellProps extends RTCell<ProblemDTO> {\n  onTagClick: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\nclass TagCell extends PureComponent<TagCellProps> {\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.original.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  render() {\n    const tags = this.props.value || [];\n    return [\n      tags.map(tag => <EventTag key={tag.tag + tag.value} tag={tag} onClick={this.handleTagClick} /> )\n    ];\n  }\n}\n\nfunction CustomExpander(props: RTCell<any>) {\n  return (\n    <span className={props.isExpanded ? \"expanded\" : \"\"}>\n      <i className=\"fa fa-info-circle\"></i>\n    </span>\n  );\n}\n","export const texts = {\n  fi: {\n    critical: 'Kriittinen',\n    major: 'Vakava',\n    average: 'Keskitaso',\n    minor: 'Matala',\n    info: 'Informatiivinen',\n    unknown: 'Tuntematon',\n    noActiveAlerts: 'Ei aktiivisia hiriit',\n    acknowledgeProblem: 'Kommentoi',\n    time: 'Aika',\n    user: 'Kyttj',\n    comments: 'Kommentit',\n    message: 'Viesti',\n    pressEnterToSubmit: 'Paina Enter lhettksesi',\n    update: 'Pivit',\n    cancel: 'Peruuta',\n    changeSeverity: 'Muuta prioriteettia',\n    acknowledge: 'Merkitse ksitellyksi',\n    closeProblem: 'Sulje hiri',\n    lastedFor: 'kestnyt',\n    information: 'Tietoja',\n    title: 'Otsikko',\n    description: 'Kuvaus',\n    priority: 'Prioriteetti',\n    eventId: 'Hirin ID',\n    startTime: 'Alkamisaika',\n    endTime: 'Pttymisaika',\n    duration: 'Kesto',\n    acknowledgements: 'Kommentit',\n    dashboard: 'Tilannekuvankym',\n    urlInfo: 'Siirry mriteltyyn tilannekuvaan',\n    search: 'Haku',\n    selectCategory: 'Valitse kategoria',\n    selectPriority: 'Valitse prioriteetti',\n    testIncident: 'Testihiri',\n    hideAlertsInMaintenance: 'Piilota huollossa olevien palvelimien hirit',\n    sortBy: 'Lajitteluperuste'\n  },\n  en: {\n    critical: 'Critical',\n    major: 'Major',\n    average: 'Average',\n    minor: 'Minor',\n    info: 'Informative',\n    unknown: 'Unknown',\n    noActiveAlerts: 'No active alerts',\n    acknowledgeProblem: 'Acknowledge Problem',\n    time: 'Time',\n    user: 'User',\n    comments: 'Comments',\n    message: 'Message',\n    pressEnterToSubmit: 'Press Enter to submit',\n    update: 'Update',\n    cancel: 'Cancel',\n    changeSeverity: 'Change severity',\n    acknowledge: 'Acknowledge',\n    closeProblem: 'Close problem',\n    lastedFor: 'lasted for',\n    information: 'Information',\n    title: 'Title',\n    description: 'Description',\n    priority: 'Priority',\n    eventId: 'Event ID',\n    startTime: 'Start time',\n    endTime: 'End time',\n    duration: 'Duration',\n    acknowledgements: 'Acknowledgements',\n    dashboard: 'Dashboard',\n    urlInfo: 'Open defined dashboard',\n    search: 'Search',\n    selectCategory: 'Select category',\n    selectPriority: 'Select priority',\n    testIncident: 'Test Incident',\n    hideAlertsInMaintenance: 'Hide alerts from hosts under maintenance',\n    sortBy: 'Sort by',\n  },\n};\n","import _ from 'lodash';\nimport { getNextRefIdChar } from './utils';\nimport { ShowProblemTypes } from '../datasource-zabbix/types';\n\n// Actual schema version\nexport const CURRENT_SCHEMA_VERSION = 8;\n\nexport const getDefaultTarget = (targets?) => {\n  return {\n    group: {filter: \"\"},\n    host: {filter: \"\"},\n    application: {filter: \"\"},\n    trigger: {filter: \"\"},\n    tags: {filter: \"\"},\n    proxy: {filter: \"\"},\n    refId: getNextRefIdChar(targets),\n  };\n};\n\nexport function getDefaultTargetOptions() {\n  return {\n    hostsInMaintenance: true,\n  };\n}\n\nexport function migratePanelSchema(panel) {\n  if (isDefaultPanel(panel)) {\n    return panel;\n  }\n\n  if (isEmptyPanel(panel)) {\n    delete panel.targets;\n    return panel;\n  }\n\n  const schemaVersion = getSchemaVersion(panel);\n  // panel.schemaVersion = CURRENT_SCHEMA_VERSION;\n\n  if (schemaVersion < 2) {\n    panel.datasources = [panel.datasource];\n    panel.targets = {};\n    panel.targets[panel.datasources[0]] = panel.triggers;\n\n    // delete old props\n    delete panel.triggers;\n    delete panel.datasource;\n  }\n\n  if (schemaVersion < 3) {\n    // delete old props\n    delete panel.lastChangeField;\n    delete panel.infoField;\n    delete panel.scroll;\n    delete panel.hideHostsInMaintenance;\n  }\n\n  if (schemaVersion < 5) {\n    if (panel.targets && !_.isEmpty(panel.targets)) {\n      _.each(panel.targets, (target) => {\n        _.defaultsDeep(target, getDefaultTarget());\n      });\n    }\n  }\n\n  if (schemaVersion < 6) {\n    if (panel.showEvents && panel.showEvents.value === '1') {\n      panel.showEvents.value = 1;\n    }\n  }\n\n  if (schemaVersion < 7) {\n    const updatedTargets = [];\n    for (const targetKey in panel.targets) {\n      const target = panel.targets[targetKey];\n      if (!isEmptyTarget(target) && !isInvalidTarget(target, targetKey)) {\n        updatedTargets.push({\n          ...target,\n          datasource: targetKey,\n        });\n      }\n    }\n    for (const target of updatedTargets) {\n      if (!target.refId) {\n        target.refId = getNextRefIdChar(updatedTargets);\n      }\n    }\n    panel.targets = updatedTargets;\n    delete panel.datasources;\n  }\n\n  if (schemaVersion < 8) {\n    if (panel.targets.length === 1) {\n      if (panel.targets[0].datasource) {\n        panel.datasource = panel.targets[0].datasource;\n        delete panel.targets[0].datasource;\n      }\n    } else if (panel.targets.length > 1) {\n      // Mixed data sources\n      panel.datasource = '-- Mixed --';\n    }\n    for (const target of panel.targets) {\n      // set queryType to PROBLEMS\n      target.queryType = 5;\n      target.showProblems = migrateShowEvents(panel);\n      target.options = migrateOptions(panel);\n\n      _.defaults(target.options, getDefaultTargetOptions());\n      _.defaults(target, { tags: { filter: \"\" } });\n    }\n\n    panel.sortProblems = panel.sortTriggersBy?.value === 'priority' ? 'priority' : 'lastchange';\n\n    delete panel.showEvents;\n    delete panel.showTriggers;\n    delete panel.hostsInMaintenance;\n    delete panel.sortTriggersBy;\n  }\n\n  return panel;\n}\n\nfunction migrateOptions(panel) {\n  let acknowledged = 2;\n  if (panel.showTriggers === 'acknowledged') {\n    acknowledged = 1;\n  } else if (panel.showTriggers === 'unacknowledged') {\n    acknowledged = 0;\n  }\n\n  // Default limit in Zabbix\n  let limit = 1001;\n  if (panel.limit && panel.limit !== 100) {\n    limit = panel.limit;\n  }\n\n  return {\n    hostsInMaintenance: panel.hostsInMaintenance,\n    sortProblems: panel.sortTriggersBy?.value === 'priority' ? 'priority' : 'default',\n    minSeverity: 0,\n    acknowledged: acknowledged,\n    limit: limit,\n  };\n}\n\nfunction migrateShowEvents(panel) {\n  if (panel.showEvents?.value === 1) {\n    return ShowProblemTypes.Problems;\n  } else if (panel.showEvents?.value === 0 || panel.showEvents?.value?.length > 1) {\n    return ShowProblemTypes.History;\n  } else {\n    return ShowProblemTypes.Problems;\n  }\n}\n\nfunction getSchemaVersion(panel) {\n  return panel.schemaVersion || 1;\n}\n\nfunction isEmptyPanel(panel) {\n  return !panel.datasource && !panel.datasources && !panel.triggers && isEmptyTargets(panel.targets);\n}\n\nfunction isEmptyTargets(targets) {\n  return !targets || (_.isArray(targets) && (targets.length === 0 || targets.length === 1 && _.isEmpty(targets[0])));\n}\n\nfunction isDefaultPanel(panel) {\n  return panel.targets && panel.targets.length === 1 && isDefaultTarget(panel.targets[0]);\n}\n\nfunction isDefaultTarget(target) {\n  return !target.group?.filter && !target.host?.filter && !target.application?.filter && !target.trigger?.filter && !target.queryType;\n}\n\nfunction isEmptyTarget(target) {\n  return !target || !(target.group && target.host && target.application && target.trigger);\n}\n\nfunction isInvalidTarget(target, targetKey) {\n  return target && target.refId === 'A' && targetKey === '0';\n}\n","/**\n * Grafana-Zabbix\n * Zabbix plugin for Grafana.\n * http://github.com/alexanderzobnin/grafana-zabbix\n *\n * Trigger panel.\n * This feature sponsored by CORE IT\n * http://www.coreit.fr\n *\n * Copyright 2015 Alexander Zobnin alexanderzobnin@gmail.com\n * Licensed under the Apache License, Version 2.0\n */\n\nimport { TriggerPanelCtrl } from './triggers_panel_ctrl';\nimport { loadPluginCss } from 'grafana/app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/iiris-zabbix-triggers-panel/css/grafana-zabbix.dark.css',\n  light: 'plugins/iiris-zabbix-triggers-panel/css/grafana-zabbix.light.css'\n});\n\nexport {\n  TriggerPanelCtrl as PanelCtrl\n};\n","/**\n * Grafana-Zabbix\n * Zabbix plugin for Grafana.\n * http://github.com/alexanderzobnin/grafana-zabbix\n *\n * Trigger panel.\n * This feature sponsored by CORE IT\n * http://www.coreit.fr\n *\n * Copyright 2015 Alexander Zobnin alexanderzobnin@gmail.com\n * Licensed under the Apache License, Version 2.0\n */\n\nclass TriggerPanelOptionsCtrl {\n\n  /** @ngInject */\n  constructor($scope) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n\n    this.layouts = [\n      { text: 'Table', value: 'table' },\n      { text: 'List',  value: 'list' }\n    ];\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.ackFilters = [\n      'all triggers',\n      'unacknowledged',\n      'acknowledged'\n    ];\n\n    this.sortingOptions = [\n      { text: 'Default', value: 'default' },\n      { text: 'Last change', value: 'lastchange' },\n      { text: 'Severity',    value: 'priority' },\n    ];\n\n    this.showEventsFields = [\n      { text: 'All',      value: [0,1] },\n      { text: 'OK',       value: [0] },\n      { text: 'Problems', value: 1 }\n    ];\n  }\n}\n\nexport function triggerPanelOptionsTab() {\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/plugins/iiris-zabbix-triggers-panel/panel-triggers/partials/options_tab.html',\n    controller: TriggerPanelOptionsCtrl,\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash';\nimport { getDataSourceSrv } from '@grafana/runtime';\nimport { PanelEvents } from '@grafana/data';\nimport * as dateMath from 'grafana/app/core/utils/datemath';\nimport * as utils from '../datasource-zabbix/utils';\nimport { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\nimport { triggerPanelOptionsTab } from './options_tab';\nimport { migratePanelSchema, CURRENT_SCHEMA_VERSION } from './migrations';\nimport ProblemList from './components/Problems/Problems';\nimport AlertList from './components/AlertList/AlertList';\nimport { ProblemDTO } from 'datasource-zabbix/types';\nimport { texts } from './localization';\n\nconst PROBLEM_EVENTS_LIMIT = 100;\n\nexport const DEFAULT_TARGET = {\n  group: {filter: \"\"},\n  host: {filter: \"\"},\n  application: {filter: \"\"},\n  trigger: {filter: \"\"},\n  tags: {filter: \"\"},\n  proxy: {filter: \"\"},\n  showProblems: 'problems',\n};\n\nexport const DEFAULT_SEVERITY = [\n  { priority: 0, severity: 'Tuntematon',      color: 'rgb(108, 108, 108)', show: false},\n  { priority: 1, severity: 'Informatiivinen', color: 'rgb(120, 158, 183)', show: true},\n  { priority: 2, severity: 'Matala',          color: 'rgb(175, 180, 36)', show: true},\n  { priority: 3, severity: 'Keskitaso',       color: 'rgb(255, 137, 30)', show: true},\n  { priority: 4, severity: 'Vakava',          color: 'rgb(255, 101, 72)', show: true},\n  { priority: 5, severity: 'Kriittinen',      color: 'rgb(215, 0, 0)', show: true},\n];\n\nexport const getDefaultSeverity = () => DEFAULT_SEVERITY;\n\nconst DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n\nexport const PANEL_DEFAULTS = {\n  schemaVersion: CURRENT_SCHEMA_VERSION,\n  targets: [{}],\n  // Fields\n  hostField: false,\n  hostTechNameField: false,\n  hostProxy: false,\n  hostGroups: false,\n  showTags: false,\n  statusField: false,\n  statusIcon: false,\n  severityField: true,\n  ackField: true,\n  ageField: true,\n  descriptionField: true,\n  descriptionAtNewLine: true,\n  // Options\n  sortProblems: 'priority',\n  limit: 10,\n  // View options\n  layout: 'list',\n  fontSize: '100%',\n  pageSize: 5,\n  problemTimeline: true,\n  highlightBackground: true,\n  highlightNewEvents: true,\n  highlightNewerThan: '1h',\n  customLastChangeFormat: false,\n  lastChangeFormat: \"\",\n  resizedColumns: [],\n  // Triggers severity and colors\n  triggerSeverity: getDefaultSeverity(),\n  okEventColor: 'rgb(56, 189, 113)',\n  ackEventColor: 'rgb(56, 219, 156)',\n  markAckEvents: false,\n  hideAlertsInMaintenanceByDefault: false,\n  hideAlertFilters: false,\n};\n\nconst triggerStatusMap = {\n  '0': 'OK',\n  '1': 'PROBLEM'\n};\n\nexport function getSeverityOptions(texts: any) {\n  return [\n    {value: 0, label: texts.unknown},\n    {value: 1, label: texts.info},\n    {value: 2, label: texts.minor},\n    {value: 3, label: texts.average},\n    {value: 4, label: texts.major},\n    {value: 5, label: texts.critical}\n  ]\n};\n\nexport class TriggerPanelCtrl extends MetricsPanelCtrl {\n  scope: any;\n  useDataFrames: boolean;\n  triggerStatusMap: any;\n  defaultTimeFormat: string;\n  pageIndex: number;\n  renderData: any[];\n  problems: any[];\n  contextSrv: any;\n  static templateUrl: string;\n  storedLanguage: string;\n\n  /** @ngInject */\n  constructor($scope, $injector, $timeout) {\n    super($scope, $injector);\n    this.scope = $scope;\n    this.$timeout = $timeout;\n\n    // Tell Grafana do not convert data frames to table or series\n    this.useDataFrames = true;\n\n    this.triggerStatusMap = triggerStatusMap;\n    this.defaultTimeFormat = DEFAULT_TIME_FORMAT;\n    this.pageIndex = 0;\n    this.range = {};\n    this.renderData = [];\n\n    this.panel = migratePanelSchema(this.panel);\n    _.defaultsDeep(this.panel, _.cloneDeep(PANEL_DEFAULTS));\n\n    // this.events.on(PanelEvents.render, this.onRender.bind(this));\n    this.events.on('data-frames-received', this.onDataFramesReceived.bind(this));\n    this.events.on(PanelEvents.dataSnapshotLoad, this.onDataSnapshotLoad.bind(this));\n    this.events.on(PanelEvents.editModeInitialized, this.onInitEditMode.bind(this));\n\n    document.addEventListener('iiris-maintenance-update', this.reRenderProblems.bind(this), false);\n\n    // Check for Iiris language\n    this.storedLanguage = localStorage.getItem('iiris_language') || 'fi';\n    PANEL_DEFAULTS.triggerSeverity[0].severity = texts[this.storedLanguage].unknown;\n    PANEL_DEFAULTS.triggerSeverity[1].severity = texts[this.storedLanguage].info;\n    PANEL_DEFAULTS.triggerSeverity[2].severity = texts[this.storedLanguage].minor;\n    PANEL_DEFAULTS.triggerSeverity[3].severity = texts[this.storedLanguage].average;\n    PANEL_DEFAULTS.triggerSeverity[4].severity = texts[this.storedLanguage].major;\n    PANEL_DEFAULTS.triggerSeverity[5].severity = texts[this.storedLanguage].critical;\n  }\n\n  onInitEditMode() {\n    // Update schema version to prevent migration on up-to-date targets\n    this.panel.schemaVersion = CURRENT_SCHEMA_VERSION;\n    this.addEditorTab('Options', triggerPanelOptionsTab);\n  }\n\n  onDataFramesReceived(data: any): Promise<any> {\n    this.range = this.timeSrv.timeRange();\n    let problems = [];\n\n    if (data && data.length) {\n      for (const dataFrame of data) {\n        try {\n          const values = dataFrame.fields[0].values;\n          if (values.toArray) {\n            problems.push(values.toArray());\n          } else if (values.length > 0) {\n            // On snapshot mode values is a plain Array, not ArrayVector\n            problems.push(values);\n          }\n        } catch (error) {\n          console.log(error);\n          return Promise.reject(error);\n        }\n      }\n    }\n\n    this.loading = false;\n    problems = _.flatten(problems);\n    problems = this.getExpandHostMacros(problems);\n    this.problems = problems;\n    return this.renderProblems(problems);\n  }\n\n  getExpandHostMacros(problems) {\n    const fields = ['url', 'name', 'description', 'comments'];\n    return _.map(problems, problem => {\n      const expandedProblem = _.cloneDeep(problem);\n      if (problem.hosts && problem.hosts.length > 0) {\n        fields.forEach(field => {\n          if (expandedProblem[field]) {\n            expandedProblem[field] = expandedProblem[field].replace(/\\{HOST.HOST\\}/g, problem.hosts[0].host);\n            expandedProblem[field] = expandedProblem[field].replace(/\\{HOST.NAME\\}/g, problem.hosts[0].name);\n          }\n        });\n      }\n      return expandedProblem;\n    });\n  }\n\n  onDataSnapshotLoad(snapshotData) {\n    return this.onDataFramesReceived(snapshotData);\n  }\n\n  reRenderProblems() {\n    if (this.problems) {\n      this.renderProblems(this.problems);\n    }\n  }\n\n  setPanelError(err, defaultError = \"Request Error\") {\n    this.inspector = { error: err };\n    this.error = err.message || defaultError;\n    if (err.data) {\n      if (err.data.message) {\n        this.error = err.data.message;\n      }\n      if (err.data.error) {\n        this.error = err.data.error;\n      }\n    }\n\n    // this.events.emit(PanelEvents.dataError, err);\n    console.log('Panel data error:', err);\n  }\n\n  renderProblems(problems) {\n    let triggers = _.cloneDeep(problems);\n\n    triggers = _.map(triggers, this.formatTrigger.bind(this));\n    triggers = this.filterProblems(triggers);\n    triggers = this.sortTriggers(triggers);\n\n    this.renderData = triggers;\n\n    return this.$timeout(() => {\n      return super.render(triggers);\n    });\n  }\n\n  filterProblems(problems) {\n    let problemsList = _.cloneDeep(problems);\n\n    // Filter acknowledged triggers\n    if (this.panel.showTriggers === 'unacknowledged') {\n      problemsList = _.filter(problemsList, trigger => {\n        return !(trigger.acknowledges && trigger.acknowledges.length);\n      });\n    } else if (this.panel.showTriggers === 'acknowledged') {\n      problemsList = _.filter(problemsList, trigger => {\n        return trigger.acknowledges && trigger.acknowledges.length;\n      });\n    }\n\n    // Filter triggers by severity\n    problemsList = _.filter(problemsList, problem => {\n      if (problem.severity) {\n        return this.panel.triggerSeverity[problem.severity].show;\n      } else {\n        return this.panel.triggerSeverity[problem.priority].show;\n      }\n    });\n\n    return problemsList;\n  }\n\n  sortTriggers(problems: ProblemDTO[]) {\n    if (this.panel.sortProblems === 'priority') {\n      problems = _.orderBy(problems, ['severity', 'timestamp', 'eventid'], ['desc', 'desc', 'desc']);\n    } else if (this.panel.sortProblems === 'lastchange') {\n      problems = _.orderBy(problems, ['timestamp', 'severity', 'eventid'], ['desc', 'desc', 'desc']);\n    }\n    return problems;\n  }\n\n  formatTrigger(zabbixTrigger) {\n    const trigger = _.cloneDeep(zabbixTrigger);\n\n    // Set host and proxy that the trigger belongs\n    if (trigger.hosts && trigger.hosts.length) {\n      const host = trigger.hosts[0];\n      trigger.host = host.name;\n      trigger.hostTechName = host.host;\n      if (host.proxy) {\n        trigger.proxy = host.proxy;\n      }\n    }\n\n    // Set tags if present\n    if (trigger.tags && trigger.tags.length === 0) {\n      trigger.tags = null;\n    }\n\n    // Handle multi-line description\n    /* if (trigger.comments) {\n      trigger.comments = trigger.comments.replace('\\n', '<br>');\n    } */\n\n    trigger.lastchangeUnix = Number(trigger.lastchange);\n    return trigger;\n  }\n\n  parseTags(tagStr) {\n    if (!tagStr) {\n      return [];\n    }\n\n    let tags = _.map(tagStr.split(','), (tag) => tag.trim());\n    tags = _.map(tags, (tag) => {\n      const tagParts = tag.split(':');\n      return {tag: tagParts[0].trim(), value: tagParts[1].trim()};\n    });\n    return tags;\n  }\n\n  tagsToString(tags) {\n    return _.map(tags, (tag) => `${tag.tag}:${tag.value}`).join(', ');\n  }\n\n  addTagFilter(tag, datasource) {\n    for (const target of this.panel.targets) {\n      if (target.datasource === datasource || this.panel.datasource === datasource) {\n        const tagFilter = target.tags.filter;\n        let targetTags = this.parseTags(tagFilter);\n        const newTag = {tag: tag.tag, value: tag.value};\n        targetTags.push(newTag);\n        targetTags = _.uniqWith(targetTags, _.isEqual);\n        const newFilter = this.tagsToString(targetTags);\n        target.tags.filter = newFilter;\n      }\n    }\n    this.refresh();\n  }\n\n  removeTagFilter(tag, datasource) {\n    const matchTag = t => t.tag === tag.tag && t.value === tag.value;\n    for (const target of this.panel.targets) {\n      if (target.datasource === datasource || this.panel.datasource === datasource) {\n        const tagFilter = target.tags.filter;\n        let targetTags = this.parseTags(tagFilter);\n        _.remove(targetTags, matchTag);\n        targetTags = _.uniqWith(targetTags, _.isEqual);\n        const newFilter = this.tagsToString(targetTags);\n        target.tags.filter = newFilter;\n      }\n    }\n    this.refresh();\n  }\n\n  getProblemEvents(problem) {\n    const triggerids = [problem.triggerid];\n    const timeFrom = Math.ceil(dateMath.parse(this.range.from) / 1000);\n    const timeTo = Math.ceil(dateMath.parse(this.range.to) / 1000);\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getEvents(triggerids, timeFrom, timeTo, [0, 1], PROBLEM_EVENTS_LIMIT);\n    });\n  }\n\n  getProblemAlerts(problem: ProblemDTO) {\n    if (!problem.eventid) {\n      return Promise.resolve([]);\n    }\n    const eventids = [problem.eventid];\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getEventAlerts(eventids);\n    });\n  }\n\n  getProblemScripts(problem: ProblemDTO) {\n    const hostid = problem.hosts?.length ? problem.hosts[0].hostid : null;\n\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getScripts([hostid]);\n    });\n  }\n\n  getAlertIconClassBySeverity(triggerSeverity) {\n    let iconClass = 'icon-gf-online';\n    if (triggerSeverity.priority >= 2) {\n      iconClass = 'icon-gf-critical';\n    }\n    return iconClass;\n  }\n\n  resetResizedColumns() {\n    this.panel.resizedColumns = [];\n    this.render();\n  }\n\n  acknowledgeProblem(problem: ProblemDTO, message, action, severity) {\n    const eventid = problem.eventid;\n    const grafana_user = this.contextSrv.user.name;\n    const ack_message = grafana_user + ' (Grafana): ' + message;\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      const userIsEditor = this.contextSrv.isEditor || this.contextSrv.isGrafanaAdmin;\n      if (datasource.disableReadOnlyUsersAck && !userIsEditor) {\n        return Promise.reject({message: 'You have no permissions to acknowledge events.'});\n      }\n      if (eventid) {\n        return datasource.zabbix.acknowledgeEvent(eventid, ack_message, action, severity);\n      } else {\n        return Promise.reject({message: 'Trigger has no events. Nothing to acknowledge.'});\n      }\n    })\n    .then(this.refresh.bind(this))\n    .catch((err) => {\n      this.setPanelError(err);\n      return Promise.reject(err);\n    });\n  }\n\n  executeScript(problem: ProblemDTO, scriptid: string) {\n    const hostid = problem.hosts?.length ? problem.hosts[0].hostid : null;\n\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.executeScript(hostid, scriptid);\n    });\n  }\n\n  handlePageSizeChange(pageSize, pageIndex) {\n    this.panel.pageSize = pageSize;\n    this.pageIndex = pageIndex;\n    this.scope.$apply(() => {\n      this.render();\n    });\n  }\n\n  handleColumnResize(newResized) {\n    this.panel.resizedColumns = newResized;\n    this.scope.$apply(() => {\n      this.render();\n    });\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    const panel = ctrl.panel;\n\n    ctrl.events.on(PanelEvents.render, (renderData) => {\n      renderData = renderData || this.renderData;\n      renderPanel(renderData);\n      ctrl.renderingCompleted();\n    });\n\n    function renderPanel(problems) {\n      const timeFrom = Math.ceil(dateMath.parse(ctrl.range.from) / 1000);\n      const timeTo = Math.ceil(dateMath.parse(ctrl.range.to) / 1000);\n\n      const fontSize = parseInt(panel.fontSize.slice(0, panel.fontSize.length - 1), 10);\n      const fontSizeProp = fontSize && fontSize !== 100 ? fontSize : null;\n\n      const pageSize = panel.pageSize || 10;\n      const loading = ctrl.loading && (!problems || !problems.length);\n\n      const panelOptions = {};\n      for (const prop in PANEL_DEFAULTS) {\n        panelOptions[prop] = ctrl.panel[prop];\n      }\n      panelOptions['triggerSeverity'] = PANEL_DEFAULTS.triggerSeverity;\n      const problemsListProps = {\n        problems,\n        panelOptions,\n        timeRange: { timeFrom, timeTo },\n        loading,\n        pageSize,\n        fontSize: fontSizeProp,\n        panelId: ctrl.panel.id,\n        getProblemEvents: ctrl.getProblemEvents.bind(ctrl),\n        getProblemAlerts: ctrl.getProblemAlerts.bind(ctrl),\n        getScripts: ctrl.getProblemScripts.bind(ctrl),\n        onPageSizeChange: ctrl.handlePageSizeChange.bind(ctrl),\n        onColumnResize: ctrl.handleColumnResize.bind(ctrl),\n        onProblemAck: (trigger, data) => {\n          const { message, action, severity } = data;\n          return ctrl.acknowledgeProblem(trigger, message, action, severity);\n        },\n        onExecuteScript: ctrl.executeScript.bind(ctrl),\n        onTagClick: (tag, datasource, ctrlKey, shiftKey) => {\n          if (ctrlKey || shiftKey) {\n            ctrl.removeTagFilter(tag, datasource);\n          } else {\n            ctrl.addTagFilter(tag, datasource);\n          }\n        },\n        texts: texts[ctrl.storedLanguage]\n      };\n\n      let problemsReactElem;\n      if (panel.layout === 'list') {\n        problemsReactElem = React.createElement(AlertList, problemsListProps);\n      } else {\n        problemsReactElem = React.createElement(ProblemList, problemsListProps);\n      }\n\n      const panelContainerElem = elem.find('.panel-content');\n      if (panelContainerElem && panelContainerElem.length) {\n        ReactDOM.render(problemsReactElem, panelContainerElem[0]);\n      } else {\n        ReactDOM.render(problemsReactElem, elem[0]);\n      }\n    }\n  }\n}\n\nTriggerPanelCtrl.templateUrl = 'public/plugins/iiris-zabbix-triggers-panel/panel-triggers/partials/module.html';\n","import _ from 'lodash';\nimport moment from 'moment';\nimport { DataQuery } from '@grafana/data';\nimport * as utils from '../datasource-zabbix/utils';\nimport { ProblemDTO } from 'datasource-zabbix/types';\n\nexport function isNewProblem(problem: ProblemDTO, highlightNewerThan: string): boolean {\n  try {\n    const highlightIntervalMs = utils.parseInterval(highlightNewerThan);\n    const durationSec = (Date.now() - problem.timestamp * 1000);\n    return durationSec < highlightIntervalMs;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n\nexport function formatLastChange(lastchangeUnix: number, customFormat?: string) {\n  const timestamp = moment.unix(lastchangeUnix);\n  const format = customFormat || DEFAULT_TIME_FORMAT;\n  const lastchange = timestamp.format(format);\n  return lastchange;\n}\n\nexport const getNextRefIdChar = (queries: DataQuery[]): string => {\n  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n  return _.find(letters, refId => {\n    return _.every(queries, other => {\n      return other.refId !== refId;\n    });\n  });\n};\n\nexport type UrlQueryMap = Record<string, any>;\n\nexport function renderUrl(path: string, query: UrlQueryMap | undefined): string {\n  if (query && Object.keys(query).length > 0) {\n    path += '?' + toUrlParams(query);\n  }\n  return path;\n}\n\nfunction encodeURIComponentAsAngularJS(val: string, pctEncodeSpaces?: boolean) {\n  return encodeURIComponent(val)\n    .replace(/%25/gi, '%2525') // Double-encode % symbol to make it properly decoded in Explore\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%3B/gi, ';')\n    .replace(/%20/g, pctEncodeSpaces ? '%20' : '+');\n}\n\nfunction toUrlParams(a: any) {\n  const s: any[] = [];\n  const rbracket = /\\[\\]$/;\n\n  const isArray = (obj: any) => {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  const add = (k: string, v: any) => {\n    v = typeof v === 'function' ? v() : v === null ? '' : v === undefined ? '' : v;\n    if (typeof v !== 'boolean') {\n      s[s.length] = encodeURIComponentAsAngularJS(k, true) + '=' + encodeURIComponentAsAngularJS(v, true);\n    } else {\n      s[s.length] = encodeURIComponentAsAngularJS(k, true);\n    }\n  };\n\n  const buildParams = (prefix: string, obj: any) => {\n    let i, len, key;\n\n    if (prefix) {\n      if (isArray(obj)) {\n        for (i = 0, len = obj.length; i < len; i++) {\n          if (rbracket.test(prefix)) {\n            add(prefix, obj[i]);\n          } else {\n            buildParams(prefix, obj[i]);\n          }\n        }\n      } else if (obj && String(obj) === '[object Object]') {\n        for (key in obj) {\n          buildParams(prefix + '[' + key + ']', obj[key]);\n        }\n      } else {\n        add(prefix, obj);\n      }\n    } else if (isArray(obj)) {\n      for (i = 0, len = obj.length; i < len; i++) {\n        add(obj[i].name, obj[i].value);\n      }\n    } else {\n      for (key in obj) {\n        buildParams(key, obj[key]);\n      }\n    }\n    return s;\n  };\n\n  return buildParams('', a).join('&');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_emotion__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_utils_datemath__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_plugins_sdk__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;"],"sourceRoot":""}